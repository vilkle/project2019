{"version":3,"sources":["SubmissionPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/scripts/UI/panel","sourcesContent":["import { BaseUI } from \"../BaseUI\";\nimport { UIManager } from \"../../Manager/UIManager\";\nimport { NetWork } from \"../../Http/NetWork\";\nimport { LogWrap } from \"../../Utils/LogWrap\";\nimport { UIHelp } from \"../../Utils/UIHelp\";\nimport { DaAnData } from \"../../Data/DaAnData\";\n \nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SubmissionPanel extends BaseUI {\n\n    protected static className = \"SubmissionPanel\";\n    start() {\n\n    }\n\n    onQueDingBtnClick(event) {\n        this.DetectionNet();\n    }\n\n    onQuXiaoBtnClick(event){\n        UIManager.getInstance().closeUI(SubmissionPanel);\n    }\n\n    //提交或者修改答案\n    DetectionNet() {\n       let data = JSON.stringify({ types: DaAnData.getInstance().types, checkpointsNum: DaAnData.getInstance().checkpointsNum, picArr: DaAnData.getInstance().picArr, range : DaAnData.getInstance().range});\n        NetWork.getInstance().httpRequest(NetWork.GET_TITLE + \"?title_id=\" + NetWork.title_id, \"GET\", \"application/json;charset=utf-8\", function (err, response) {\n            if (!err) {\n                response = JSON.parse(response);\n                if (response.data.courseware_content == null) {\n                    LogWrap.log(response.data);\n                   this.AddNet(data);\n                } else {\n                    NetWork.courseware_id = response.data.courseware_id;\n                    this.ModifyNet(data);\n                    LogWrap.log(\"data modify===\", data);\n                }\n            } else {\n                UIManager.getInstance().closeUI(SubmissionPanel);\n            }\n        }.bind(this), null);\n    }\n\n    //添加答案信息\n    AddNet(gameDataJson) {\n        let data = { title_id: NetWork.title_id, courseware_content: gameDataJson };\n        NetWork.getInstance().httpRequest(NetWork.ADD, \"POST\", \"application/json;charset=utf-8\", function (err, response) {\n            if (!err) {\n                // LogWrap.log(response);\n                UIHelp.showTip(\"答案提交成功\");\n                UIManager.getInstance().closeUI(SubmissionPanel);\n            }\n        }.bind(this), JSON.stringify(data));\n    }\n\n    //修改课件\n    ModifyNet(gameDataJson) {\n        let jsonData = { courseware_id: NetWork.courseware_id, courseware_content: gameDataJson };\n        cc.log(\"-------------------////\");\n        cc.log(jsonData);\n        NetWork.getInstance().httpRequest(NetWork.MODIFY, \"POST\", \"application/json;charset=utf-8\", function (err, response) {\n            if (!err) {\n                // LogWrap.log(response);\n                UIHelp.showTip(\"答案修改成功\");\n                UIManager.getInstance().closeUI(SubmissionPanel);\n            }\n        }.bind(this), JSON.stringify(jsonData));\n    }\n}\n"]}