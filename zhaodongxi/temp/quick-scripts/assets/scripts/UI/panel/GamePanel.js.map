{"version":3,"sources":["GamePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/scripts/UI/panel","sourcesContent":["import { BaseUI } from \"../BaseUI\";\nimport {DaAnData} from \"../../Data/DaAnData\";\nimport {UIHelp} from \"../../Utils/UIHelp\";\nimport {AudioManager} from \"../../Manager/AudioManager\";\nimport {NetWork} from \"../../Http/NetWork\";\nimport { ConstValue } from \"../../Data/ConstValue\";\nimport { UIManager } from \"../../Manager/UIManager\";\nimport SubmissionPanel from \"./SubmissionPanel\";\nimport {ListenerManager} from \"../../Manager/ListenerManager\";\nimport {ListenerType} from \"../../Data/ListenerType\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GamePanel extends BaseUI {\n\n    protected static className = \"GamePanel\";\n\n    @property(cc.Label)\n    label1 : cc.Label;\n    @property(cc.Label)\n    label2 : cc.Label;\n    @property(cc.Button)\n    back : cc.Button;\n    @property(cc.Button)\n    submit : cc.Button;\n    @property(cc.Node)\n    bg : cc.Node;\n    @property(cc.Node)\n    picBoard : cc.Node;\n    @property(cc.Node)\n    answerBoard : cc.Node;\n    @property(cc.Node)\n    board : cc.Node;\n    @property(cc.Button)\n    sure : cc.Button;\n    @property([cc.SpriteFrame])\n    sourceSFArr : cc.SpriteFrame[] = [];\n    @property([cc.Node])\n    itemArr : cc.Node[] = [];\n    @property([cc.Node])\n    answerItemArr : cc.Node[] = [];\n    @property(cc.Layout)\n    layout : cc.Layout;\n\n    dirSFNumArr : Array<number> = new Array<number>();\n    answerSFNumArr : Array<number> = new Array<number>();\n    answerPosNumArr : Array<number> = new Array<number>();\n    playerItemArr : Array<number> = new Array<number>();\n    playerItemSFArr : Array<number> = new Array<number>();\n    playerErroArr : Array<number> = new Array<number>();//位选中的正确答案\n    answerNum : number;\n    checkpointsNum : number;\n    checkpoints : number;\n    horizonNum : number;\n    verticalNum : number;\n    cueNum : number;\n    creatItemNum : number;\n    rightNum : number;\n\n     onLoad () {\n        this.isTecher();\n    }\n\n    start() {\n    //    this.creatPicBoard();\n    //    this.creatAnswerBoard();\n    }\n   \n\n    onDestroy() {\n       \n    }\n\n    onShow() {\n    }\n    // update (dt) {}\n\n    isTecher() {\n        if(ConstValue.IS_TEACHER) {\n            this.back.node.active = true;\n            this.submit.node.active = false\n            //this.submit.interactable = false;\n            this.initData();\n            this.loadSourcePFArr(); \n        }else {\n            this.getNet();\n            this.back.node.active = false;\n            this.submit.node.active = false;\n        }\n    }\n\n    action(loadItemNum : number) {\n        if(loadItemNum == this.horizonNum * this.verticalNum + this.answerNum) {\n            this.picBoard.runAction(cc.moveTo(1, cc.v2(-250, 0)));\n            this.board.runAction(cc.moveTo(1, cc.v2(0, 0)));\n            this.sure.node.runAction(cc.moveTo(1, cc.v2(720, -310)));\n            AudioManager.getInstance().playSound(\"begin\", false);\n        }\n    }\n\n    initData() {\n\n        switch(DaAnData.getInstance().range) {\n            case 1:\n               this.horizonNum = 4;\n               this.verticalNum = 4;\n                break;\n            case 2:\n                this.horizonNum = 5;\n                this.verticalNum = 4;\n                break;\n            case 3:\n                this.horizonNum = 6;\n                this.verticalNum = 4;\n                break;\n            case 4:\n                this.horizonNum = 7;\n                this.verticalNum = 4;\n                break;\n            case 5:\n                this.horizonNum = 8;\n                this.verticalNum = 4;\n                break;\n            case 6:\n                this.horizonNum = 4;\n                this.verticalNum = 5;\n                break;\n            case 7:\n                this.horizonNum = 5;\n                this.verticalNum = 5;\n                break;\n            case 8:\n                this.horizonNum = 6;\n                this.verticalNum = 5;\n                break;\n            case 9:\n                this.horizonNum = 7;\n                this.verticalNum = 5;\n                break;\n            case 10:\n                this.horizonNum = 8;\n                this.verticalNum = 5;\n                break;\n            default:\n                break;\n        }  \n        switch(DaAnData.getInstance().types) {\n            case 1:\n               this.answerNum = 1;\n                break;\n            case 2:\n                this.answerNum = 4;\n                this.rightNum = 4;\n                break;\n            default:\n                break;\n        }\n        this.creatItemNum = 0;\n        this.cueNum = 0;\n        this.checkpoints = 0;\n        this.checkpointsNum = DaAnData.getInstance().checkpointsNum;\n        this.label1.string = String(1);\n        this.label2.string = String(this.checkpointsNum);\n    }\n\n    loadSourcePFArr() {\n        var num = 0;\n        DaAnData.getInstance().picArr.forEach((value, index, array) => {\n            switch(value) {\n                case 1:\n                   cc.loader.loadResDir(\"images/gameUI/pic/animal\", cc.SpriteFrame, function (err, assets, urls) {\n                    if(!err){\n                        for(var i = 0; i < assets.length; i++){\n                                this.sourceSFArr.push(assets[i]);\n                            }\n                            num ++;\n                            if(num == DaAnData.getInstance().picArr.length)\n                            {\n                                this.loadDirSFArr();\n                                \n                            }\n                        }\n                    }.bind(this));\n                    break;\n                case 2:\n                    cc.loader.loadResDir(\"images/gameUI/pic/food\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 3:\n                    cc.loader.loadResDir(\"images/gameUI/pic/figure\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 4:\n                    cc.loader.loadResDir(\"images/gameUI/pic/dailyuse\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 5:\n                    cc.loader.loadResDir(\"images/gameUI/pic/number\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 6:\n                    cc.loader.loadResDir(\"images/gameUI/pic/stationery\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 7:\n                    cc.loader.loadResDir(\"images/gameUI/pic/clothes\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                case 8:\n                    cc.loader.loadResDir(\"images/gameUI/pic/letter\", cc.SpriteFrame, function (err, assets, urls) {\n                        for(var i = 0; i < assets.length; i++){\n                            this.sourceSFArr.push(assets[i]);\n                        }\n                        num ++;\n                        if(num == DaAnData.getInstance().picArr.length)\n                        {\n                            this.loadDirSFArr();\n                        }\n                    }.bind(this));\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n\n    loadDirSFArr() {\n        var totalNum = this.horizonNum * this.verticalNum;\n        for(let i = 0; i < totalNum; i ++) {\n            let randomNum = this.getRandomNum(0, this.sourceSFArr.length - 1);\n            this.dirSFNumArr[i] = randomNum;\n        }\n        if(this.answerNum == 1) {\n            var num = this.getRandomNum(0, totalNum - 1);\n            var randomNum = this.dirSFNumArr[num];\n            for(let i = 0; i < this.dirSFNumArr.length; i++) {\n                if(this.dirSFNumArr[i] == randomNum) {\n                    var sfNum = this.dirSFNumArr[i];\n                    this.answerPosNumArr.push(i);\n                    this.answerSFNumArr.push(sfNum);\n                }\n            }\n            this.rightNum = this.answerPosNumArr.length;\n        }else {\n            var num = this.getRandomNum(0, totalNum - 1);\n            var num1 = 0;\n            var num2 = 0;\n            var num3 = 0;\n            if(num + this.horizonNum <= totalNum - 1) {\n                num1 = num + this.horizonNum;\n                if(num + 1 <= Math.ceil(num / this.horizonNum) * this.horizonNum - 1) {\n                    num2 = num + this.horizonNum + 1;\n                    num3 = num + 1;\n                    this.answerPosNumArr[0] = num;\n                    this.answerPosNumArr[1] = num3;\n                    this.answerPosNumArr[2] = num1;\n                    this.answerPosNumArr[3] = num2;\n                }else {\n                    num2 = num + this.horizonNum - 1;\n                    num3 = num - 1;\n                    this.answerPosNumArr[0] = num3;\n                    this.answerPosNumArr[1] = num;\n                    this.answerPosNumArr[2] = num2;\n                    this.answerPosNumArr[3] = num1;\n                }\n            }else {\n                num1 = num - this.horizonNum;\n                if(num + 1 <= Math.ceil(num / this.horizonNum) * this.horizonNum - 1) {\n                    num2 = num - this.horizonNum + 1;\n                    num3 = num + 1;\n                    this.answerPosNumArr[0] = num1;\n                    this.answerPosNumArr[1] = num2;\n                    this.answerPosNumArr[2] = num;\n                    this.answerPosNumArr[3] = num3;\n                }else {\n                    num2 = num - this.horizonNum - 1;\n                    num3 = num - 1;\n                    this.answerPosNumArr[0] = num2;\n                    this.answerPosNumArr[1] = num1;\n                    this.answerPosNumArr[2] = num3;\n                    this.answerPosNumArr[3] = num;\n                }\n            }\n            this.answerSFNumArr[0] = this.dirSFNumArr[this.answerPosNumArr[0]];\n            this.answerSFNumArr[1] = this.dirSFNumArr[this.answerPosNumArr[1]];\n            this.answerSFNumArr[2] = this.dirSFNumArr[this.answerPosNumArr[2]];\n            this.answerSFNumArr[3] = this.dirSFNumArr[this.answerPosNumArr[3]];\n        }\n        this.creatAnswerBoard();\n        this.creatPicBoard();\n    }\n\n    getRandomNum(min : number, max : number):number {\n        var range = max - min;\n        var rand = Math.random();\n        return(min + Math.round(rand * range));\n    }\n\n    creatPicBoard() {\n        this.creatBoard(this.horizonNum, this.verticalNum, this.picBoard, false);\n    }\n\n    creatAnswerBoard() {\n        switch(this.answerNum) {\n            case 1:\n                this.creatBoard(1, 1, this.answerBoard, true);\n                break;\n            case 4:\n                this.creatBoard(2, 2, this.answerBoard, true);\n                break;\n            default:\n                break;\n        }\n    }\n\n\n    creatBoard(horizonNum : number, verticalNum : number, board : cc.Node, isAnswer ?: any ){\n        for(let v = 0; v < verticalNum; v++) {\n            for(let h = 0; h < horizonNum; h++) {\n                let item : cc.Node; \n                let num = v * horizonNum + h;\n                let x = h * 175 + 175 / 2;\n                let y = v * 175 + 175 / 2;\n                let ischange = false;\n                if(horizonNum%2) {\n                    if(num%2) {\n                        ischange = true;\n                    }\n                }else {\n                    if(v%2){\n                        if(num%2 == 0) {\n                            ischange = true;\n                        }\n                    }\n                    else{\n                        if(num%2 != 0) {\n                            ischange = true;\n                        }\n                    }\n                }\n\n                this.creatItem( num, cc.v2(x,y), ischange, board, isAnswer); \n               \n            }\n        }\n        var width = horizonNum * 175;\n        var height = verticalNum * 175;\n        board.getChildByName(\"bg\").width = width + 20;\n        board.getChildByName(\"bg\").height = height + 20;\n        board.getChildByName(\"node\").x = - width / 2;\n        board.getChildByName(\"node\").y = - height / 2;\n    }\n\n    creatItem(num : number, pos : cc.Vec2, isChange : boolean, board : cc.Node, isAnswer ?: any) {\n        var item : cc.Node; \n        cc.loader.loadRes(\"prefab/ui/Item/picItem\", function(err, prefab){\n            if(err) {\n                \n            }else{\n                item = cc.instantiate(prefab);\n                if(isChange){\n                    cc.loader.loadRes(\"images/gameUI/shen\", cc.SpriteFrame, function(err, spriteFrame){\n                        if(err){\n                            \n                        }else {\n                            item.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                        }\n                    }.bind(this));\n                }\n            \n                if(isAnswer){\n                    this.answerItemArr[num] = item;\n                    this.creatItemNum++;\n                    this.action(this.creatItemNum);\n                    item.getChildByName(\"pic\").getComponent(cc.Sprite).spriteFrame = this.sourceSFArr[this.answerSFNumArr[num]];\n                }else{\n                    this.itemArr[num] = item;\n                    this.creatItemNum++;\n                    this.action(this.creatItemNum);\n                    item.getChildByName(\"bg\").on(cc.Node.EventType.TOUCH_START, function(t){\n                            if (item.getChildByName(\"box\").active == false) {\n                                //if(this.playerItemArr.length < this.rightNum) {\n                                    //if(this.playerItemSFArr.indexOf(this.dirSFNumArr[num]) == -1) {\n                                        if(item.getChildByName(\"bg\").getComponent(cc.Sprite).getState() != 1) {\n                                            AudioManager.getInstance().playSound(\"click\", false);\n                                            item.getChildByName(\"box\").active = true;\n                                            item.zIndex = 10;\n                                            this.playerItemArr.push(num);\n                                            this.playerItemSFArr.push(this.dirSFNumArr[num]);\n                                        }\n                                    //}\n                                //}\n                            }else {\n                                if(this.playerItemArr.length > 0) {\n                                    AudioManager.getInstance().playSound(\"click\", false);\n                                    item.getChildByName(\"box\").active = false;\n                                    item.zIndex = 0;\n                                    this.playerItemArr = this.playerItemArr.filter(item => item !== num);\n                                    this.playerItemSFArr = this.playerItemSFArr.filter(item => item != this.dirSFNumArr[num]);\n                                }\n                            }\n                        \n                    }.bind(this), this);\n                    item.getChildByName(\"pic\").getComponent(cc.Sprite).spriteFrame = this.sourceSFArr[this.dirSFNumArr[num]];\n                }\n                \n                item.setPosition(pos);\n                item.parent = board.getChildByName(\"node\");\n             }    \n        }.bind(this));\n    }\n\n    cueAnswer() {\n        for(let i = 0; i < this.playerItemArr.length; i++) {\n            if(this.answerPosNumArr.indexOf(this.playerItemArr[i]) == -1) {\n                this.itemArr[this.playerItemArr[i]].getChildByName(\"bg\").getComponent(cc.Sprite).setState(1);\n                this.itemArr[this.playerItemArr[i]].getChildByName(\"pic\").getComponent(cc.Sprite).setState(1);\n            }\n        }\n\n        for(let i = 0; i < this.answerPosNumArr.length; i++) {\n            if(this.playerItemArr.indexOf(this.answerPosNumArr[i]) == -1) {\n                var seq;\n                if(this.cueNum == 3) {\n                    seq = cc.sequence(cc.fadeOut(0.2),cc.fadeIn(0.2),cc.fadeOut(0.2), cc.fadeIn(0.2),cc.fadeOut(0.2), cc.fadeIn(0.2));\n                }else if(this.cueNum > 3) {\n                    seq = cc.sequence(cc.fadeOut(0.2),cc.fadeIn(0.2));\n                }\n                this.itemArr[this.answerPosNumArr[i]].runAction(seq);\n            }\n        }\n\n\n\n\n\n        this.playerErroArr = this.answerSFNumArr;\n    \n        for(let i = 0;i < this.playerItemArr.length; i++) {\n            this.playerErroArr =  this.playerErroArr.filter(item => item != this.dirSFNumArr[this.playerItemArr[i]]);\n        }\n        for(let i = 0; i < this.playerErroArr.length; i++) {\n            var index = this.answerSFNumArr.indexOf(this.playerErroArr[i]);\n            var seq;\n            if(this.cueNum == 3) {\n                seq = cc.sequence(cc.fadeOut(0.2),cc.fadeIn(0.2),cc.fadeOut(0.2), cc.fadeIn(0.2),cc.fadeOut(0.2), cc.fadeIn(0.2));\n            }else if(this.cueNum > 3) {\n                seq = cc.sequence(cc.fadeOut(0.2),cc.fadeIn(0.2));\n            }\n            this.itemArr[this.answerPosNumArr[index]].runAction(seq);\n            AudioManager.getInstance().playSound(\"erro\", false);\n        }\n    }\n\n    reset() {\n        if(this.playerItemArr.length == 0) {\n            return;\n        }\n        for(let i = 0; i < this.answerNum; i ++) {\n            this.itemArr[this.playerItemArr[i]].getChildByName(\"box\").active = false;\n            this.itemArr[this.playerItemArr[i]].zIndex = 0;\n        }\n        this.playerItemArr = [];\n        this.cueNum = 0;\n    }\n\n    nextCheckPoints() {\n       for(let i = 0; i < this.itemArr.length; i++) {\n            this.itemArr[i].destroy();\n       }\n       for(let j = 0; j < this.answerItemArr.length; j++) {\n           this.answerItemArr[j].destroy();\n       }\n       this.answerPosNumArr = [];\n       this.answerSFNumArr = [];\n       this.answerItemArr = [];\n       this.itemArr = [];\n       this.dirSFNumArr = [];\n       this.playerItemArr = [];\n       this.playerErroArr = [];\n       this.playerItemSFArr = [];\n       this.cueNum = 0;\n       this.loadDirSFArr();\n       this.creatPicBoard();\n       this.creatAnswerBoard();\n       this.label1.string = String(this.checkpoints + 1);\n    }\n\n    submisson() {\n        if(this.playerItemArr.length == 0) {\n            return;\n        }\n        var rightNum = 0;\n        for(let i = 0; i < this.playerItemArr.length; i++) {\n                if(this.answerPosNumArr.indexOf(this.playerItemArr[i]) != -1) {\n                rightNum++;\n            }\n        }\n        if(rightNum == this.rightNum && this.playerItemArr.length == this.rightNum) {\n            this.checkpoints++;\n            if(this.checkpoints < this.checkpointsNum) {\n                UIHelp.showTip(\"答对了，你真棒！\");\n                this.nextCheckPoints();\n            }else {\n                UIHelp.showTip(\"闯关成功！\");\n                if(ConstValue.IS_TEACHER) {\n                    this.submit.node.active = true;\n                }   \n                this.layout.node.on(cc.Node.EventType.TOUCH_START, function(e){\n                    e.stopPropagation();\n                });\n                //this.submit.interactable = true;\n            }\n        }else {\n            this.cueNum++;\n            if(this.cueNum == 3) {\n                //UIHelp.showTip(\"----------啊哦，请再试试吧。\");\n                this.cueAnswer();\n            }else if(this.cueNum > 3) {\n                this.cueAnswer();\n            }else {\n                UIHelp.showTip(\"啊哦，请再试试吧。\");\n            }\n        }\n        \n    }\n\n    getNet() {\n        NetWork.getInstance().httpRequest(NetWork.GET_QUESTION + \"?courseware_id=\" + NetWork.courseware_id, \"GET\", \"application/json;charset=utf-8\", function (err, response) {\n            if (!err) {\n                let response_data = JSON.parse(response);\n                if (response_data.data.courseware_content == null) {\n                } else {\n                   let data = JSON.parse(response_data.data.courseware_content);\n\n                   if(data.types) {\n                        DaAnData.getInstance().types = data.types;\n                   }\n                   if(data.checkpointsNum) {\n                        DaAnData.getInstance().checkpointsNum = data.checkpointsNum;\n                   }\n                    if(data.range) {\n                        DaAnData.getInstance().range = data.range;\n                    }\n                    if(data.picArr) {\n                        DaAnData.getInstance().picArr = data.picArr;\n                    }\n                    this.initData();\n                    this.loadSourcePFArr(); \n                    this.creatPicBoard();\n                    this.creatAnswerBoard();\n                }\n            } \n        }.bind(this), null);\n    }\n    backButton(){\n        UIManager.getInstance().closeUI(GamePanel);\n        ListenerManager.getInstance().trigger(ListenerType.OnEditStateSwitching, {state: 0}); \n    }\n    submitButton(){\n        UIManager.getInstance().openUI(SubmissionPanel);\n    }\n\n}\n"]}