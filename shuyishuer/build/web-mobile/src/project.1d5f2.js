window.__require=function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AdaptiveScreen:[function(t,e,n){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return o(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,n=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,n)},i([s({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),i([s],e.prototype,"viewWidth",void 0),i([s],e.prototype,"viewHeight",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Data/ConstValue"),i=function(){function t(){this.bgm=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.playSound=function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var a=o.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(a,cc.AudioClip,function(t,o){if(t)cc.error(t);else{var a=cc.audioEngine.play(o,e||!1,n||1);i&&i(a),r&&cc.audioEngine.setFinishCallback(a,r)}})},t.prototype.stopAudio=function(t){cc.audioEngine.stop(t)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.playBGM=function(t){if(this.bgm!=t){this.bgm=t,cc.audioEngine.stopMusic();var e=o.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(e,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=o.ConstValue.AUDIO_DIR+this.bgm;cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})},t.instance=null,t}();n.AudioManager=i,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],AudioPlayExtension:[function(t,e,n){"use strict";cc._RF.push(e,"f5171dGpWFGFZGEuFaQdUkt","AudioPlayExtension"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Manager/AudioManager"),i={"\u4f8b":"sfx_buttn","\u5b50":"sfx_erro"},r=function(){function t(){}return t.playJoinAudio=function(t,e){if(0==t.length)return console.warn("playJoinAudio : \u5185\u5bb9\u4e3a\u7a7a!"),void e();var n=0;(function r(){if(n>t.length-1)return console.log("'"+t+"' \u64ad\u653e\u5b8c\u6210."),void e();o.AudioManager.getInstance().playSound(i[t[n]],!1,1,null,r),n++})()},t}();n.AudioPlayExtension=r,cc._RF.pop()},{"../Manager/AudioManager":"AudioManager"}],BaseConfigContainer:[function(t,e,n){"use strict";cc._RF.push(e,"a9280QRTmRIUqfgpuhZqA92","BaseConfigContainer"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),t}();n.BaseConfigContainer=o,cc._RF.pop()},{}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),a=t("../Manager/ListenerManager"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},set:function(t){this.mData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),e.getUrl=function(){return cc.log(this.className),r.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){a.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e=i([c],e)}(cc.Component));n.BaseUI=u,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/ListenerManager":"ListenerManager"}],BoundingBoxDemo:[function(t,e,n){"use strict";cc._RF.push(e,"d5f9dT/06tF45iF1u1hFPMw","BoundingBoxDemo");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BoundingBoxHelp"),a=cc._decorator,s=a.ccclass,c=a.property;(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bbh=null,e.grs=null,e}o(e,t),e.prototype.update=function(t){this.grs.clear();var e=this.bbh.getBoundingBoxWorldPositions("boundingBox");this.polygon(this.grs,e),this.grs.stroke()},e.prototype.polygon=function(t,e){if(!(e.length<3)){t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.lineTo(e[0].x,e[0].y)}},i([c(r.default)],e.prototype,"bbh",void 0),i([c(cc.Graphics)],e.prototype,"grs",void 0),e=i([s],e)})(cc.Component);cc._RF.pop()},{"./BoundingBoxHelp":"BoundingBoxHelp"}],BoundingBoxHelp:[function(t,e,n){"use strict";cc._RF.push(e,"d28fa0BmSFGwY3HLHVIrT8f","BoundingBoxHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.vertices=[],e.positions=[],e}return o(e,t),e.prototype.getSkeleton=function(){return null==this.skeleton&&(this.skeleton=this.node.getComponent(sp.Skeleton)),this.skeleton},e.prototype.getBoundingBoxWorldPositions=function(t){var e=this.getSkeleton();if(null==e)return console.warn("\u6ca1\u6709Spine\u8d44\u6e90\uff01"),this.positions;var n=e.findSlot(t);if(!n)return console.warn("\u6ca1\u6709\u627e\u5230\u63d2\u69fd\uff1a "+t),this.positions;var o=n.attachment;o.computeWorldVertices(n,0,o.worldVerticesLength,this.vertices,0,2);for(var i=0;i<this.vertices.length;i+=2)this.positions[i/2]||(this.positions[i/2]=cc.Vec2.ZERO),this.positions[i/2].x=this.vertices[i],this.positions[i/2].y=this.vertices[i+1];for(i=0;i<this.positions.length;i++)this.positions[i]=this.node.convertToWorldSpaceAR(this.positions[i]);return this.positions},e.prototype.getBoundingBoxRelativePositions=function(t,e){for(var n=this.getBoundingBoxWorldPositions(t),o=0;o<n.length;o++)n[o]=e.convertToNodeSpaceAR(n[o]);return n},e=i([a],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],ConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","ConstValue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.IS_EDITIONS=!0,t.IS_TEACHER=!1,t.CONFIG_FILE_DIR="config/",t.PREFAB_UI_DIR="prefab/ui/panel/",t.AUDIO_DIR="audio/",t.CoursewareKey="6eSAmT0&%Fq$ciKjxirZ&VrB",t}();n.ConstValue=o,cc._RF.pop()},{}],CustomTypes:[function(t,e,n){"use strict";cc._RF.push(e,"d2d70bGmsJOAJetl6yMvak0","CustomTypes"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.AnswerData=o,cc._RF.pop()},{}],DaAnData:[function(t,e,n){"use strict";cc._RF.push(e,"6d2b7iUWbpMH7du/JYLzjR9","DaAnData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.type=null,this.norm=null,this.count=null,this.question=[],this.submitEnable=!1}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.DaAnData=o,cc._RF.pop()},{}],DataReporting:[function(t,e,n){"use strict";cc._RF.push(e,"fcbb2jwzKhJwKls3NHmiFBh","DataReporting");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./ConstValue"),r=cc._decorator,a=r.ccclass,s=(r.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),i.ConstValue.IS_EDITIONS&&(e?courseware.page.sendToParent(t,e):courseware.page.sendToParent(t))},t.prototype.addEvent=function(t,e){i.ConstValue.IS_EDITIONS&&courseware.page.on(t,e)},t.isRepeatReport=!0,t=e=o([a],t)}());n.default=s,cc._RF.pop()},{"./ConstValue":"ConstValue"}],Dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"cc667V2/zFJtI7/GBev9gvA","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./util"),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||o.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!o.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!o.isUndefined(t)&&!o.isUndefined(e)){var n,i="$"+this.toStr(t),r=this.table[i];return o.isUndefined(r)?(this.nElements++,n=void 0):n=r.value,this.table[i]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!o.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!o.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();n.default=i,cc._RF.pop()},{"./util":"util"}],ErrorPanel:[function(t,e,n){"use strict";cc._RF.push(e,"78373xfPadEJ5IFn4sizh3z","ErrorPanel");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Manager/UIManager"),s=t("../../Manager/AudioManager"),c=t("../../Http/NetWork"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}var n;return o(e,t),n=e,e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,n,o,i,r){void 0===r&&(r=!1);var a={shuoMing:t,biaoTi:e,tiShi:n};c.NetWork.getInstance().LogJournalReport("ErrorPanelLog",a),s.AudioManager.getInstance().playSound("sfx_erro",!1,1),this.shuoMing.string=t,this.isClose=r,this.callback=i,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=n||this.tiShi.string,this.btnLab.string=o||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){s.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),this.isClose&&a.UIManager.getInstance().closeUI(n)},e.className="ErrorPanel",i([p(cc.Label)],e.prototype,"biaoTi",void 0),i([p(cc.Label)],e.prototype,"shuoMing",void 0),i([p(cc.Label)],e.prototype,"tiShi",void 0),i([p(cc.Label)],e.prototype,"btnLab",void 0),i([p(cc.Button)],e.prototype,"btn",void 0),e=n=i([l],e)}(r.BaseUI);n.default=h,cc._RF.pop()},{"../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],FadeUIPlugin:[function(t,e,n){"use strict";cc._RF.push(e,"2fe78Vyt/NInb1oC42+tpUk","FadeUIPlugin");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return o(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),n=cc.scaleTo(.5,0,0),o=cc.scaleTo(.5,1,1),i=cc.sequence(t,e,n,o);this.node.runAction(i)},i([s],e.prototype,"delay",void 0),e=i([a],e)}(cc.Component);n.FadeUIPlugin=c,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"65c35Ym/oRKD6h93ZiyEFOw","GameData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.GameData=o,cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none")},e.prototype.start=function(){},e.prototype.update=function(t){},e=i([a],e)}(cc.Component));n.GameMain=s,cc._RF.pop()},{}],GamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Data/DaAnData"),s=t("../../Utils/UIHelp"),c=t("../../Manager/AudioManager"),u=t("../../Http/NetWork"),l=t("../../Data/ConstValue"),p=t("../../Manager/UIManager"),h=t("../panel/UploadAndReturnPanel"),f=t("../../Data/DataReporting"),d=cc._decorator,g=d.ccclass,y=d.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countLabel=null,e.egg=null,e.layoutTop=null,e.layoutBottom=null,e.btnSure=null,e.bg=null,e.itemNumber=10,e.items={},e.answerCount=0,e.itemScale=1,e.round=1,e.totalRound=4,e.roundOver=!1,e.norm=20,e.type=1,e.errorAnswer=0,e.audioCount=!0,e.submitCourse=!0,e.disabled=!1,e.selection=[],e.answerArr=[],e.subjectArr=[],e.kaiShiZuoDa=!1,e.daTiData=[],e.gameOver=!1,e.caoZuoRound=0,e.isOver=2,e.eventvalue={isResult:1,isLevel:1,levelData:[],result:4},e}return o(e,t),e.prototype.handleInitItems=function(t){this.setCountRound(this.round);var e=1&t?(t+1)/2:t/2;this.itemScale=15-e>10?1:(15-e)/10,this.layoutTop.spacingX=this.layoutBottom.spacingX=this.setSpacingX(e),this.addLayoutItem(0,e,this.layoutTop),this.addLayoutItem(e,this.itemNumber,this.layoutBottom),this.answerCount=this.getAnswerCount()},e.prototype.getAnswerCount=function(){this.answerArr=[];var t=0;for(var e in this.items)~~e>this.itemNumber-1||(this.checkAnswer(this.items[e])&&t++,this.checkAnswer(this.items[e])&&this.answerArr.push(this.items[e]));return console.log(this.round),this.eventvalue.levelData[this.round-1].answer=this.answerArr.slice(),t},e.prototype.setSpacingX=function(t){return 5*t*t-105*t+495},e.prototype.addLayoutItem=function(t,e,n){for(var o=t;o<e;o++){var i=cc.instantiate(this.egg);i.getComponent("egg").text=this.items[o],i.scale=this.itemScale,i.getComponent("egg").shadowDisplay.scaleY=3.9-3*this.itemScale,n.node.addChild(i)}},e.prototype.handleItemSelect=function(t){if(this.caoZuoRound=this.round,!this.roundOver){this.kaiShiZuoDa=!0;var e=t.target.getComponent("egg");if(e.selected=!e.selected,e.handleClickCallback(),e.selected){var n=this.audioCount?"sfx_egg01":"sfx_egg02";c.AudioManager.getInstance().playSound(n),this.audioCount=!this.audioCount,this.selection.push(t.target),e.bingo=this.checkAnswer(e.text),e.bingo||this.errorAnswer++}else{c.AudioManager.getInstance().playSound("sfx_cancel");var o=this.selection.indexOf(t.target);o>-1&&this.selection.splice(o,1),e.bingo||this.errorAnswer--}this.subjectArr=[];for(var i=0,r=this.selection;i<r.length;i++){var a=r[i];this.subjectArr.push(a.getComponent("egg").text)}this.isOver=2,this.eventvalue.result=2,this.eventvalue.levelData[this.round-1].result=2,this.eventvalue.levelData[this.round-1].subject=this.subjectArr.slice(),console.log(this.eventvalue),this.showButton()}},e.prototype.showButton=function(){this.btnSure.interactable=this.selection.length>0&&!this.roundOver},e.prototype.handleButtonClick=function(t){var e=this;if(!this.disabled){this.disabled=!0,c.AudioManager.getInstance().playSound("sfx_gou"),this.roundOver=!0;for(var n=this.answerCount==this.selection.length,o=0==this.errorAnswer&&n,i=0,r=this.selection;i<r.length;i++){r[i].getComponent("egg").handleGameOver(o)}this.btnSure.interactable=!o;var a=o?"sfx_allright":"sfx_fewright";c.AudioManager.getInstance().playSound(a),setTimeout(function(){e.disabled=!1,e.handleRoundOver(o)},o?2e3:700)}},e.prototype.handleRoundOver=function(t){if(t)if(this.totalRound>this.round)this.eventvalue.levelData[this.round-1].result=1,this.round++,this.resetItems(),s.UIHelp.showOverTip(1,"\u7b54\u5bf9\u4e86\uff01\u4f60\u771f\u68d2\uff01\n\u518d\u5c1d\u8bd5\u4e00\u4e0b\u5427 ",null,null,null,null),this.daTiData.push("1");else{this.isOver=1,this.eventvalue.result=1,this.eventvalue.levelData[this.round-1].result=1,f.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),console.log(this.eventvalue),this.daTiData.push("1"),this.gameOver=!0,a.DaAnData.getInstance().submitEnable=!0,s.UIHelp.showOverTip(2,"\u4f60\u771f\u68d2\uff01\u95ef\u5173\u6210\u529f\uff01",null,null,null,"\u95ef\u5173\u6210\u529f"),this.shuJuShangBao();window.parent.postMessage(JSON.stringify({great:!0}),"*")}else this.roundOver=!1,s.UIHelp.showOverTip(0,"\u554a\u54e6\uff0c\u8bf7\u518d\u8bd5\u4e00\u8bd5\uff5e",null,null,null,null)},e.prototype.handleBoxClose=function(t){},e.prototype.softResetItems=function(){this.roundOver=!1;for(var t=0,e=this.selection;t<e.length;t++){var n=e[t].getComponent("egg");n.eggSp.skeletonData=n.spineArr[0],n.eggSp.setAnimation(0,"in",!1),n.eggSp.timeScale=0}this.selection=[],this.node.off(cc.Node.EventType.TOUCH_START,this.softResetItems,this)},e.prototype.resetItems=function(){this.roundOver=!1,this.selection=[],this.layoutBottom.node.removeAllChildren(),this.layoutTop.node.removeAllChildren(),this.items=this.initItemNumer(),this.handleInitItems(this.itemNumber),console.log(this.items)},e.prototype.checkAnswer=function(t){var e=Number(t),n=!1;switch(this.type){case 1:n=e>this.norm;break;case 2:n=e<this.norm;break;case 3:n=e>=this.norm;break;case 4:n=e<=this.norm}return n},e.prototype.initItemNumer=function(){for(var t={},e=0;e<this.itemNumber;e++){var n=this.setRangeRandom(0,50);t[e]=n}var o=this.initNormItem();return t[o.index]=o.value,console.log(o),t},e.prototype.initNormItem=function(){var t=this.norm>8?this.setRangeRandom(1,8):1,e=1&this.type?this.norm+t:this.norm-t;return{index:this.setRangeRandom(0,this.itemNumber),value:e}},e.prototype.setCountRound=function(t){this.countLabel.string=this.round+"/"+this.totalRound},e.prototype.setRangeRandom=function(t,e){var n,o=e-t;return 0==o?e:(o<0&&(e=(n=[t,e])[0],t=n[1],o=Math.abs(o)),(Math.random()*++o>>0)+t)},e.prototype.onLoad=function(){c.AudioManager.getInstance().playSound("sfx_12opne");for(var t=0;t<4;t++)this.eventvalue.levelData.push({subject:[],answer:[],result:4});l.ConstValue.IS_TEACHER?(this.type=a.DaAnData.getInstance().type,this.norm=parseInt(a.DaAnData.getInstance().norm),this.itemNumber=a.DaAnData.getInstance().count,this.items=a.DaAnData.getInstance().question.map(Number),this.init(),p.UIManager.getInstance().openUI(h.default,null,300)):this.getNet()},e.prototype.shuJuShangBao=function(){f.default.isRepeatReport&&(f.default.isRepeatReport=!1,f.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify({isResult:1,isLavel:1,levelData:[{subject:JSON.stringify({}),answer:JSON.stringify({}),result:this.caoZuoRound>=1?this.daTiData[0]?this.daTiData[0]:2:4},{subject:JSON.stringify({}),answer:JSON.stringify({}),result:this.caoZuoRound>=2?this.daTiData[1]?this.daTiData[1]:2:4},{subject:JSON.stringify({}),answer:JSON.stringify({}),result:this.caoZuoRound>=3?this.daTiData[2]?this.daTiData[2]:2:4},{subject:JSON.stringify({}),answer:JSON.stringify({}),result:this.caoZuoRound>=4?this.daTiData[3]?this.daTiData[3]:2:4}],result:this.kaiShiZuoDa?this.gameOver?1:2:4})}))},e.prototype.onEndGame=function(){f.default.isRepeatReport&&(f.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),f.default.isRepeatReport=!1),f.default.getInstance().dispatchEvent("end_finished",{eventType:"activity",eventValue:this.isOver})},e.prototype.start=function(){var t=this;f.default.getInstance().addEvent("end_game",this.onEndGame.bind(this)),this.bg.on(cc.Node.EventType.TOUCH_START,function(){t.isOver=2,t.eventvalue.result=2,t.eventvalue.levelData[t.round-1].result=2})},e.prototype.init=function(){var t=this;this.handleInitItems(this.itemNumber),this.node.on("select",function(e){t.handleItemSelect(e),e.stopPropagation()}),this.node.on("close",function(e){t.handleBoxClose(e),e.stopPropagation()})},e.prototype.getNet=function(){u.NetWork.getInstance().httpRequest(u.NetWork.GET_QUESTION+"?courseware_id="+u.NetWork.courseware_id,"GET","application/json;charset=utf-8",function(t,e){if(t)console.error("content is null");else{var n=e;if(Array.isArray(n.data))return void console.error("response_data is empty.");var o=JSON.parse(n.data.courseware_content);if(null!=o){if(!o.type)return void console.error("content.type is null");if(this.type=o.type,a.DaAnData.getInstance().type=o.type,!o.norm)return void console.error("content.norm is null");if(this.norm=parseInt(o.norm),a.DaAnData.getInstance().norm=o.norm,!o.count)return void console.error("content.count is null");if(this.itemNumber=o.count,a.DaAnData.getInstance().count=o.count,!o.question)return void console.error("content.question is null");for(var i in this.items=[],a.DaAnData.getInstance().question=[],o.question){var r=parseInt(o.question[i]);this.items[i]=r,a.DaAnData.getInstance().question[i]=r.toString()}this.init()}}}.bind(this),null)},e.className="GamePanel",i([y(cc.Label)],e.prototype,"countLabel",void 0),i([y(cc.Prefab)],e.prototype,"egg",void 0),i([y(cc.Layout)],e.prototype,"layoutTop",void 0),i([y(cc.Layout)],e.prototype,"layoutBottom",void 0),i([y(cc.Button)],e.prototype,"btnSure",void 0),i([y(cc.Node)],e.prototype,"bg",void 0),e=i([g],e)}(r.BaseUI);n.default=v,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../panel/UploadAndReturnPanel":"UploadAndReturnPanel"}],ListenerManager:[function(t,e,n){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=n}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!0,configurable:!0}),t}();n.Delegate=o;var i=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,n){return null!==this.find(t,e,n)},t.prototype.trigger=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!t)return console.error("Listener type is null!"),!1;var i=[],r=[],a=this.mListenerMap.get(t);a&&(a.forEach(function(t,e){for(var n=0,o=t;n<o.length;n++){var s=o[n];i.push(s),r.push(e)}for(var c=t.length-1;c>=0;--c)t[c].isOnce&&t.splice(c,1);t.length<=0&&a.delete(e)}),a.size<=0&&this.mListenerMap.delete(t));for(var s=i.length,c=0;c<s;c++){var u=i[c];(e=u.listener).call.apply(e,[r[c]].concat(u.argArray,n))}return s>0},t.prototype.add=function(t,e,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];this.addListener.apply(this,[t,e,n,!1].concat(o))},t.prototype.addOnce=function(t,e,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];this.addListener.apply(this,[t,e,n,!0].concat(o))},t.prototype.remove=function(t,e,n,o){this.removeBy(function(i,r,a){return(!t||t===i)&&((!e||e===r)&&((!n||n===a.listener)&&!(o&&!a.isOnce)))})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(n,o){n.delete(t),n.size<=0&&e.mListenerMap.delete(o)})},t.prototype.addListener=function(t,e,n,i){for(var r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];var s=this.find(t,e,n);if(s)s.isOnce=i,console.error("Listener is already exist!");else{var c=new o(n,r,i);this.mListenerMap.get(t).get(e).push(c)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(n,o){n.forEach(function(e,i){for(var r=e.length-1;r>=0;--r){var a=e[r];t(o,i,a)&&e.splice(r,1)}e.length<=0&&n.delete(i)}),n.size<=0&&e.mListenerMap.delete(o)})},t.prototype.find=function(t,e,n){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!n)return console.error("Listener is null!"),null;var o,i;this.mListenerMap.has(t)?o=this.mListenerMap.get(t):(o=new Map,this.mListenerMap.set(t,o)),o.has(e)?i=o.get(e):(i=[],o.set(e,i));for(var r=0,a=i;r<a.length;r++){var s=a[r];if(s.mListener===n)return s}return null},t}();n.ListenerManager=i,cc._RF.pop()},{}],ListenerType:[function(t,e,n){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","ListenerType"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t}();n.ListenerType=o,cc._RF.pop()},{}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"cf8a66RO2hJWJN7q1dt4/zn","LoadingUI");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Data/ConstValue"),s=t("./TeacherPanel"),c=t("./GamePanel"),u=t("../../Manager/UIManager"),l=t("../../Http/NetWork"),p=t("../../Data/DataReporting"),h=t("../../Manager/TimeManager"),f=cc._decorator,d=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;l.NetWork.getInstance().GetRequest();p.default.getInstance().dispatchEvent("load start");var e=a.ConstValue.IS_TEACHER?s.default:c.default;u.UIManager.getInstance().openUI(e,null,0,function(){l.NetWork.getInstance().LogJournalReport("ResLoadEnd",{curTime:h.TimeManager.getInstance().getNowFormatDate()}),p.default.getInstance().dispatchEvent("load end"),p.default.getInstance().dispatchEvent("start"),t.node.active=!1},function(e,n,o){t.isLoadStart||(t.isLoadStart=!0,l.NetWork.getInstance().LogJournalReport("ResLoadStart",{curTime:h.TimeManager.getInstance().getNowFormatDate()})),t.progressBar.progress=e/n;var i=Math.round(e/n*100);p.default.getInstance().dispatchEvent("loading",i),t.progressLabel.string=i.toString()+"%";var r=e/n*609-304;t.dragonNode.x=r})},e.className="LoadingUI",i([g(cc.ProgressBar)],e.prototype,"progressBar",void 0),i([g(cc.Label)],e.prototype,"progressLabel",void 0),i([g(cc.Node)],e.prototype,"dragonNode",void 0),e=i([d],e)}(r.BaseUI);n.LoadingUI=y,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/TimeManager":"TimeManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./TeacherPanel":"TeacherPanel"}],LogWrap:[function(t,e,n){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Data/ConstValue"),i=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),n="";return n+=(1==e.length?"0"+e:e)+":",n+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",n+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),n="["+(n+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var n=[];e.forEach(function(t){var e,o=(t=t.substring(7)).split(" ");o.length<2?n.push(o[0]):n.push(((e={})[o[0]]=o[1],e))});var o=[];if(t<n.length-1)for(var i in n[t])o.push(i);var r=o[0].split(".");return r[0]+".js->"+r[1]+": "},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=console.log||cc.log;o.ConstValue.IS_EDITIONS||i.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=console.log||cc.log;o.ConstValue.IS_EDITIONS||i.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=console.log||cc.log;o.ConstValue.IS_EDITIONS||i.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=console.log||cc.log;o.ConstValue.IS_EDITIONS||i.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();n.LogWrap=i,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],MathExtension:[function(t,e,n){"use strict";cc._RF.push(e,"81407Q2vf9Ezor3KOYrFKb8","MathExtension"),Math.randomRangeInt=function(t,e){var n=Math.random();return 1===n&&(n-=Number.EPSILON),t+Math.floor(n*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],MathUtils:[function(t,e,n){"use strict";cc._RF.push(e,"aa960SepSxHGal1p7xVIQi8","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getAngle=function(t){return 180*t/Math.PI},t.prototype.getRadian=function(t){return t/180*Math.PI},t.prototype.getRadian2=function(t,e,n,o){var i=n-t,r=o-e;return Math.atan2(r,i)},t.prototype.getDistance=function(t,e){var n=e.x-t.x,o=e.y-t.y,i=n*n+o*o;return Math.sqrt(i)},t.prototype.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.prototype.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t.prototype.SagPoint=function(t,e,n,o){var i=(n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y),r=((t-n.x)*(o.x-n.x)+(e-n.y)*(o.y-n.y))/i,a=n.x+r*(o.x-n.x),s=n.y+r*(o.y-n.y);return new cc.Vec2(a,s)},t.prototype.extendedLinePoint=function(t,e,n){var o,i,r;return o=this.getDistance(t,e),e.x>t.x&&e.y>t.y?(i=n/o*Math.abs(t.x-e.x)+e.x,r=n/o*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y>t.y?(i=-n/o*Math.abs(t.x-e.x)+e.x,r=n/o*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y<t.y?(i=-n/o*Math.abs(t.x-e.x)+e.x,r=-n/o*Math.abs(t.y-e.y)+e.y):e.x>t.x&&e.y<t.y&&(i=n/o*Math.abs(t.x-e.x)+e.x,r=-n/o*Math.abs(t.y-e.y)+e.y),new cc.Vec2(i,r)},t.prototype.getTwoPointsRadian1=function(t,e){var n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),i=o/Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),r=Math.acos(i),a=Math.floor(180/(Math.PI/r));return e.x>t.x&&e.y<t.y&&(a=180-a),e.x==t.x&&e.y>t.y&&(a=180),e.x>t.x&&e.y==t.y&&(a=90),e.x<t.x&&e.y<t.y&&(a=180+a),e.x<t.x&&e.y==t.y&&(a=270),e.x<t.x&&e.y>t.y&&(a=360-a),a},t.prototype.getTwoPointsRadian2=function(t,e){var n=t.x-e.x,o=t.y-e.y;return-180*Math.atan2(o,n)/Math.PI-90},t.prototype.fingCrossPoint=function(t,e,n,o){var i=e.y-t.y,r=t.x-e.x,a=t.x*e.y-e.x*t.y,s=o.y-n.y,c=n.x-o.x,u=n.x*o.y-o.x*n.y,l=i*c-s*r;if(0==l)return null;var p=(a*c-u*r)/l,h=(i*u-s*a)/l;return new cc.Vec2(Math.floor(p),Math.floor(h))},t.prototype.accAdd=function(t,e){var n,o,i=0,r=0;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}if(o=Math.abs(i-r),n=Math.pow(10,Math.max(i,r)),o>0){var a=Math.pow(10,o);i>r?(t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""))*a):(t=Number(t.toString().replace(".",""))*a,e=Number(e.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""));return(t+e)/n},t.prototype.accSub=function(t,e){var n,o=0,i=0;try{o=t.toString().split(".")[1].length}catch(t){o=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return((t*(n=Math.pow(10,Math.max(o,i)))-e*n)/n).toFixed(o>=i?o:i)},t.prototype.accMul=function(t,e){var n=0,o=t.toString(),i=e.toString();try{n+=o.split(".")[1].length}catch(t){}try{n+=i.split(".")[1].length}catch(t){}return Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)},t.prototype.accDiv=function(t,e){var n=0,o=0;try{n=t.toString().split(".")[1].length}catch(t){}try{o=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,o-n)},t}();n.MathUtils=o,cc._RF.pop()},{}],NetWork:[function(t,e,n){"use strict";cc._RF.push(e,"9cd01aQNbFMUY4sUMN0yYH5","NetWork"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Data/ConstValue"),i=t("../Manager/UIManager"),r=t("../UI/panel/ErrorPanel"),a=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.httpRequest=function(e,n,a,s,c){if(void 0===s&&(s=null),void 0===c&&(c=""),!o.ConstValue.IS_TEACHER||t.title_id)if(o.ConstValue.IS_TEACHER||t.courseware_id&&t.user_id){var u=new XMLHttpRequest;u.open(n,e),u.timeout=1e4,u.setRequestHeader("Content-Type",a),u.withCredentials=!0,u.onreadystatechange=function(){if(console.log("httpRequest rsp status",u.status,"        xhr.readyState",u.readyState,"        xhr.responseText",u.responseText),4==u.readyState&&u.status>=200&&u.status<=400){var l=JSON.parse(u.responseText);s&&0==l.errcode?s(!1,l):o.ConstValue.IS_EDITIONS&&i.UIManager.getInstance().openUI(r.default,null,1e3,function(){i.UIManager.getInstance().getUI(r.default).setPanel(l.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){t.getInstance().httpRequest(e,n,a,s,c)},!1)})}},u.ontimeout=function(u){o.ConstValue.IS_EDITIONS&&i.UIManager.getInstance().openUI(r.default,null,1e3,function(){i.UIManager.getInstance().getUI(r.default).setPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,a,s,c)},!0)}),console.log("httpRequest timeout"),s&&s(!0,null)},u.onerror=function(u){o.ConstValue.IS_EDITIONS&&i.UIManager.getInstance().openUI(r.default,null,1e3,function(){i.UIManager.getInstance().getUI(r.default).setPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,a,s,c)},!0)}),console.log("httpRequest error"),s&&s(!0,null)},u.send(c)}else i.UIManager.getInstance().openUI(r.default,null,1e3,function(){i.UIManager.getInstance().getUI(r.default).setPanel("\u5f02\u5e38\u7f16\u53f7\u4e3a001,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a")});else i.UIManager.getInstance().openUI(r.default,null,1e3,function(){i.UIManager.getInstance().getUI(r.default).setPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")})},t.prototype.GetRequest=function(){if(null!=t.theRequest)return t.theRequest;t.theRequest=new Object;var e=location.search;if(-1!=e.indexOf("?"))for(var n=e.substr(1).split("&"),o=0;o<n.length;o++)t.theRequest[n[o].split("=")[0]]=decodeURIComponent(n[o].split("=")[1]);return t.courseware_id=t.theRequest.id,t.title_id=t.theRequest.title_id,t.user_id=t.theRequest.user_id,t.empty=t.theRequest.empty,t.isLive=t.theRequest.isLive,this.LogJournalReport("CoursewareLogEvent",""),console.log("11111gaolei",t.courseware_id,"           ",t.theRequest.id,"           ",JSON.stringify(t.theRequest)),t.theRequest},t.prototype.GetIsOnline=function(){var t=1;return this.GetRequest().isOnline&&(t=this.GetRequest().isOnline),t},t.prototype.LogJournalReport=function(e,n){o.ConstValue.IS_EDITIONS&&((new Image).src=(t.isOnlineEnv?"https://logserver.haibian.com/statistical/?type=7&":"https://ceshi-statistical.haibian.com/?type=7&")+"course_id="+this.GetRequest().id+"&chapter_id="+this.GetRequest().chapter_id+"&user_id="+this.GetRequest().user_id+"&subject="+this.GetRequest().subject+"&event="+e+"&identity=1&extra="+JSON.stringify({url:location,CoursewareKey:o.ConstValue.CoursewareKey,empty:this.GetRequest().empty,CoursewareName:"shuyishuer",data:n}))},t.isOnlineEnv=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0&&1==t.getInstance().GetIsOnline(),t.isProtocol=/http:/.test(window.location.protocol),t.isLocal=/localhost/.test(window.location.href)||t.isProtocol,t.isOwcr="owcr:"==location.protocol||"file:"==location.protocol,t.BASE=t.isOnlineEnv?"https://courseware.haibian.com":t.isLocal?"http://ceshi.courseware.haibian.com":"https://ceshi_courseware.haibian.com",t.GET_QUESTION=t.BASE+"/get",t.GET_USER_PROGRESS=t.BASE+"/get/answer",t.GET_TITLE=t.BASE+"/get/title",t.ADD=t.BASE+"/add",t.MODIFY=t.BASE+"/modify",t.CLEAR=t.BASE+"/clear",t.courseware_id=null,t.title_id=null,t.user_id=null,t.empty=!1,t.chapter_id=null,t.subject=null,t.isLive=null,t.theRequest=null,t}();n.NetWork=a,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/UIManager":"UIManager","../UI/panel/ErrorPanel":"ErrorPanel"}],OverTips:[function(t,e,n){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../UIComm/Tools"),s=t("../../Manager/UIManager"),c=t("../../Manager/AudioManager");(function(t){t[t.ZuoDaJieShu=0]="ZuoDaJieShu",t[t.ChuangGuanChengGong=1]="ChuangGuanChengGong",t[t.TiaoZhanJieShu=2]="TiaoZhanJieShu",t[t.TiaoZhanChengGong=3]="TiaoZhanChengGong",t[t.ChuangGuanJieShu=4]="ChuangGuanJieShu"})(n.Type_Tile||(n.Type_Tile={})),n.DefalutTitle=["\u4f5c\u7b54\u7ed3\u675f","\u95ef\u5173\u6210\u529f","\u6311\u6218\u7ed3\u675f","\u6311\u6218\u6210\u529f","\u95ef\u5173\u7ed3\u675f"];var u={"\u4f5c":"img_zuo","\u7b54":"img_da","\u7ed3":"img_jie","\u675f":"img_shu","\u6210":"img_cheng","\u529f":"img_gong","\u6311":"img_tiao","\u6218":"img_zhan","\u95ef":"img_chuang","\u5173":"img_guan"},l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e.button=null,e.btnCallback=null,e.callback=null,e.endInAnimation=!1,e.img_titles=[],e.bones=[],e}var r;return o(e,t),r=e,e.prototype.onLoad=function(){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(t,e){})},e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e,o,i,r,s){switch(void 0===e&&(e=""),void 0===o&&(o=""),this.callback=r,this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=!0,t){case 0:this.node_close.active=!0,a.Tools.playSpine(this.spine_false,"false",!1,this.delayClose.bind(this)),c.AudioManager.getInstance().playSound("sfx_genneg",!1,1),this.button.active=!1,this.button.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=o,this.btnCallback=i;break;case 1:this.node_close.active=!0,a.Tools.playSpine(this.spine_true,"true",!1,this.delayClose.bind(this)),c.AudioManager.getInstance().playSound("sfx_genpos",!1,1),this.button.active=!1;break;case 2:if(this.node_close.active=!1,this.spine_complete.node.active=!1,this.button.active=!1,s||(s=n.DefalutTitle[0]),4!=s.length)return;this.bones=[],this.bones.push(this.spine_complete.findBone("paipai")),this.bones.push(this.spine_complete.findBone("xiaoU")),this.bones.push(this.spine_complete.findBone("mimiya")),this.bones.push(this.spine_complete.findBone("doudou"));for(var u=0;u<4;u++)this.createTitleImage(s[u])}var l=this.label_tip.node.position,p=cc.v2(l.x,l.y-72.8),h=cc.v2(l.x,l.y+12),f=cc.v2(l.x,l.y-8),d=cc.v2(l.x,l.y+7.3);this.label_tip.node.position=p,this.label_tip.node.runAction(cc.sequence(cc.moveTo(.08,h),cc.moveTo(.08,f),cc.moveTo(.08,d),cc.moveTo(.06,l)))},e.prototype.delayClose=function(){},e.prototype.onClickClose=function(t,e){t&&c.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),s.UIManager.getInstance().closeUI(r)},e.prototype.buttonCallback=function(){this.btnCallback()},e.prototype.createTitleImage=function(t){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(e,n){var o=this;if(e)console.log(e.message||e);else{var i=n.getSpriteFrame(u[t]),r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=i,r.parent=this.node,r.active=!1,this.img_titles.push(r),4==this.img_titles.length&&(this.endInAnimation=!0,this.spine_complete.node.active=!0,a.Tools.playSpine(this.spine_complete,"in",!1,function(){a.Tools.playSpine(o.spine_complete,"stand",!0),o.endInAnimation=!1}),c.AudioManager.getInstance().playSound("sfx_geupgrd",!1,1))}}.bind(this))},e.prototype.update=function(){if(this.endInAnimation)for(var t=0;t<this.img_titles.length;t++)this.img_titles[t].active=!0,this.img_titles[t].position=cc.v2(this.bones[t].worldX-139,this.bones[t].worldY-135)},e.className="OverTips",i([h(cc.Label)],e.prototype,"label_tip",void 0),i([h(sp.Skeleton)],e.prototype,"spine_false",void 0),i([h(sp.Skeleton)],e.prototype,"spine_true",void 0),i([h(sp.Skeleton)],e.prototype,"spine_complete",void 0),i([h(cc.Node)],e.prototype,"node_close",void 0),i([h(cc.Node)],e.prototype,"button",void 0),e=r=i([p],e)}(r.BaseUI);n.OverTips=f,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../UIComm/Tools":"Tools","../BaseUI":"BaseUI"}],Set:[function(t,e,n){"use strict";cc._RF.push(e,"d8d97HoTUFPm7oqXrj5GU8u","Set"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./util"),i=t("./arrays"),r=t("./Dictionary"),a=function(){function t(t){this.dictionary=new r.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!o.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return i.toString(this.toArray())},t}();n.default=a,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],StringExtension:[function(t,e,n){"use strict";cc._RF.push(e,"85c1bk+r3FHf5RqunqKCFt+","StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(arguments),o=0;return this.replace(/%s/g,function(t,e){return n[o++]})},cc._RF.pop()},{}],SubmissionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),u=t("../../Data/ConstValue"),l=t("./ErrorPanel"),p=t("../../Data/DaAnData"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){a.UIManager.getInstance().closeUI(n)},e.prototype.DetectionNet=function(){if(s.NetWork.title_id){var t=JSON.stringify({CoursewareKey:u.ConstValue.CoursewareKey,type:p.DaAnData.getInstance().type,norm:p.DaAnData.getInstance().norm,count:p.DaAnData.getInstance().count,question:p.DaAnData.getInstance().question});s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(e,n){if(!e)if(null==n.data.courseware_content||""==n.data.courseware_content)this.AddNet(t);else{s.NetWork.courseware_id=n.data.courseware_id;var o=JSON.parse(n.data.courseware_content);s.NetWork.empty||(o.CoursewareKey==u.ConstValue.CoursewareKey?this.ModifyNet(t):a.UIManager.getInstance().openUI(l.default,null,1e3,function(){a.UIManager.getInstance().getUI(l.default).setPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")}))}}.bind(this),null)}else a.UIManager.getInstance().openUI(l.default,null,1e3,function(){a.UIManager.getInstance().getUI(l.default).setPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")})},e.prototype.AddNet=function(t){var e={title_id:s.NetWork.title_id,courseware_content:t,is_result:1,is_lavel:0};s.NetWork.getInstance().httpRequest(s.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),a.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:s.NetWork.courseware_id,courseware_content:t,is_result:1,is_lavel:0};s.NetWork.getInstance().httpRequest(s.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),a.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.className="SubmissionPanel",e=n=i([f],e)}(r.BaseUI));n.default=d,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Http/NetWork":"NetWork","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./ErrorPanel":"ErrorPanel"}],TeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),u=t("../../Data/DaAnData"),l=t("./GamePanel"),p=t("../../Manager/ListenerManager"),h=t("../../Data/ListenerType"),f=cc._decorator,d=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleContainer=[],e.judgeEditBox=null,e.numEditBox=null,e.eiditBoxNode=null,e.editBoxPrefab=null,e.type=1,e.norm=null,e.count=8,e.question=[],e.editBoxArr=[],e}return o(e,t),e.prototype.onLoad=function(){this.type=1,u.DaAnData.getInstance().type=1,this.count=8,u.DaAnData.getInstance().count=8,this.initEditBoxArr(8)},e.prototype.start=function(){this.getNet()},e.prototype.setPanel=function(){switch(this.type){case 1:this.toggleContainer[0].isChecked=!0;break;case 2:this.toggleContainer[1].isChecked=!0;break;case 3:this.toggleContainer[2].isChecked=!0;break;case 4:this.toggleContainer[3].isChecked=!0}this.judgeEditBox.string=this.norm,this.numEditBox.string=this.count.toString(),this.initEditBoxArr(this.count)},e.prototype.initEditBoxArr=function(t){this.eiditBoxNode.removeAllChildren(),this.editBoxArr=[];for(var e=0;e<t;++e){var n=cc.instantiate(this.editBoxPrefab);this.eiditBoxNode.addChild(n),this.editBoxArr[e]=n.getComponent(cc.EditBox),this.question[e]&&(this.editBoxArr[e].string=this.question[e]),n.on("editing-did-ended",function(t){var e=t.string;/^[0-9]{1,2}$/.test(e)||(t.string="")}.bind(this))}},e.prototype.onToggleContainer=function(t){switch(this.toggleContainer.indexOf(t)){case 0:this.type=1,u.DaAnData.getInstance().type=1;break;case 1:this.type=2,u.DaAnData.getInstance().type=2;break;case 2:this.type=3,u.DaAnData.getInstance().type=3;break;case 3:this.type=4,u.DaAnData.getInstance().type=4}},e.prototype.judgeEditBoxCallback=function(t){var e=this.judgeEditBox.string,n=e;/^[0-9]{1,2}$/.test(e)||((e="")?(n=null,this.judgeEditBox.string="",this.judgeEditBox.node.getChildByName("PLACEHOLDER_LABEL").active=!0):""!=this.norm&&(n=this.norm,this.judgeEditBox.string=this.norm,this.numEditBox.node.getChildByName("PLACEHOLDER_LABEL").active=!1)),this.norm=n,u.DaAnData.getInstance().norm=this.norm},e.prototype.numEditBoxCallback=function(t){var e=this.numEditBox.string,n=parseInt(e);/^[0-9]{1,2}$/.test(e)||(""==e?(n=null,this.numEditBox.string="",this.numEditBox.node.getChildByName("PLACEHOLDER_LABEL").active=!0):(n=this.count,this.numEditBox.string=this.count.toString(),this.numEditBox.node.getChildByName("PLACEHOLDER_LABEL").active=!1)),this.count!=n&&this.initEditBoxArr(n),this.count=n,u.DaAnData.getInstance().count=this.count},e.prototype.check=function(){if(null==this.norm)return c.UIHelp.showTip("\u9898\u5e72\u6807\u51c6\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u9898\u5e72\u6807\u51c6\u3002"),!1;if(null==this.count)return c.UIHelp.showTip("\u9009\u6570\u533a\u57df\u7684\u6570\u91cf\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u9009\u6570\u533a\u57df\u6570\u91cf\u3002"),!1;if(parseInt(this.norm)>30||parseInt(this.norm)<0)return c.UIHelp.showTip("\u9898\u5e72\u6807\u51c6\u4e0d\u662f\u4e0d\u5927\u4e8e30\u7684\u6574\u6570\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\u9898\u5e72\u6807\u51c6"),!1;if(this.count<8||this.count>15)return c.UIHelp.showTip("\u9009\u6570\u533a\u57df\u6570\u91cf\u4e0d\u662f8\uff5e15\u7684\u6574\u6570\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\u9009\u6570\u533a\u57df\u6570\u91cf"),!1;this.question=[];for(var t=0;t<this.editBoxArr.length;++t)""==this.editBoxArr[t].string?this.question[t]=null:this.question[t]=this.editBoxArr[t].string;for(t=0;t<this.editBoxArr.length;++t){if(null==this.question[t])return c.UIHelp.showTip("\u8bf7\u8f93\u5165\u7b2c\u4e00\u9898\u7b2c"+(t+1)+"\u4e2a\u53ef\u9009\u6570\u3002"),!1;if(parseInt(this.question[t])<0||parseInt(this.question[t])>50)return c.UIHelp.showTip("\u7b2c\u4e00\u9898\u7b2c"+(t+1)+"\u4e2a\u53ef\u9009\u6570\u4e0d\u7b26\u54080\uff5e50\u7684\u89c4\u5219\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\u3002"),!1}return u.DaAnData.getInstance().question=this.question.slice(),console.log(this.type),console.log(this.norm),console.log(this.count),console.log(this.question),!0},e.prototype.onBtnSaveClicked=function(){this.check()&&a.UIManager.getInstance().showUI(l.default,null,function(){p.ListenerManager.getInstance().trigger(h.ListenerType.OnEditStateSwitching,{state:1})})},e.prototype.getNet=function(){s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(t,e){if(console.log("\u6d88\u606f\u8fd4\u56de"+e),!t){var n=e;if(Array.isArray(n.data))return;var o=JSON.parse(n.data.courseware_content);if(s.NetWork.courseware_id=n.data.courseware_id,s.NetWork.empty)this.ClearNet();else{if(null==o)return;if(!o.type)return void console.error("content.type is null");if(this.type=o.type,u.DaAnData.getInstance().type=o.type,!o.norm)return void console.error("content.norm is null");if(this.norm=o.norm,u.DaAnData.getInstance().norm=o.norm,!o.count)return void console.error("content.count is null");if(this.count=o.count,u.DaAnData.getInstance().count=o.count,!o.question)return void console.error("content.question is null");this.question=o.question,u.DaAnData.getInstance().question=o.question,this.setPanel()}}}.bind(this),null)},e.prototype.ClearNet=function(){var t={courseware_id:s.NetWork.courseware_id};s.NetWork.getInstance().httpRequest(s.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||c.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")}.bind(this),JSON.stringify(t))},e.className="TeacherPanel",i([g([cc.Toggle])],e.prototype,"toggleContainer",void 0),i([g(cc.EditBox)],e.prototype,"judgeEditBox",void 0),i([g(cc.EditBox)],e.prototype,"numEditBox",void 0),i([g(cc.Node)],e.prototype,"eiditBoxNode",void 0),i([g(cc.Prefab)],e.prototype,"editBoxPrefab",void 0),e=i([d],e)}(r.BaseUI);n.default=y,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel"}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"6a93cVTR3pJrpapom9vowVf","TimeManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.prototype.getNowFormatDate=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate();n>=1&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o);var i=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds();return i>=0&&i<=9&&(i="0"+i),r>=0&&r<=9&&(r="0"+r),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="00"+s),s>=10&&s<=90&&(s="0"+s),e+":"+n+":"+o+":"+i+":"+r+":"+a+":"+s},t.instance=null,t}();n.TimeManager=o,cc._RF.pop()},{}],TipUI:[function(t,e,n){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../Item/Tip"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return o(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var n=0;n<this.tipPool.length;++n)if(null!=this.tipPool[n]&&this.tipPool[n].isReady())return this.tipPool[n].node.setSiblingIndex(200),void this.tipPool[n].playTip(t);cc.log("create tip");var o=cc.instantiate(this.tipPrefab);o.parent=this.node;var i=o.getComponent(a.Tip);this.tipPool.push(i),i.playTip(t)},e.className="TipUI",i([u(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=i([c],e)}(r.BaseUI);n.TipUI=l,cc._RF.pop()},{"../BaseUI":"BaseUI","../Item/Tip":"Tip"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return o(e,t),e.prototype.playTip=function(t){this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),n=(cc.fadeIn(.5),cc.fadeOut(.5)),o=cc.spawn(e,n),i=cc.delayTime(1),r=cc.callFunc(function(){this.ready=!0},this),a=cc.sequence(i,o,r);this.node.runAction(a)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},i([s(cc.Node)],e.prototype,"neiRongNode",void 0),i([s(cc.Label)],e.prototype,"tipLabel",void 0),e=i([a],e)}(cc.Component);n.Tip=c,cc._RF.pop()},{}],TitleNode:[function(t,e,n){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Manager/ListenerManager"),a=t("../../Data/ListenerType"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return o(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,r.ListenerManager.getInstance().add(a.ListenerType.OnEditStateSwitching,this,this.onStateSwitching)},e.prototype.onStateSwitching=function(t){0==t.state?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},i([u(cc.Label)],e.prototype,"bianJiLabel",void 0),i([u(cc.Label)],e.prototype,"jianYanLabel",void 0),i([u(cc.Node)],e.prototype,"tiaoNode",void 0),e=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,e){this.time=0,this.pos=cc.Vec2.ZERO,this.time=t,this.pos=e}}();n.ArtMoveParam=i;var r=cc._decorator,a=r.ccclass,s=(r.property,function(){function t(){}return t.playSpine=function(t,e,n,o){void 0===o&&(o=null),t.setAnimation(0,e,n)&&t.setCompleteListener(function(t,n){(t.animation?t.animation.name:"")===e&&o&&null!=o&&o()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),n=0;n<e.length;n++){var o=e[n].split("=");if(o[0]==t)return o[1]}return!1},t.runArtMoveSequence=function(t,e,n){void 0===n&&(n=null);var o=t.getPosition().sub(e[e.length-1].pos);function i(t){return t.add(o)}if(t.setPosition(i(e[0].pos)),e.length<=1)n&&n();else{for(var r=[],a=1;a<e.length-1;a++){var s=.001*(e[a].time-e[a-1].time);r.push(cc.moveTo(s,i(e[a].pos)))}n&&r.push(cc.callFunc(n)),t.runAction(cc.sequence(r))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=t%60;return n<10&&(n="0"+n),e+":"+n},t=o([a],t)}());n.Tools=s,cc._RF.pop()},{}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Manager/UIManager"),i=t("../UI/panel/TipUI"),r=t("../UI/Item/affirmTips"),a=t("../UI/Item/OverTips"),s=function(){function t(){}return t.showTip=function(e){var n=o.UIManager.getInstance().getUI(i.TipUI);n?n.showTip(e):o.UIManager.getInstance().openUI(i.TipUI,null,301,function(){t.showTip(e)})},t.showOverTip=function(e,n,i,r,s,c){void 0===n&&(n=""),void 0===i&&(i=""),void 0===s&&(s=null);var u=o.UIManager.getInstance().getUI(a.OverTips);u?u.init(e,n,i,r,s,c):o.UIManager.getInstance().openUI(a.OverTips,null,210,function(){t.showOverTip(e,n,i,r,s,c)})},t.AffirmTip=function(e,n,i,a,s){var c=o.UIManager.getInstance().getUI(r.AffirmTips);c?c.init(e,n,i,a,s):o.UIManager.getInstance().openUI(r.AffirmTips,null,210,function(){t.AffirmTip(e,n,i,a,s)})},t}();n.UIHelp=s,cc._RF.pop()},{"../Manager/UIManager":"UIManager","../UI/Item/OverTips":"OverTips","../UI/Item/affirmTips":"affirmTips","../UI/panel/TipUI":"TipUI"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiRoot=cc.find("Canvas")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,o,i){for(var r=this,a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){i&&i(t,e,n)},function(i,s){if(i)cc.log(i);else if(!r.getUI(t)){var c=cc.instantiate(s);c.parent=r.uiRoot,n&&(c.zIndex=n);var u=c.getComponent(t);u.data=e,u.tag=t,r.uiList.push(u),o&&o(a)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,n){var o=this,i=this.getUI(t);i?(i.data=e,i.node.active=!0,i.onShow(),n&&n()):this.openUI(t,e,0,function(){n&&n(),o.getUI(t).onShow()})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();n.UIManager=o,cc._RF.pop()},{}],UploadAndReturnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Manager/UIManager"),s=t("./GamePanel"),c=t("./SubmissionPanel"),u=t("../../Manager/ListenerManager"),l=t("../../Data/ListenerType"),p=t("../../Data/DaAnData"),h=t("../../Utils/UIHelp"),f=t("../Item/OverTips"),d=t("../../Manager/AudioManager"),g=cc._decorator,y=g.ccclass,v=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,e.prototype.start=function(){},e.prototype.onFanHui=function(){u.ListenerManager.getInstance().trigger(l.ListenerType.OnEditStateSwitching,{state:0}),a.UIManager.getInstance().closeUI(s.default),a.UIManager.getInstance().closeUI(n),a.UIManager.getInstance().closeUI(f.OverTips),a.UIManager.getInstance().closeUI(c.default),p.DaAnData.getInstance().submitEnable=!1,d.AudioManager.getInstance().stopAll()},e.prototype.onTiJiao=function(){p.DaAnData.getInstance().submitEnable?a.UIManager.getInstance().openUI(c.default,null,300):h.UIHelp.showTip("\u8bf7\u901a\u5173\u540e\u8fdb\u884c\u4fdd\u5b58\u3002")},e.className="UploadAndReturnPanel",e=n=i([y],e)}(r.BaseUI));n.default=v,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Manager/AudioManager":"AudioManager","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../Item/OverTips":"OverTips","./GamePanel":"GamePanel","./SubmissionPanel":"SubmissionPanel"}],affirmTips:[function(t,e,n){"use strict";cc._RF.push(e,"67e25WAGoRADq1zkpxqqwdF","affirmTips");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../BaseUI"),a=t("../../Manager/UIManager"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callback=null,e}var n;return o(e,t),n=e,e.prototype.start=function(){},e.prototype.init=function(t,e,n,o,i){this.title.node.active=!1,this.des.node.active=!0,this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callback=n,this.des.string=e,this.callback=n,o&&(this.btnCloseLabel.string=o),i&&(this.btnOkLabel.string=i)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v2(0,this.ok.node.position.y),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),a.UIManager.getInstance().closeUI(n),this.callback(1)},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),a.UIManager.getInstance().closeUI(n),this.callback(0)},e.className="AffirmTips",i([u(cc.Node)],e.prototype,"NodeDes",void 0),i([u(cc.Label)],e.prototype,"title",void 0),i([u(cc.Label)],e.prototype,"des",void 0),i([u(cc.Button)],e.prototype,"close",void 0),i([u(cc.Button)],e.prototype,"ok",void 0),i([u(cc.Label)],e.prototype,"btnCloseLabel",void 0),i([u(cc.Label)],e.prototype,"btnOkLabel",void 0),i([u(cc.Node)],e.prototype,"win",void 0),i([u(cc.Node)],e.prototype,"fail",void 0),e=n=i([c],e)}(r.BaseUI);n.AffirmTips=l,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],arrays:[function(t,e,n){"use strict";cc._RF.push(e,"b058arw+iJCUoMo5lRZ29ul","arrays"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./util");function i(t,e,n){for(var i=n||o.defaultEquals,r=t.length,a=0;a<r;a++)if(i(t[a],e))return a;return-1}n.indexOf=i,n.lastIndexOf=function(t,e,n){for(var i=n||o.defaultEquals,r=t.length-1;r>=0;r--)if(i(t[r],e))return r;return-1},n.contains=function(t,e,n){return i(t,e,n)>=0},n.remove=function(t,e,n){var o=i(t,e,n);return!(o<0||(t.splice(o,1),0))},n.frequency=function(t,e,n){for(var i=n||o.defaultEquals,r=t.length,a=0,s=0;s<r;s++)i(t[s],e)&&a++;return a},n.equals=function(t,e,n){var i=n||o.defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!i(t[a],e[a]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var o=t[e];return t[e]=t[n],t[n]=o,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,e){for(var n=0,o=t;n<o.length;n++)if(!1===e(o[n]))return},cc._RF.pop()},{"./util":"util"}],box:[function(t,e,n){"use strict";cc._RF.push(e,"3f6a6tpYMFJmJIQngIRBAN+","box");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.main=null,e.falseSP=null,e.endSP=null,e.text="",e.right=0,e.disabled=!0,e.buXuGuanBi=!1,e}return o(e,t),e.prototype.handleClose=function(){if(!this.disabled&&!this.buXuGuanBi){this.node.destroy();var t=new cc.Event.EventCustom("close",!0);this.node.dispatchEvent(t)}},e.prototype.setRihgtAction=function(){this.main.node.active=!0,this.falseSP.node.active=!1,this.endSP.node.active=!1,this.main.setAnimation(0,"true",!1)},e.prototype.setFaultAction=function(){this.main.node.active=!1,this.falseSP.node.active=!0,this.endSP.node.active=!1,this.falseSP.setAnimation(0,"false",!1)},e.prototype.setEndAction=function(){this.main.node.active=!1,this.falseSP.node.active=!1,this.endSP.node.active=!0,this.endSP.setAnimation(0,"in",!1),this.endSP.addAnimation(0,"stand",!0)},e.prototype.setLabelAction=function(){this.label.node.opacity=0,this.label.string=this.text,this.label.node.runAction(cc.fadeIn(.3)),this.disabled=!1},e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.disabled=!0,0==this.right?this.setRihgtAction():2==this.right?this.setFaultAction():1==this.right&&this.setEndAction(),setTimeout(function(){t.setLabelAction()},1300)},i([s(cc.Label)],e.prototype,"label",void 0),i([s(sp.Skeleton)],e.prototype,"main",void 0),i([s(sp.Skeleton)],e.prototype,"falseSP",void 0),i([s(sp.Skeleton)],e.prototype,"endSP",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],count:[function(t,e,n){"use strict";cc._RF.push(e,"1beb7/vDWBCo6LmGSawpopS","count");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countLabel=null,e.turnRotate=10,e.turnDuration=2,e}return o(e,t),e.prototype.setRepeatAction=function(){var t=cc.rotateTo(this.turnDuration,this.turnRotate),e=cc.rotateTo(this.turnDuration,-this.turnRotate);this.node.runAction(cc.repeatForever(cc.sequence(t,e)))},e.prototype.setDownAction=function(){var t=cc.moveBy(.3,0,-10).easing(cc.easeCubicActionOut()),e=cc.moveBy(.4,0,15).easing(cc.easeCubicActionOut()),n=cc.moveBy(.6,0,-10).easing(cc.easeCubicActionOut()),o=cc.callFunc(this.setRepeatAction,this);return cc.sequence(t,e,n,o)},e.prototype.start=function(){this.node.runAction(this.setDownAction())},i([s(cc.Label)],e.prototype,"countLabel",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],dot:[function(t,e,n){"use strict";cc._RF.push(e,"ba3ff80wttG0Z4gZejy2YLS","dot");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot_1=null,e.duration=5,e}return o(e,t),e.prototype.setDotAction_1=function(){var t=cc.moveBy(this.duration,20,100).easing(cc.easeQuinticActionIn());return cc.repeatForever(t)},e.prototype.start=function(){},i([s(cc.Node)],e.prototype,"dot_1",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],egg:[function(t,e,n){"use strict";cc._RF.push(e,"0865aX1MshL97Lp1m8KOZRK","egg");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelDisplay=null,e.shadowDisplay=null,e.eggSp=null,e.eggSelected=null,e.eggBgAction=null,e.text="",e.selected=!1,e.bingo=!1,e.end=!1,e}return o(e,t),e.prototype.handleClick=function(t){var e=new cc.Event.EventCustom("select",!0);this.node.dispatchEvent(e)},e.prototype.handleClickCallback=function(){this.eggSelected.runAction(this.setBgSection(this.selected)),this.labelDisplay.node.runAction(this.setShakeAction()),this.selected&&(this.eggBgAction.active=!0,this.eggBgAction.runAction(this.setSelectBgAction()))},e.prototype.handleGameOver=function(t){t&&(this.selected=!1,this.eggSelected.opacity=0),this["set"+(t?"Correct":"Error")+"AnswerSpine"]()},e.prototype.setSelectBgAction=function(){var t=this,e=cc.scaleTo(.3,1.3,1.3).easing(cc.easeCubicActionOut()),n=cc.fadeOut(.3),o=cc.callFunc(function(){t.eggBgAction.active=!1,t.eggBgAction.opacity=150,t.eggBgAction.scale=1},100);return cc.sequence(e,n,o)},e.prototype.setBgSection=function(t){return cc[t?"fadeIn":"fadeOut"](.2)},e.prototype.setShakeAction=function(){var t=cc.rotateTo(.1,7),e=cc.rotateTo(.2,-7),n=cc.rotateTo(.1,0);return cc.sequence(t,e,n)},e.prototype.setCorrectAnswerSpine=function(){switch(this.eggSp.timeScale=1,this.eggSp.setSkin("niao"),this.eggSp.setAnimation(0,"in",!1),4*Math.random()>>0){case 0:this.eggSp.addAnimation(0,"guodu_B",!1),this.eggSp.addAnimation(0,"guodu_B_standby_loop",!0);break;case 1:this.eggSp.addAnimation(0,"guodu_A",!1),this.eggSp.addAnimation(0,"guodu_A_yaobai_loop",!0);break;case 2:this.eggSp.addAnimation(0,"standby3_loop",!0);break;default:this.eggSp.addAnimation(0,"standby4_loop",!0)}},e.prototype.setErrorAnswerSpine=function(){this.labelDisplay.node.runAction(this.setShakeAction()),this.eggSp.node.runAction(this.setShakeAction()),this.eggSelected.runAction(this.setShakeAction())},e.prototype.start=function(){this.labelDisplay.string=this.text,this.node.on(cc.Node.EventType.TOUCH_START,this.handleClick,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.handleClick,this)},i([s(cc.Label)],e.prototype,"labelDisplay",void 0),i([s(cc.Node)],e.prototype,"shadowDisplay",void 0),i([s(sp.Skeleton)],e.prototype,"eggSp",void 0),i([s(cc.Node)],e.prototype,"eggSelected",void 0),i([s(cc.Node)],e.prototype,"eggBgAction",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],tips:[function(t,e,n){"use strict";cc._RF.push(e,"bf450g7cztIM6gPLVvcaP2I","tips");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="",e.close=!0,e}return o(e,t),e.prototype.setAction=function(){var t=this,e=cc.scaleTo(.2,1.8,1.8).easing(cc.easeCubicActionOut()),n=cc.scaleTo(.2,1.5,1.5).easing(cc.easeCubicActionOut()),o=cc.delayTime(1.2),i=cc.fadeOut(.6),r=cc.callFunc(function(){var e=setTimeout(function(){t.node.destroy(),clearTimeout(e)},200)});return this.close?cc.sequence(e,n,o,i,r):cc.sequence(e,n)},e.prototype.start=function(){this.label.string=this.text,this.node.setPosition(cc.v2(0,0)),this.node.runAction(this.setAction())},e.prototype.onDestroy=function(){var t=new cc.Event.EventCustom("close_tips",!0);this.node.dispatchEvent(t)},i([s(cc.Label)],e.prototype,"label",void 0),e=i([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],util:[function(t,e,n){"use strict";cc._RF.push(e,"c9cacB846tOCorK/Mt3JpJs","util"),Object.defineProperty(n,"__esModule",{value:!0});var o=Object.prototype.hasOwnProperty;function i(t){return"function"==typeof t}function r(t){return void 0===t}function a(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,e){return o.call(t,e)},n.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},n.defaultEquals=function(t,e){return t===e},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":a(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(a(t))return t.toString();var o="{",i=!0;for(var s in t)n.has(t,s)&&(i?i=!1:o+=e,o=o+s+":"+t[s]);return o+"}"},n.isFunction=i,n.isUndefined=r,n.isString=a,n.reverseCompareFunction=function(t){return r(t)||!i(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},n.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}},cc._RF.pop()},{}]},{},["BaseConfigContainer","ConstValue","CustomTypes","DaAnData","DataReporting","GameData","ListenerType","NetWork","GameMain","AudioManager","ListenerManager","TimeManager","UIManager","BaseUI","OverTips","Tip","affirmTips","box","count","dot","egg","tips","ErrorPanel","GamePanel","LoadingUI","SubmissionPanel","TeacherPanel","TipUI","TitleNode","UploadAndReturnPanel","Tools","AdaptiveScreen","AudioPlayExtension","BoundingBoxDemo","BoundingBoxHelp","FadeUIPlugin","LogWrap","MathExtension","MathUtils","StringExtension","UIHelp","Dictionary","Set","arrays","util"]);