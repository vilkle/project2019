{"version":3,"sources":["../../../../../../assets/scripts/UI/Item/assets/scripts/UI/Item/OverTips.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/scripts/UI/Item","sourcesContent":["import { BaseUI } from \"../BaseUI\";\nimport { Tools } from \"../../UIComm/Tools\";\nimport { UIManager } from \"../../Manager/UIManager\";\nimport { AudioManager } from \"../../Manager/AudioManager\";\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class OverTips extends BaseUI {\n\n    protected static className = \"OverTips\";\n\n    @property(cc.Label)\n    private label_tip: cc.Label = null;\n\n    @property(sp.Skeleton)\n    private spine_false: sp.Skeleton = null;\n    @property(sp.Skeleton)\n    private spine_true: sp.Skeleton = null;\n    @property(sp.Skeleton)\n    private spine_complete: sp.Skeleton = null;\n\n    @property(cc.Node)\n    private node_close: cc.Node = null;\n\n    private callback = null;\n\n    constructor() {\n        super();\n    }\n\n    start() {\n        this.node_close.on(cc.Node.EventType.TOUCH_END, this.onClickClose, this);\n    }\n\n    onDisable() {\n        this.node_close.off(cc.Node.EventType.TOUCH_END, this.onClickClose, this);\n    }\n\n    /**\n     设置显示内容\n     @param {number} type          0: 错误  1：答对了  2：闯关成功(一直显示不会关闭)\n     @param {string} str           提示内容\n     */\n    init(type:number, str:string=\"\",callback:Function):void {\n        this.callback = callback;\n        this.spine_false.node.active = type == 0;\n        this.spine_true.node.active = type == 1;\n        this.spine_complete.node.active = type == 2;\n        this.label_tip.string = str;\n        this.label_tip.node.active = type != 2;\n        switch (type) {\n            case 0:\n                Tools.playSpine(this.spine_false, \"false\", false, this.delayClose.bind(this));\n                AudioManager.getInstance().playSound(\"sfx_genneg\", false, 1);\n                break;\n            case 1:\n                Tools.playSpine(this.spine_true, \"true\", false, this.delayClose.bind(this));\n                AudioManager.getInstance().playSound(\"sfx_genpos\", false, 1);\n                break;\n            case 2:\n                Tools.playSpine(this.spine_complete, \"in\", false, function () {\n                    Tools.playSpine(this.spine_complete, \"stand\", true, this.delayClose.bind(this));\n                }.bind(this));\n                AudioManager.getInstance().playSound(\"sfx_genpos\", false, 1);\n                break;\n        }\n        let endPos = this.label_tip.node.position;\n        let framePos_1 = cc.v2(endPos.x, endPos.y - 72.8);\n        let framePos_2 = cc.v2(endPos.x, endPos.y + 12);\n        let framePos_3 = cc.v2(endPos.x, endPos.y - 8);\n        let framePos_4 = cc.v2(endPos.x, endPos.y + 7.3);\n        this.label_tip.node.position = framePos_1;\n        this.label_tip.node.runAction(cc.sequence(cc.moveTo(0.08, framePos_2), cc.moveTo(0.08, framePos_3), cc.moveTo(0.08, framePos_4), cc.moveTo(0.06, endPos)));\n    }\n\n    delayClose(): void {\n        //this.scheduleOnce(function () { this.onClickClose() }.bind(this), 0);\n    }\n\n    onClickClose(event?, customEventData?): void {\n        if (event) AudioManager.getInstance().playSound(\"sfx_buttn\", false, 1);\n\tif (this.callback) this.callback();\n        UIManager.getInstance().closeUI(OverTips);\n    }\n}\n"]}