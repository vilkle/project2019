(function(e){function t(t){for(var o,s,i=t[0],u=t[1],l=t[2],p=0,f=[];p<i.length;p++)s=i[p],r[s]&&f.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var u=a[i];0!==r[u]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},n=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{staticStyle:{height:"100vh"}},[a("el-header",{staticClass:"header",attrs:{height:"80px"}},[a("el-steps",{staticClass:"header-steps",attrs:{active:e.active,space:400,"finish-status":"success","align-center":""}},e._l(e.steps,function(e,t){return a("el-step",{key:t,attrs:{description:e.text}})}),1)],1),a("keep-alive",[a("router-view",{attrs:{fdata:e.formData},on:{step:e.handleStep,"update:fdata":function(t){e.formData=t}}})],1)],1)],1)},n=[],s={name:"app",data:function(){return{steps:[{id:1,text:"录入题目信息"},{id:2,text:"检测题目"}],active:1,formData:{}}},methods:{handleStep:function(e){this.active=e}},beforeDestroy:function(){sessionStorage.removeItem("local_form_data")}},i=s,u=(a("7c55"),a("2877")),l=Object(u["a"])(i,r,n,!1,null,null,null),c=l.exports,p=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("el-main",[a("el-form",{ref:"mainForm",staticClass:"main-form",attrs:{model:e.formData,rules:e.formRules,"label-position":"top"}},[a("el-form-item",{attrs:{label:"1. 设置题干类型",prop:"type"}},e._l(e.enums.type,function(t,o){return a("el-radio",{key:o,attrs:{label:t.id},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},[e._v(e._s(t.text))])}),1),a("el-form-item",{attrs:{label:"2. 题干标准数（不大于30的整数）",prop:"norm"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"不大于30的整数"},model:{value:e.formData.norm,callback:function(t){e.$set(e.formData,"norm",t)},expression:"formData.norm"}})],1)],1),a("el-form-item",{attrs:{label:"3. 选数区数量（8～15的整数）",prop:"count"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"8～15的整数"},model:{value:e.formData.count,callback:function(t){e.$set(e.formData,"count",t)},expression:"formData.count"}})],1)],1),a("el-form-item",{attrs:{label:"4. 输入第一题（00~50的两位数）"}},[a("el-row",{attrs:{gutter:20}},e._l(e.showCount(e.formData.count),function(t,o){return a("el-col",{key:o,attrs:{span:3}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData.question[o],callback:function(t){e.$set(e.formData.question,o,t)},expression:"formData.question[index]"}})],1)}),1)],1)],1)],1),a("el-footer",{staticClass:"footer",attrs:{height:"90px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)},d=[],m=a("5176"),h=a.n(m),g=a("f499"),b=a.n(g),v={name:"",data:function(){return{enums:{type:[{id:1,text:"大于"},{id:2,text:"小于"},{id:4,text:"不大于"},{id:3,text:"不小于"}]},formData:{norm:void 0,type:1,count:8,question:{}},formRules:{norm:[{required:!0,message:"请设置题干标准数",trigger:"blur"},{pattern:/^([0-9]|[12][0-9]|30)$/,message:"限输入不大于30的整数"}],count:[{required:!0,message:"请设置选区数量",trigger:"blur"},{pattern:/^([8-9]|1[0-5])$/,message:"限输入8-15的整数"}],type:[{required:!0,message:"必选",trigger:"blur"}]},query:{}}},mounted:function(){this.query=this.$route.query,this.$emit("step",1),this.getTitleDetail(this.query.title_id)},props:["fdata"],methods:{showCount:function(e){var t=~~e;return 8<=t&&t<=15?t:8},validAnwsers:function(){var e=!0,t=0,a="还有未填写的题目",o=/^([0-4][0-9]|50)$/;for(var r in this.formData.question){t++;var n=this.formData.question[r];if(1!=n.length){if(!o.test(n)){e=!1,a="题目只能输入00～50的整数 [第".concat(1+~~r,"个输入框]");break}}else console.log("个位数 ====> ",r),this.$set(this.formData.question,r,n)}return this.formData.count>t&&(this.$message.warning(a),e=!1),e},getTitleDetail:function(e){var t=this;e&&this.$http.get("/get/title?title_id=".concat(e)).then(function(e){if(0==e.data.errcode&&e.data.data.courseware_id){sessionStorage.setItem("local_courseware_id",b()(e.data.data.courseware_id));var a=JSON.parse(e.data.data.courseware_content);if(t.formData=h()(t.formData,a),t.formData.count<8)for(var o=8;o>t.formData.count;)t.birds[--o].enabled=!1}})},onSubmit:function(){var e=this;this.$refs.mainForm.validate(function(t){if(!t)return e.$message.warning("请填写必填项"),!1;e.validAnwsers()&&(e.$emit("update:fdata",e.formData),sessionStorage.setItem("local_form_data",b()(e.formData)),e.$emit("step",2),e.$router.push({path:"/game",query:e.query}))})}}},y=v,w=(a("de16"),Object(u["a"])(y,f,d,!1,null,null,null)),D=w.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("el-main",[a("div",{staticClass:"main-title"},[e._v("找出"+e._s(this.type[this.fdata.type-1])+e._s(this.fdata.norm)+"的数")]),a("iframe",{staticClass:"game-wrapper",attrs:{src:e.frameSrc,frameborder:"0"}})]),a("el-footer",{staticClass:"footer",attrs:{height:"90px"}},[a("el-button",{on:{click:e.backRouter}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交保存")])],1)],1)},x=[],$="web-mobile/index.html",S={name:"game",data:function(){return{frameSrc:$,type:["大于","小于","不小于","不大于"],query:{},enabled:!1}},mounted:function(){this.$emit("step",2),this.query=this.$route.query,window.addEventListener("message",this.messageHandle,!1)},props:["fdata"],methods:{backRouter:function(){this.enabled=!1,this.$emit("step",1),this.$router.push({path:"/home",query:this.$route.query})},setCookie:function(e,t){var a=30,o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),document.cookie="".concat(e,"=").concat(escape(t),";expires=").concat(o.toGMTString(),";domain=.haibian.com;path=/")},messageHandle:function(e){if("string"==typeof e.data)try{var t=JSON.parse(e.data);this.enabled=t.great}catch(a){return!1}},onSubmit:function(){var e=this;this.enabled?this.$confirm("是否提交数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.postQuestion()}).catch(function(){}):this.$alert("全部通关才可以提交题目")},postQuestion:function(){var e,t,a=this,o=sessionStorage.getItem("local_courseware_id");this.setCookie("Admin-Token","eyJpdiI6InBNYlRMaHpCSUtocFFZTjM5VWRhdEE9PSIsInZhbHVlIjoiXC9aR09UZ1FWSjUzZDE1WDV5V25iREV3a0JlWVZVY0JHeDZGcHlPUUhRNzA9IiwibWFjIjoiNDUxOGQ0YzNhNWM3OTc2ZTg2ZDliZDA5Y2JkY2I0NDdhM2RiNjhlZDhkMjQxMzNlMjZlZWU5ZDNkOGU0NTI2ZCJ9"),o?(e="/modify",t={courseware_id:o}):(e="/add",t={title_id:this.query.title_id}),t.courseware_content=sessionStorage.getItem("local_form_data"),t.is_result=1,t.is_lavel=1,this.$http.post(e,t).then(function(e){0==e.data.errcode?a.$message.success("提交成功"):a.$message.error(e.data.errmsg)})}}},k=S,C=(a("d4d0"),Object(u["a"])(k,_,x,!1,null,null,null)),T=C.exports;o["default"].use(p["a"]);var q=new p["a"]({mode:"hash",base:"",routes:[{path:"/",name:"index",redirect:"/home",component:D},{path:"/home",name:"home",component:D},{path:"/game",name:"game",component:T}]}),I=q,M=(a("0fae"),a("5c96")),j={install:function(e){e.use(M["Autocomplete"]),e.use(M["Badge"]),e.use(M["Breadcrumb"]),e.use(M["BreadcrumbItem"]),e.use(M["Button"]),e.use(M["Card"]),e.use(M["ColorPicker"]),e.use(M["Cascader"]),e.use(M["Checkbox"]),e.use(M["CheckboxGroup"]),e.use(M["Col"]),e.use(M["Container"]),e.use(M["Pagination"]),e.use(M["DatePicker"]),e.use(M["Dropdown"]),e.use(M["DropdownItem"]),e.use(M["DropdownMenu"]),e.use(M["Form"]),e.use(M["Footer"]),e.use(M["FormItem"]),e.use(M["Icon"]),e.use(M["Input"]),e.use(M["InputNumber"]),e.use(M["Header"]),e.use(M["Main"]),e.use(M["Menu"]),e.use(M["MenuItem"]),e.use(M["MenuItemGroup"]),e.use(M["Option"]),e.use(M["Pagination"]),e.use(M["Popover"]),e.use(M["Progress"]),e.use(M["Radio"]),e.use(M["RadioGroup"]),e.use(M["Row"]),e.use(M["Select"]),e.use(M["Submenu"]),e.use(M["Switch"]),e.use(M["Table"]),e.use(M["TableColumn"]),e.use(M["Tabs"]),e.use(M["TabPane"]),e.use(M["Tag"]),e.use(M["Tooltip"]),e.use(M["TimePicker"]),e.use(M["Tooltip"]),e.use(M["Upload"]),e.use(M["TimeSelect"]),e.use(M["Dialog"]),e.use(M["Steps"]),e.use(M["Step"]),e.use(M["Tree"]),e.use(M["Loading"].directive),e.use(M["RadioButton"])}};o["default"].prototype.$loading=M["Loading"].service,o["default"].prototype.$msgbox=M["MessageBox"],o["default"].prototype.$notify=M["Notification"],o["default"].prototype.$alert=M["MessageBox"].alert,o["default"].prototype.$confirm=M["MessageBox"].confirm,o["default"].prototype.$prompt=M["MessageBox"].prompt,o["default"].prototype.$message=M["Message"];var O=j,P=a("d3d7"),R=a.n(P),N=(a("57e7"),a("bc3a")),Z=a.n(N),B=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0,U=/http:/.test(window["location"].protocol),F=/localhost/.test(window["location"].href)||U,J=B?"//courseware.haibian.com":F?"//ceshi.courseware.haibian.com":"//ceshi_courseware.haibian.com",E=Z.a.create({baseURL:J,withCredentials:!0,timeout:6e4});E.defaults.headers.post["Content-Type"]="application/json",E.defaults.headers.put["Content-Type"]="application/json",E.interceptors.request.use(),E.interceptors.response.use();var G=function e(t){e.installed||(e.installed=!0,R()(t.prototype,"$http",E))},H={install:G};o["default"].use(O),o["default"].use(H),o["default"].config.productionTip=!1,new o["default"]({router:I,render:function(e){return e(c)}}).$mount("#app")},"5c48":function(e,t,a){},"7c55":function(e,t,a){"use strict";var o=a("5c48"),r=a.n(o);r.a},cf4a:function(e,t,a){},d4d0:function(e,t,a){"use strict";var o=a("cf4a"),r=a.n(o);r.a},de16:function(e,t,a){"use strict";var o=a("f3e7"),r=a.n(o);r.a},f3e7:function(e,t,a){}});