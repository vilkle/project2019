window.__require=function t(e,r,a){function n(o,s){if(!r[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+o+"'")}}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){return n(e[o][1][t]||t)},u,u.exports,t,e,r,a)}return r[o].exports}for(var i="function"==typeof __require&&__require,o=0;o<a.length;o++)n(a[o]);return n}({AdaptiveScreen:[function(t,e,r){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return a(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,r=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,r)},n([s({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),n([s],e.prototype,"viewWidth",void 0),n([s],e.prototype,"viewHeight",void 0),e=n([o],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],AudioManager:[function(t,e,r){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","AudioManager"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Data/ConstValue"),n=function(){function t(){this.bgm=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.playSound=function(t,e,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=a.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(o,cc.AudioClip,function(t,a){if(t)cc.error(t);else{var o=cc.audioEngine.play(a,e||!1,r||1);n&&n(o),i&&cc.audioEngine.setFinishCallback(o,i)}})},t.prototype.stopAudio=function(t){cc.audioEngine.stop(t)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.playBGM=function(t){if(this.bgm!=t){this.bgm=t,cc.audioEngine.stopMusic();var e=a.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(e,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=a.ConstValue.AUDIO_DIR+this.bgm;cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})},t.instance=null,t}();r.AudioManager=n,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],BaseConfigContainer:[function(t,e,r){"use strict";cc._RF.push(e,"a9280QRTmRIUqfgpuhZqA92","BaseConfigContainer"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),t}();r.BaseConfigContainer=a,cc._RF.pop()},{}],BaseUI:[function(t,e,r){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Data/ConstValue"),o=t("../Manager/ListenerManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},set:function(t){this.mData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),e.getUrl=function(){return cc.log(this.className),i.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){o.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e=n([c],e)}(cc.Component));r.BaseUI=l,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/ListenerManager":"ListenerManager"}],ConstValue:[function(t,e,r){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","ConstValue"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){}return t.IS_EDITIONS=!0,t.IS_TEACHER=!0,t.CONFIG_FILE_DIR="config/",t.PREFAB_UI_DIR="prefab/ui/panel/",t.AUDIO_DIR="audio/",t.CoursewareKey="D#0GoXH&y!qJIfY81puGV7^U",t}();r.ConstValue=a,cc._RF.pop()},{}],CustomTypes:[function(t,e,r){"use strict";cc._RF.push(e,"d2d70bGmsJOAJetl6yMvak0","CustomTypes"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){return function(){}}();r.AnswerData=a,cc._RF.pop()},{}],DaAnData:[function(t,e,r){"use strict";cc._RF.push(e,"693216rj8NLOIe3GAHatvPC","DaAnData"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){this.type=0,this.figure=0,this.ruleDataArr=[],this.subjectDataArr=[],this.answerDataArr=[],this.submitEnable=!1}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();r.DaAnData=a,cc._RF.pop()},{}],DataReporting:[function(t,e,r){"use strict";cc._RF.push(e,"fcbb2jwzKhJwKls3NHmiFBh","DataReporting");var a=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var n=t("./ConstValue"),i=cc._decorator,o=i.ccclass,s=(i.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),n.ConstValue.IS_EDITIONS&&(e?courseware.page.sendToParent(t,e):courseware.page.sendToParent(t))},t.prototype.addEvent=function(t,e){n.ConstValue.IS_EDITIONS&&courseware.page.on(t,e)},t.isRepeatReport=!0,t=e=a([o],t)}());r.default=s,cc._RF.pop()},{"./ConstValue":"ConstValue"}],Dictionary:[function(t,e,r){"use strict";cc._RF.push(e,"cc667V2/zFJtI7/GBev9gvA","Dictionary"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("./util"),n=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||a.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!a.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!a.isUndefined(t)&&!a.isUndefined(e)){var r,n="$"+this.toStr(t),i=this.table[n];return a.isUndefined(i)?(this.nElements++,r=void 0):r=i.value,this.table[n]={key:t,value:e},r}},t.prototype.remove=function(t){var e="$"+this.toStr(t),r=this.table[e];if(!a.isUndefined(r))return delete this.table[e],this.nElements--,r.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(a.has(this.table,e)){var r=this.table[e];t.push(r.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(a.has(this.table,e)){var r=this.table[e];t.push(r.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(a.has(this.table,e)){var r=this.table[e];if(!1===t(r.key,r.value))return}},t.prototype.containsKey=function(t){return!a.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,r){t+="\n\t"+e+" : "+r}),t+"\n}"},t}();r.default=n,cc._RF.pop()},{"./util":"util"}],ErrorPanel:[function(t,e,r){"use strict";cc._RF.push(e,"78373xfPadEJ5IFn4sizh3z","ErrorPanel");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Manager/UIManager"),s=t("../../Manager/AudioManager"),c=t("../../Http/NetWork"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}var r;return a(e,t),r=e,e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,r,a,n,i){void 0===i&&(i=!1);var o={shuoMing:t,biaoTi:e,tiShi:r};c.NetWork.getInstance().LogJournalReport("ErrorPanelLog",o),s.AudioManager.getInstance().playSound("sfx_erro",!1,1),this.shuoMing.string=t,this.isClose=i,this.callback=n,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=r||this.tiShi.string,this.btnLab.string=a||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){s.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),this.isClose&&o.UIManager.getInstance().closeUI(r)},e.className="ErrorPanel",n([h(cc.Label)],e.prototype,"biaoTi",void 0),n([h(cc.Label)],e.prototype,"shuoMing",void 0),n([h(cc.Label)],e.prototype,"tiShi",void 0),n([h(cc.Label)],e.prototype,"btnLab",void 0),n([h(cc.Button)],e.prototype,"btn",void 0),e=r=n([u],e)}(i.BaseUI);r.default=p,cc._RF.pop()},{"../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],FadeUIPlugin:[function(t,e,r){"use strict";cc._RF.push(e,"2fe78Vyt/NInb1oC42+tpUk","FadeUIPlugin");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return a(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),r=cc.scaleTo(.5,0,0),a=cc.scaleTo(.5,1,1),n=cc.sequence(t,e,r,a);this.node.runAction(n)},n([s],e.prototype,"delay",void 0),e=n([o],e)}(cc.Component);r.FadeUIPlugin=c,cc._RF.pop()},{}],GameData:[function(t,e,r){"use strict";cc._RF.push(e,"65c35Ym/oRKD6h93ZiyEFOw","GameData"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();r.GameData=a,cc._RF.pop()},{}],GameMain:[function(t,e,r){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none")},e.prototype.start=function(){},e.prototype.update=function(t){},e=n([o],e)}(cc.Component));r.GameMain=s,cc._RF.pop()},{}],GamePanel:[function(t,e,r){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Http/NetWork"),s=t("../../Data/DataReporting"),c=t("../../Data/ConstValue"),l=t("../../Data/DaAnData"),u=t("../../Utils/UIHelp"),h=t("../../Manager/UIManager"),p=t("./UploadAndReturnPanel"),f=t("../../Manager/AudioManager"),g=t("../../Data/ItemType"),d=cc._decorator,y=d.ccclass,v=d.property,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ruleNode=null,e.subjectNode=null,e.answerNode=null,e.singlePrefab=null,e.treePrefab=null,e.squareBlack=null,e.circleYellow=null,e.triangleGreen=null,e.sexangleBlack=null,e.sexangleOrange=null,e.sexanglePurple=null,e.octagonBlack=null,e.octagonGreen=null,e.octagonYellow=null,e.arrowBlack=null,e.arrowBlue=null,e.arrowOrange=null,e.handGreen=null,e.lineBlack=null,e.lineCurve=null,e.lineDotted=null,e.squareLight=null,e.sexangleLight=null,e.octagonLight=null,e.lineLight=null,e.arrowLight=null,e.touchNode=null,e.bg=null,e.ruleItemArr=[],e.subjectItemArr=[],e.answerItemArr=[],e.type=0,e.figure=0,e.sameType=null,e.diffType=null,e.type1=null,e.type2=null,e.arrow1=null,e.arrow2=null,e.typeNull=null,e.arrowNull=null,e.typeLight=null,e.handLight=null,e.ruleDataArr=[],e.subjectDataArr=[],e.answerDataArr=[],e.intervalArr=[],e.audioId=null,e.touchTarget=null,e.touchEnable=!0,e.overNum=0,e.isOver=0,e.eventvalue={isResult:1,isLevel:0,levelData:[{subject:null,answer:null,result:4}],result:4},e}return a(e,t),e.prototype.start=function(){var t=this;s.default.getInstance().addEvent("end_game",this.onEndGame.bind(this)),this.bg.on(cc.Node.EventType.TOUCH_START,function(e){1!=t.isOver&&(t.isOver=2,t.eventvalue.result=2,t.eventvalue.levelData[0].result=2)}),c.ConstValue.IS_TEACHER?(this.type=l.DaAnData.getInstance().type,this.figure=l.DaAnData.getInstance().figure,this.ruleDataArr=l.DaAnData.getInstance().ruleDataArr,this.subjectDataArr=l.DaAnData.getInstance().subjectDataArr,this.initGame(),h.UIManager.getInstance().openUI(p.default,null,212)):this.getNet()},e.prototype.intervalPoint=function(){for(var t=this,e=0;e<this.intervalArr.length;e++)clearTimeout(this.intervalArr[e]);this.intervalArr=[];var r=setTimeout(function(){t.point(),t.intervalPoint()},15e3);this.intervalArr.push(r)},e.prototype.point=function(){for(var t=0;t<this.answerDataArr.length;++t)for(var e=function(e){if(null==r.answerDataArr[t][e]){var a=r.subjectItemArr[t][e].getChildByName("light");a.active=!0,a.opacity=1,a.scale=.5;var n=cc.callFunc(function(){a.active=!1,a.opacity=255,a.scale=1}),i=cc.callFunc(function(){a.opacity=1,a.scale=.5}),o=cc.spawn(cc.fadeIn(.4),cc.scaleTo(.4,1)),s=cc.spawn(cc.fadeOut(.5),cc.scaleBy(.5,1.2)),c=cc.sequence(o,s,i,o,s,n);a.stopAllActions(),a.runAction(c)}},r=this,a=0;a<this.answerDataArr[t].length;++a)e(a)},e.prototype.initGame=function(){var t=this;this.eventvalue.levelData[0].answer=l.DaAnData.getInstance().answerDataArr,f.AudioManager.getInstance().playSound("sfx_itchopn"),f.AudioManager.getInstance().playSound("\u8bf7\u6309\u89c4\u5219\u628a\u56fe\u5f62\u653e\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u4e0a\u5427\uff01",!1,1,function(e){t.audioId=e},null),this.initData(),this.intervalPoint(),this.initType(),this.initRule(),this.initAnswer()},e.prototype.initData=function(){1==l.DaAnData.getInstance().figure?(this.type1=g.ItemType.triangle_green,this.type2=g.ItemType.circle_yellow,this.arrow1=g.ItemType.line_curve,this.arrow2=g.ItemType.line_dotted,this.typeNull=g.ItemType.square_black,this.arrowNull=g.ItemType.line_black,this.typeLight=this.squareLight,this.handLight=this.lineLight):2==l.DaAnData.getInstance().figure?(this.type1=g.ItemType.sexangle_orange,this.type2=g.ItemType.sexangle_purple,this.arrow1=g.ItemType.hand_blue,this.arrow2=g.ItemType.hand_green,this.typeNull=g.ItemType.sexangle_black,this.arrowNull=g.ItemType.hand_black,this.typeLight=this.sexangleLight,this.handLight=this.arrowLight):3==l.DaAnData.getInstance().figure&&(this.type1=g.ItemType.octagon_green,this.type2=g.ItemType.octagon_yellow,this.arrow1=g.ItemType.arrow_blue,this.arrow2=g.ItemType.arrow_orange,this.typeNull=g.ItemType.octagon_black,this.arrowNull=g.ItemType.arrow_black,this.typeLight=this.octagonLight,this.handLight=this.arrowLight);for(var t=0;t<this.subjectDataArr.length;t++){this.answerDataArr[t]=[];for(var e=0;e<this.subjectDataArr[t].length;e++)this.subjectDataArr[t][e]==this.typeNull||this.subjectDataArr[t][e]==this.arrowNull?this.answerDataArr[t][e]=null:this.answerDataArr[t][e]=this.subjectDataArr[t][e]}},e.prototype.initType=function(){this.subjectNode.children[0]&&this.subjectNode.children[0].destroy(),this.subjectNode.removeAllChildren();var t=null;1==this.type?((t=cc.instantiate(this.treePrefab)).setScale(.9),t.setPosition(cc.v2(-300,0))):2==this.type&&((t=cc.instantiate(this.singlePrefab)).setScale(1),t.setPosition(cc.v2(-500,0))),this.subjectNode.addChild(t);for(var e=0;e<t.children.length;e++){this.subjectItemArr[e]=[];for(var r=0;r<t.children[e].children.length;r++)this.subjectItemArr[e][r]=t.children[e].children[r],this.setState(this.subjectItemArr[e][r],this.subjectDataArr[e][r]),1==this.type?e%2==1?this.subjectItemArr[e][r].getChildByName("light").getComponent(cc.Sprite).spriteFrame=this.handLight:e%2==0&&(this.subjectItemArr[e][r].getChildByName("light").getComponent(cc.Sprite).spriteFrame=this.typeLight):2==this.type&&(r%2==1?this.subjectItemArr[e][r].getChildByName("light").getComponent(cc.Sprite).spriteFrame=this.handLight:r%2==0&&(this.subjectItemArr[e][r].getChildByName("light").getComponent(cc.Sprite).spriteFrame=this.typeLight))}},e.prototype.initRule=function(){for(var t=0;t<this.ruleNode.children.length;t++){this.ruleItemArr[t]=[];for(var e=0;e<this.ruleNode.children[t].children.length;e++)this.ruleItemArr[t][e]=this.ruleNode.children[t].children[e]}for(t=0;t<this.ruleItemArr.length;t++)for(e=0;e<this.ruleItemArr[t].length;e++)this.ruleItemArr[t][e].getChildByName("blank").opacity=255,this.ruleItemArr[t][e].getChildByName("sprite").active=!1;1==this.figure?(this.setRuleDefault(0,0,this.type1),this.setRuleDefault(1,2,this.type2),this.setRuleDefault(2,0,this.type1),this.setRuleDefault(2,2,this.type2),this.setRuleDefault(0,2,this.type1),this.setRuleDefault(1,0,this.type2),this.setRuleDefault(3,0,this.type2),this.setRuleDefault(3,2,this.type1),this.setRuleDefault(0,1,this.arrow2),this.setRuleDefault(1,1,this.arrow2),this.setRuleDefault(2,1,this.arrow1),this.setRuleDefault(3,1,this.arrow1),this.sameType=this.arrow2,this.diffType=this.arrow1):(this.setRuleDefault(0,0,this.type1),this.setRuleDefault(1,2,this.type1),this.setRuleDefault(2,0,this.type1),this.setRuleDefault(2,2,this.type1),this.setRuleDefault(0,2,this.type2),this.setRuleDefault(1,0,this.type2),this.setRuleDefault(3,0,this.type2),this.setRuleDefault(3,2,this.type2),this.setRuleDefault(0,1,this.arrow1),this.setRuleDefault(1,1,this.arrow1),this.setRuleDefault(2,1,this.arrow2),this.setRuleDefault(3,1,this.arrow2),this.sameType=this.arrow2,this.diffType=this.arrow1)},e.prototype.initAnswer=function(){if(1==this.type){for(var t=0,e=0,r=0;r<this.subjectItemArr.length;r++)for(var a=0;a<this.subjectItemArr.length;a++)r%2==1&&(t++,this.subjectDataArr[r][a]!=this.arrowNull&&e++);t==e?(this.answerNode.getChildByName("arrow1").removeFromParent(),this.answerNode.getChildByName("arrow2").removeFromParent()):(this.setState(this.answerNode.getChildByName("arrow1"),this.arrow1),this.setState(this.answerNode.getChildByName("arrow2"),this.arrow2),this.answerItemArr[2]=this.answerNode.getChildByName("arrow1"),this.answerItemArr[3]=this.answerNode.getChildByName("arrow2"))}else if(2==this.type){for(t=0,e=0,r=0;r<this.subjectItemArr.length;r++)for(a=0;a<this.subjectItemArr.length;a++)a%2==1&&(t++,this.subjectDataArr[r][a]!=this.arrowNull&&e++);t==e?(this.answerNode.getChildByName("arrow1").removeFromParent(),this.answerNode.getChildByName("arrow2").removeFromParent()):(this.setState(this.answerNode.getChildByName("arrow1"),this.arrow1),this.setState(this.answerNode.getChildByName("arrow2"),this.arrow2),this.answerItemArr[2]=this.answerNode.getChildByName("arrow1"),this.answerItemArr[3]=this.answerNode.getChildByName("arrow2"))}this.setState(this.answerNode.getChildByName("figure1"),this.type1),this.setState(this.answerNode.getChildByName("figure2"),this.type2),this.answerItemArr[0]=this.answerNode.getChildByName("figure1"),this.answerItemArr[1]=this.answerNode.getChildByName("figure2"),this.addListenerOnAnswer()},e.prototype.getRandomNum=function(t,e){var r=e-t,a=Math.random();return t+Math.round(a*r)},e.prototype.addListenerOnAnswer=function(){for(var t=this,e=function(e){var a=r.answerItemArr[e].getChildByName("blank");a.on(cc.Node.EventType.TOUCH_START,function(r){if(!t.touchTarget&&t.touchEnable){var a=t.getRandomNum(1,4);f.AudioManager.getInstance().stopAll(),1==a?f.AudioManager.getInstance().playSound("sfx_tunedtch1",!1):2==a?f.AudioManager.getInstance().playSound("sfx_tunedtch2",!1):3==a?f.AudioManager.getInstance().playSound("sfx_tunedtch3",!1):4==a&&f.AudioManager.getInstance().playSound("sfx_tunedtch4",!1),t.touchTarget=r.target;var n=t.answerType(e);t.touchNode.active=!0,t.touchNode.zIndex=100,t.setState(t.touchNode,n);var i=t.node.convertToNodeSpaceAR(r.currentTouch._point);t.touchNode.setPosition(i)}}),a.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t.touchTarget==e.target&&t.touchEnable){var r=t.node.convertToNodeSpaceAR(e.currentTouch._point);t.touchNode.setPosition(r);for(var a=0,n=0;n<t.subjectItemArr.length;n++)for(var i=0;i<t.subjectItemArr[n].length;i++){var o=t.subjectItemArr[n][i];if(!o.getChildByName("sprite").active)if(a++,o.getChildByName("blank").getBoundingBox().contains(o.convertToNodeSpaceAR(e.currentTouch._point))){o.getChildByName("light").active=!0;for(var s=0;s<t.subjectItemArr.length;s++)for(var c=0;c<t.subjectItemArr[s].length;c++)s==n&&c==i||(t.subjectItemArr[s][c].getChildByName("light").active=!1)}else t.overNum++;if(n==t.subjectItemArr.length-1&&i==t.subjectItemArr[n].length-1){if(a==t.overNum)for(s=0;s<t.subjectItemArr.length;s++)for(c=0;c<t.subjectItemArr[s].length;c++)t.subjectItemArr[s][c].getChildByName("light").active=!1;t.overNum=0}}}}),a.on(cc.Node.EventType.TOUCH_END,function(e){if(e.target==t.touchTarget&&t.touchEnable){var r=t.getRandomNum(1,4);f.AudioManager.getInstance().stopAll(),1==r?f.AudioManager.getInstance().playSound("sfx_tunedtch1",!1):2==r?f.AudioManager.getInstance().playSound("sfx_tunedtch2",!1):3==r?f.AudioManager.getInstance().playSound("sfx_tunedtch3",!1):4==r&&f.AudioManager.getInstance().playSound("sfx_tunedtch4",!1),t.touchTarget=null,t.touchNode.active=!1;for(var a=0;a<t.subjectItemArr.length;a++)for(var n=0;n<t.subjectItemArr[a].length;n++)t.subjectItemArr[a][n].getChildByName("light").active=!1}}),a.on(cc.Node.EventType.TOUCH_CANCEL,function(r){if(r.target==t.touchTarget&&t.touchEnable){var a=t.getRandomNum(1,4);f.AudioManager.getInstance().stopAll(),1==a?f.AudioManager.getInstance().playSound("sfx_tunedtch1",!1):2==a?f.AudioManager.getInstance().playSound("sfx_tunedtch2",!1):3==a?f.AudioManager.getInstance().playSound("sfx_tunedtch3",!1):4==a&&f.AudioManager.getInstance().playSound("sfx_tunedtch4",!1);for(var n=function(a){for(var n=function(n){var i=t.subjectItemArr[a][n];i.getChildByName("blank").getBoundingBox().contains(i.convertToNodeSpaceAR(r.currentTouch._point))&&t.isSame(a,n,e)&&(1==t.judge(a,n,e)?(t.answerDataArr[a][n]=t.answerType(e),t.setState(i,t.answerType(e)),t.adsorbAction(i),t.eventvalue.levelData[0].result=2,t.isOver=2,t.eventvalue.levelData[0].answer=t.answerDataArr,t.success()&&(l.DaAnData.getInstance().submitEnable=!0,t.eventvalue.levelData[0].result=1,t.isOver=1,t.eventvalue.levelData[0].answer=t.answerDataArr,console.log(t.eventvalue),s.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(t.eventvalue)}),u.UIHelp.showOverTip(2,"\u4f60\u771f\u68d2\uff01\u7b49\u7b49\u8fd8\u6ca1\u505a\u5b8c\u7684\u540c\u5b66\u5427\uff5e",null,"\u6311\u6218\u6210\u529f"))):2==t.judge(a,n,e)?(t.answerDataArr[a][n]=t.answerType(e),t.setState(i,t.answerType(e)),t.adsorbAction(i),t.eventvalue.levelData[0].result=2,t.isOver=2,t.eventvalue.levelData[0].answer=t.answerDataArr,t.touchEnable=!1,f.AudioManager.getInstance().stopAudio(t.audioId),f.AudioManager.getInstance().playSound("\u518d\u4ed4\u7ec6\u770b\u770b\u89c4\u5219\u54e6~",!1,1,null,function(){t.touchEnable=!0,t.setState(i,t.defaultType(e)),t.answerDataArr[a][n]=null}),t.touchTarget=null,t.touchNode.active=!1):3==t.judge(a,n,e)&&(t.answerDataArr[a][n]=t.answerType(e),t.setState(i,t.answerType(e)),t.adsorbAction(i),t.eventvalue.levelData[0].result=2,t.isOver=2,t.eventvalue.levelData[0].answer=t.answerDataArr,t.touchEnable=!1,f.AudioManager.getInstance().stopAudio(t.audioId),1==t.type?f.AudioManager.getInstance().playSound("\u8bf7\u5148\u5b8c\u6210\u524d\u9762\u7684\u56fe\u5f62\u54e6~",!1,1,null,function(){t.touchEnable=!0,t.setState(i,t.defaultType(e)),t.answerDataArr[a][n]=null}):2==t.type&&f.AudioManager.getInstance().playSound("\u76ee\u524d\u65e0\u6cd5\u5224\u65ad\u8fd9\u4e2a\u4f4d\u7f6e\u54e6~",!1,1,null,function(){t.touchEnable=!0,t.setState(i,t.defaultType(e)),t.answerDataArr[a][n]=null}),t.touchTarget=null,t.touchNode.active=!1))},i=0;i<t.subjectItemArr[a].length;i++)n(i)},i=0;i<t.subjectItemArr.length;i++)n(i);for(var o=0;o<t.subjectItemArr.length;o++)for(var c=0;c<t.subjectItemArr[o].length;c++)t.subjectItemArr[o][c].getChildByName("light").active=!1;t.touchTarget=null,t.touchNode.active=!1,t.intervalPoint()}})},r=this,a=0;a<this.answerItemArr.length;a++)e(a)},e.prototype.adsorbAction=function(t){t=t.getChildByName("sprite");var e=cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.1,1));t.runAction(e)},e.prototype.success=function(){for(var t=0,e=0,r=0;r<this.answerDataArr.length;r++)for(var a=0;a<this.answerDataArr[r].length;a++)e++,this.answerDataArr[r][a]&&t++;return e==t},e.prototype.isSame=function(t,e,r){if(1==this.type){if(0==r||1==r)return t%2==0;if(2==r||3==r)return t%2==1}else if(2==this.type){if(0==r||1==r)return e%2==0;if(2==r||3==r)return e%2==1}},e.prototype.answerType=function(t){var e=null;switch(t){case 0:e=this.type1;break;case 1:e=this.type2;break;case 2:e=this.arrow1;break;case 3:e=this.arrow2}return e},e.prototype.defaultType=function(t){var e=null;switch(t){case 0:case 1:e=this.typeNull;break;case 2:case 3:e=this.arrowNull}return e},e.prototype.judge=function(t,e,r){var a=this.answerType(r);if(1==this.type){if(0==r||1==r){if(t>4)return this.answerDataArr[t-1][e]&&this.answerDataArr[t-2][Math.floor(e/2)]?this.correct(a,this.answerDataArr[t-2][Math.floor(e/2)],this.answerDataArr[t-1][e]):3;if(t<2)return this.answerDataArr[t+1][2*Math.floor(e/2)]&&this.answerDataArr[t+2][2*Math.floor(e/2)]?this.correct(a,this.answerDataArr[t+2][2*Math.floor(e/2)],this.answerDataArr[t+1][2*Math.floor(e/2)]):this.answerDataArr[t+1][2*Math.floor(e/2)+1]&&this.answerDataArr[t+2][2*Math.floor(e/2)+1]?this.correct(a,this.answerDataArr[t+2][2*Math.floor(e/2)+1],this.answerDataArr[t+1][2*Math.floor(e/2)+1]):3;if(t<=4&&t>=2)return this.answerDataArr[t-1][e]&&this.answerDataArr[t-2][Math.floor(e/2)]?this.correct(a,this.answerDataArr[t-2][Math.floor(e/2)],this.answerDataArr[t-1][e]):this.answerDataArr[t+1][2*Math.floor(e/2)]&&this.answerDataArr[t+2][2*Math.floor(e/2)]?this.correct(a,this.answerDataArr[t+2][2*Math.floor(e/2)],this.answerDataArr[t+1][2*Math.floor(e/2)]):this.answerDataArr[t+1][2*Math.floor(e/2)+1]&&this.answerDataArr[t+2][2*Math.floor(e/2)+1]?this.correct(a,this.answerDataArr[t+2][2*Math.floor(e/2)+1],this.answerDataArr[t+1][2*Math.floor(e/2)+1]):3}else if(2==r||3==r)return this.answerDataArr[t-1][Math.floor(e/2)]&&this.answerDataArr[t+1][e]?this.correct(this.answerDataArr[t-1][Math.floor(e/2)],this.answerDataArr[t+1][e],a):3}else if(2==this.type)if(0==r||1==r){if(e>6)return this.answerDataArr[t][e-1]&&this.answerDataArr[t][e-2]?this.correct(a,this.answerDataArr[t][e-2],this.answerDataArr[t][e-1]):3;if(e<2)return this.answerDataArr[t][e+1]&&this.answerDataArr[t][e+2]?this.correct(a,this.answerDataArr[t][e+2],this.answerDataArr[t][e+1]):3;if(e>=2&&e<=6)return this.answerDataArr[t][e+1]&&this.answerDataArr[t][e+2]?this.correct(a,this.answerDataArr[t][e+2],this.answerDataArr[t][e+1]):this.answerDataArr[t][e-1]&&this.answerDataArr[t][e-2]?this.correct(a,this.answerDataArr[t][e-2],this.answerDataArr[t][e-1]):3}else if(2==r||3==r)return this.answerDataArr[t][e-1]&&this.answerDataArr[t][e+1]?this.correct(this.answerDataArr[t][e-1],this.answerDataArr[t][e+1],a):3},e.prototype.correct=function(t,e,r){return r==this.sameType?t==e?1:2:r==this.diffType?t!=e?1:2:void 0},e.prototype.setRuleDefault=function(t,e,r){this.setState(this.ruleItemArr[t][e],r)},e.prototype.setState=function(t,e){1==e||4==e||7==e||10==e||13==e||16==e?(t.getChildByName("sprite").active=!1,t.getChildByName("blank").opacity=255,t.getChildByName("blank").getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(e)):(t.getChildByName("sprite").active=!0,t.getChildByName("blank").opacity=0,t.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(e))},e.prototype.getSpriteframe=function(t){switch(t){case 1:return this.arrowBlack;case 2:return this.arrowBlue;case 3:return this.arrowOrange;case 4:return this.lineBlack;case 5:return this.lineCurve;case 6:return this.lineDotted;case 7:return this.arrowBlack;case 8:return this.arrowBlue;case 9:return this.handGreen;case 10:return this.squareBlack;case 11:return this.triangleGreen;case 12:return this.circleYellow;case 13:return this.sexangleBlack;case 14:return this.sexangleOrange;case 15:return this.sexanglePurple;case 16:return this.octagonBlack;case 17:return this.octagonGreen;case 18:return this.octagonYellow;default:console.error("get wrong spriteframe")}},e.prototype.onEndGame=function(){s.default.isRepeatReport&&(s.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),s.default.isRepeatReport=!1),s.default.getInstance().dispatchEvent("end_finished",{eventType:"activity",eventValue:this.isOver})},e.prototype.onDestroy=function(){for(var t=0;t<this.intervalArr.length;t++)clearTimeout(this.intervalArr[t]);this.intervalArr=[]},e.prototype.onShow=function(){},e.prototype.getNet=function(){o.NetWork.getInstance().httpRequest(o.NetWork.GET_QUESTION+"?courseware_id="+o.NetWork.courseware_id,"GET","application/json;charset=utf-8",function(t,e){if(t)console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636e\u5931\u8d25");else{var r=e;if(Array.isArray(r.data))return;var a=JSON.parse(r.data.courseware_content);if(null!=a){if(!a.type)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.type\u4e3a\u7a7a");if(l.DaAnData.getInstance().type=a.type,this.type=a.type,!a.figure)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.figure\u4e3a\u7a7a");if(l.DaAnData.getInstance().figure=a.figure,this.figure=a.figure,!a.ruleDataArr)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.ruleDataArr\u4e3a\u7a7a");if(l.DaAnData.getInstance().ruleDataArr=a.ruleDataArr,this.ruleDataArr=a.ruleDataArr,!a.subjectDataArr)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.subjectDataArr\u4e3a\u7a7a");if(l.DaAnData.getInstance().subjectDataArr=a.subjectDataArr,this.subjectDataArr=a.subjectDataArr,!a.answerDataArr)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.answerDataArr\u4e3a\u7a7a");l.DaAnData.getInstance().answerDataArr=a.answerDataArr,this.initGame()}}}.bind(this),null)},e.className="GamePanel",n([v(cc.Node)],e.prototype,"ruleNode",void 0),n([v(cc.Node)],e.prototype,"subjectNode",void 0),n([v(cc.Node)],e.prototype,"answerNode",void 0),n([v(cc.Prefab)],e.prototype,"singlePrefab",void 0),n([v(cc.Prefab)],e.prototype,"treePrefab",void 0),n([v(cc.SpriteFrame)],e.prototype,"squareBlack",void 0),n([v(cc.SpriteFrame)],e.prototype,"circleYellow",void 0),n([v(cc.SpriteFrame)],e.prototype,"triangleGreen",void 0),n([v(cc.SpriteFrame)],e.prototype,"sexangleBlack",void 0),n([v(cc.SpriteFrame)],e.prototype,"sexangleOrange",void 0),n([v(cc.SpriteFrame)],e.prototype,"sexanglePurple",void 0),n([v(cc.SpriteFrame)],e.prototype,"octagonBlack",void 0),n([v(cc.SpriteFrame)],e.prototype,"octagonGreen",void 0),n([v(cc.SpriteFrame)],e.prototype,"octagonYellow",void 0),n([v(cc.SpriteFrame)],e.prototype,"arrowBlack",void 0),n([v(cc.SpriteFrame)],e.prototype,"arrowBlue",void 0),n([v(cc.SpriteFrame)],e.prototype,"arrowOrange",void 0),n([v(cc.SpriteFrame)],e.prototype,"handGreen",void 0),n([v(cc.SpriteFrame)],e.prototype,"lineBlack",void 0),n([v(cc.SpriteFrame)],e.prototype,"lineCurve",void 0),n([v(cc.SpriteFrame)],e.prototype,"lineDotted",void 0),n([v(cc.SpriteFrame)],e.prototype,"squareLight",void 0),n([v(cc.SpriteFrame)],e.prototype,"sexangleLight",void 0),n([v(cc.SpriteFrame)],e.prototype,"octagonLight",void 0),n([v(cc.SpriteFrame)],e.prototype,"lineLight",void 0),n([v(cc.SpriteFrame)],e.prototype,"arrowLight",void 0),n([v(cc.Node)],e.prototype,"touchNode",void 0),n([v(cc.Node)],e.prototype,"bg",void 0),e=n([y],e)}(i.BaseUI);r.default=D,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Data/DataReporting":"DataReporting","../../Data/ItemType":"ItemType","../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./UploadAndReturnPanel":"UploadAndReturnPanel"}],ItemType:[function(t,e,r){"use strict";cc._RF.push(e,"3a039fP5BJOfpMhcFA/mtm+","ItemType"),Object.defineProperty(r,"__esModule",{value:!0}),function(t){t[t.arrow_black=1]="arrow_black",t[t.arrow_blue=2]="arrow_blue",t[t.arrow_orange=3]="arrow_orange",t[t.line_black=4]="line_black",t[t.line_curve=5]="line_curve",t[t.line_dotted=6]="line_dotted",t[t.hand_black=7]="hand_black",t[t.hand_blue=8]="hand_blue",t[t.hand_green=9]="hand_green",t[t.square_black=10]="square_black",t[t.triangle_green=11]="triangle_green",t[t.circle_yellow=12]="circle_yellow",t[t.sexangle_black=13]="sexangle_black",t[t.sexangle_orange=14]="sexangle_orange",t[t.sexangle_purple=15]="sexangle_purple",t[t.octagon_black=16]="octagon_black",t[t.octagon_green=17]="octagon_green",t[t.octagon_yellow=18]="octagon_yellow"}(r.ItemType||(r.ItemType={})),cc._RF.pop()},{}],ListenerManager:[function(t,e,r){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e,r){void 0===r&&(r=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=r}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!0,configurable:!0}),t}();r.Delegate=a;var n=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,r){return null!==this.find(t,e,r)},t.prototype.trigger=function(t){for(var e,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(!t)return console.error("Listener type is null!"),!1;var n=[],i=[],o=this.mListenerMap.get(t);o&&(o.forEach(function(t,e){for(var r=0,a=t;r<a.length;r++){var s=a[r];n.push(s),i.push(e)}for(var c=t.length-1;c>=0;--c)t[c].isOnce&&t.splice(c,1);t.length<=0&&o.delete(e)}),o.size<=0&&this.mListenerMap.delete(t));for(var s=n.length,c=0;c<s;c++){var l=n[c];(e=l.listener).call.apply(e,[i[c]].concat(l.argArray,r))}return s>0},t.prototype.add=function(t,e,r){for(var a=[],n=3;n<arguments.length;n++)a[n-3]=arguments[n];this.addListener.apply(this,[t,e,r,!1].concat(a))},t.prototype.addOnce=function(t,e,r){for(var a=[],n=3;n<arguments.length;n++)a[n-3]=arguments[n];this.addListener.apply(this,[t,e,r,!0].concat(a))},t.prototype.remove=function(t,e,r,a){this.removeBy(function(n,i,o){return(!t||t===n)&&((!e||e===i)&&((!r||r===o.listener)&&!(a&&!o.isOnce)))})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(r,a){r.delete(t),r.size<=0&&e.mListenerMap.delete(a)})},t.prototype.addListener=function(t,e,r,n){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var s=this.find(t,e,r);if(s)s.isOnce=n,console.error("Listener is already exist!");else{var c=new a(r,i,n);this.mListenerMap.get(t).get(e).push(c)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(r,a){r.forEach(function(e,n){for(var i=e.length-1;i>=0;--i){var o=e[i];t(a,n,o)&&e.splice(i,1)}e.length<=0&&r.delete(n)}),r.size<=0&&e.mListenerMap.delete(a)})},t.prototype.find=function(t,e,r){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!r)return console.error("Listener is null!"),null;var a,n;this.mListenerMap.has(t)?a=this.mListenerMap.get(t):(a=new Map,this.mListenerMap.set(t,a)),a.has(e)?n=a.get(e):(n=[],a.set(e,n));for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.mListener===r)return s}return null},t}();r.ListenerManager=n,cc._RF.pop()},{}],ListenerType:[function(t,e,r){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","ListenerType"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){}return t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t}();r.ListenerType=a,cc._RF.pop()},{}],LoadingUI:[function(t,e,r){"use strict";cc._RF.push(e,"cf8a66RO2hJWJN7q1dt4/zn","LoadingUI");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Data/ConstValue"),s=t("./TeacherPanel"),c=t("./GamePanel"),l=t("../../Manager/UIManager"),u=t("../../Http/NetWork"),h=t("../../Data/DataReporting"),p=t("../../Manager/TimeManager"),f=cc._decorator,g=f.ccclass,d=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return a(e,t),e.prototype.onLoad=function(){var t=this;u.NetWork.getInstance().GetRequest();h.default.getInstance().dispatchEvent("load start");var e=o.ConstValue.IS_TEACHER?s.default:c.default;l.UIManager.getInstance().openUI(e,null,0,function(){u.NetWork.getInstance().LogJournalReport("ResLoadEnd",{curTime:p.TimeManager.getInstance().getNowFormatDate()}),h.default.getInstance().dispatchEvent("load end"),h.default.getInstance().dispatchEvent("start"),t.node.active=!1},function(e,r,a){t.isLoadStart||(t.isLoadStart=!0,u.NetWork.getInstance().LogJournalReport("ResLoadStart",{curTime:p.TimeManager.getInstance().getNowFormatDate()})),t.progressBar.progress=e/r;var n=Math.round(e/r*100);h.default.getInstance().dispatchEvent("loading",n),t.progressLabel.string=n.toString()+"%";var i=e/r*609-304;t.dragonNode.x=i})},e.className="LoadingUI",n([d(cc.ProgressBar)],e.prototype,"progressBar",void 0),n([d(cc.Label)],e.prototype,"progressLabel",void 0),n([d(cc.Node)],e.prototype,"dragonNode",void 0),e=n([g],e)}(i.BaseUI);r.LoadingUI=y,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/TimeManager":"TimeManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./TeacherPanel":"TeacherPanel"}],LogWrap:[function(t,e,r){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Data/ConstValue"),n=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),r="";return r+=(1==e.length?"0"+e:e)+":",r+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",r+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),r="["+(r+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var r=[];e.forEach(function(t){var e,a=(t=t.substring(7)).split(" ");a.length<2?r.push(a[0]):r.push(((e={})[a[0]]=a[1],e))});var a=[];if(t<r.length-1)for(var n in r[t])a.push(n);var i=a[0].split(".");return i[0]+".js->"+i[1]+": "},t.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=console.log||cc.log;a.ConstValue.IS_EDITIONS||n.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=console.log||cc.log;a.ConstValue.IS_EDITIONS||n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=console.log||cc.log;a.ConstValue.IS_EDITIONS||n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=console.log||cc.log;a.ConstValue.IS_EDITIONS||n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();r.LogWrap=n,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],MathExtension:[function(t,e,r){"use strict";cc._RF.push(e,"81407Q2vf9Ezor3KOYrFKb8","MathExtension"),Math.randomRangeInt=function(t,e){var r=Math.random();return 1===r&&(r-=Number.EPSILON),t+Math.floor(r*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],NetWork:[function(t,e,r){"use strict";cc._RF.push(e,"6d88b+jn6FJlY8LOCyyYBxJ","NetWork"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Data/ConstValue"),n=t("../Manager/UIManager"),i=t("../UI/panel/ErrorPanel"),o=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.httpRequest=function(e,r,o,s,c){if(void 0===s&&(s=null),void 0===c&&(c=""),!a.ConstValue.IS_TEACHER||t.title_id)if(a.ConstValue.IS_TEACHER||t.courseware_id&&t.user_id){var l=new XMLHttpRequest;l.open(r,e),l.timeout=1e4,l.setRequestHeader("Content-Type",o),l.withCredentials=!0,l.onreadystatechange=function(){if(console.log("httpRequest rsp status",l.status,"        xhr.readyState",l.readyState,"        xhr.responseText",l.responseText),4==l.readyState&&l.status>=200&&l.status<=400){var u=JSON.parse(l.responseText);s&&0==u.errcode?s(!1,u):a.ConstValue.IS_EDITIONS&&n.UIManager.getInstance().openUI(i.default,null,1e3,function(){n.UIManager.getInstance().getUI(i.default).setPanel(u.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){t.getInstance().httpRequest(e,r,o,s,c)},!1)})}},l.ontimeout=function(l){a.ConstValue.IS_EDITIONS&&n.UIManager.getInstance().openUI(i.default,null,1e3,function(){n.UIManager.getInstance().getUI(i.default).setPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,r,o,s,c)},!0)}),console.log("httpRequest timeout"),s&&s(!0,null)},l.onerror=function(l){a.ConstValue.IS_EDITIONS&&n.UIManager.getInstance().openUI(i.default,null,1e3,function(){n.UIManager.getInstance().getUI(i.default).setPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,r,o,s,c)},!0)}),console.log("httpRequest error"),s&&s(!0,null)},l.send(c)}else n.UIManager.getInstance().openUI(i.default,null,1e3,function(){n.UIManager.getInstance().getUI(i.default).setPanel("\u5f02\u5e38\u7f16\u53f7\u4e3a001,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a")});else n.UIManager.getInstance().openUI(i.default,null,1e3,function(){n.UIManager.getInstance().getUI(i.default).setPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")})},t.prototype.GetRequest=function(){if(null!=t.theRequest)return t.theRequest;t.theRequest=new Object;var e=location.search;if(-1!=e.indexOf("?"))for(var r=e.substr(1).split("&"),a=0;a<r.length;a++)t.theRequest[r[a].split("=")[0]]=decodeURIComponent(r[a].split("=")[1]);return t.courseware_id=t.theRequest.id,t.title_id=t.theRequest.title_id,t.user_id=t.theRequest.user_id,t.empty=t.theRequest.empty,t.isLive=t.theRequest.isLive,this.LogJournalReport("CoursewareLogEvent",""),console.log("11111gaolei",t.courseware_id,"           ",t.theRequest.id,"           ",JSON.stringify(t.theRequest)),t.theRequest},t.prototype.GetIsOnline=function(){var t=1;return this.GetRequest().isOnline&&(t=this.GetRequest().isOnline),t},t.prototype.LogJournalReport=function(e,r){a.ConstValue.IS_EDITIONS&&((new Image).src=(t.isOnlineEnv?"https://logserver.haibian.com/statistical/?type=7&":"https://ceshi-statistical.haibian.com/?type=7&")+"course_id="+this.GetRequest().id+"&chapter_id="+this.GetRequest().chapter_id+"&user_id="+this.GetRequest().user_id+"&subject="+this.GetRequest().subject+"&event="+e+"&identity=1&extra="+JSON.stringify({url:location,CoursewareKey:a.ConstValue.CoursewareKey,empty:this.GetRequest().empty,CoursewareName:"wupinbianhuan",data:r}))},t.isOnlineEnv=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0&&1==t.getInstance().GetIsOnline(),t.isProtocol=/http:/.test(window.location.protocol),t.isLocal=/localhost/.test(window.location.href)||t.isProtocol,t.isOwcr="owcr:"==location.protocol||"file:"==location.protocol,t.BASE=t.isOnlineEnv?"https://courseware.haibian.com":t.isLocal?"http://ceshi.courseware.haibian.com":"https://ceshi_courseware.haibian.com",t.GET_QUESTION=t.BASE+"/get",t.GET_USER_PROGRESS=t.BASE+"/get/answer",t.GET_TITLE=t.BASE+"/get/title",t.ADD=t.BASE+"/add",t.MODIFY=t.BASE+"/modify",t.CLEAR=t.BASE+"/clear",t.courseware_id=null,t.title_id=null,t.user_id=null,t.empty=!1,t.chapter_id=null,t.subject=null,t.isLive=null,t.theRequest=null,t}();r.NetWork=o,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/UIManager":"UIManager","../UI/panel/ErrorPanel":"ErrorPanel"}],OverTips:[function(t,e,r){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../UIComm/Tools"),s=t("../../Manager/UIManager"),c=t("../../Manager/AudioManager");(function(t){t[t.ZuoDaJieShu=0]="ZuoDaJieShu",t[t.ChuangGuanChengGong=1]="ChuangGuanChengGong",t[t.TiaoZhanJieShu=2]="TiaoZhanJieShu",t[t.TiaoZhanChengGong=3]="TiaoZhanChengGong",t[t.ChuangGuanJieShu=4]="ChuangGuanJieShu"})(r.Type_Tile||(r.Type_Tile={})),r.DefalutTitle=["\u4f5c\u7b54\u7ed3\u675f","\u95ef\u5173\u6210\u529f","\u6311\u6218\u7ed3\u675f","\u6311\u6218\u6210\u529f","\u95ef\u5173\u7ed3\u675f"];var l={"\u4f5c":"img_zuo","\u7b54":"img_da","\u7ed3":"img_jie","\u675f":"img_shu","\u6210":"img_cheng","\u529f":"img_gong","\u6311":"img_tiao","\u6218":"img_zhan","\u95ef":"img_chuang","\u5173":"img_guan"},u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e.callback=null,e.endInAnimationOver=!1,e.img_titles=[],e}var i;return a(e,t),i=e,e.prototype.onLoad=function(){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(t,e){})},e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e,a,n){switch(void 0===e&&(e=""),this.callback=a,this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=2==t,t){case 0:o.Tools.playSpine(this.spine_false,"false",!1,this.delayClose.bind(this)),c.AudioManager.getInstance().playSound("sfx_genneg",!1,1);break;case 1:o.Tools.playSpine(this.spine_true,"true",!1,this.delayClose.bind(this)),c.AudioManager.getInstance().playSound("sfx_genpos",!1,1);break;case 2:if(this.spine_complete.node.active=!1,n||(n=r.DefalutTitle[0]),4!=n.length)return;for(var i=0;i<4;i++)this.createTitleImage(n[i])}var s=this.label_tip.node.position,l=cc.v2(s.x,s.y-72.8),u=cc.v2(s.x,s.y+12),h=cc.v2(s.x,s.y-8),p=cc.v2(s.x,s.y+7.3);this.label_tip.node.position=l,this.label_tip.node.runAction(cc.sequence(cc.moveTo(.08,u),cc.moveTo(.08,h),cc.moveTo(.08,p),cc.moveTo(.06,s)))},e.prototype.delayClose=function(){this.scheduleOnce(function(){this.onClickClose()}.bind(this),0)},e.prototype.onClickClose=function(t,e){t&&c.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),s.UIManager.getInstance().closeUI(i)},e.prototype.createTitleImage=function(t){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(e,r){var a=this;if(e)console.log(e.message||e);else{var n=r.getSpriteFrame(l[t]),i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=n,i.parent=this.node,this.img_titles.push(i),4==this.img_titles.length&&(this.endInAnimationOver=!0,this.spine_complete.node.active=!0,o.Tools.playSpine(this.spine_complete,"in",!1,function(){o.Tools.playSpine(a.spine_complete,"stand",!0),a.endInAnimationOver=!1}),setTimeout(function(){c.AudioManager.getInstance().playSound("\u201c\u4f60\u771f\u68d2\uff01\u7b49\u7b49\u8fd8\u6ca1\u505a\u5b8c\u7684\u540c\u5b66\u5427~",!1)},1500),c.AudioManager.getInstance().playSound("sfx_geupgrd",!1,1))}}.bind(this))},e.prototype.update=function(){if(this.endInAnimationOver){var t=this.spine_complete.findBone("paipai"),e=this.spine_complete.findBone("xiaoU"),r=this.spine_complete.findBone("mimiya"),a=this.spine_complete.findBone("doudou");this.img_titles[0].position=cc.v2(t.worldX-139,t.worldY-135),this.img_titles[1].position=cc.v2(e.worldX-139,e.worldY-135),this.img_titles[2].position=cc.v2(r.worldX-139,r.worldY-135),this.img_titles[3].position=cc.v2(a.worldX-139,a.worldY-135)}},e.className="OverTips",n([p(cc.Label)],e.prototype,"label_tip",void 0),n([p(sp.Skeleton)],e.prototype,"spine_false",void 0),n([p(sp.Skeleton)],e.prototype,"spine_true",void 0),n([p(sp.Skeleton)],e.prototype,"spine_complete",void 0),n([p(cc.Node)],e.prototype,"node_close",void 0),e=i=n([h],e)}(i.BaseUI);r.OverTips=f,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../UIComm/Tools":"Tools","../BaseUI":"BaseUI"}],Set:[function(t,e,r){"use strict";cc._RF.push(e,"d8d97HoTUFPm7oqXrj5GU8u","Set"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("./util"),n=t("./arrays"),i=t("./Dictionary"),o=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!a.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(r){return t.contains(r)||e.remove(r),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(r){return!!t.contains(r)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,r){return t(r)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return n.toString(this.toArray())},t}();r.default=o,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],StringExtension:[function(t,e,r){"use strict";cc._RF.push(e,"85c1bk+r3FHf5RqunqKCFt+","StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Array.prototype.slice.call(arguments),a=0;return this.replace(/%s/g,function(t,e){return r[a++]})},cc._RF.pop()},{}],SubmissionPanel:[function(t,e,r){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),l=t("../../Data/ConstValue"),u=t("./ErrorPanel"),h=t("../../Data/DaAnData"),p=cc._decorator,f=p.ccclass,g=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var r;return a(e,t),r=e,e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){o.UIManager.getInstance().closeUI(r)},e.prototype.DetectionNet=function(){if(s.NetWork.title_id){var t=JSON.stringify({CoursewareKey:l.ConstValue.CoursewareKey,type:h.DaAnData.getInstance().type,figure:h.DaAnData.getInstance().figure,ruleDataArr:h.DaAnData.getInstance().ruleDataArr,subjectDataArr:h.DaAnData.getInstance().subjectDataArr,answerDataArr:h.DaAnData.getInstance().answerDataArr});console.log("data is "+t),s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(e,r){if(!e)if(null==r.data.courseware_content||""==r.data.courseware_content)this.AddNet(t);else{s.NetWork.courseware_id=r.data.courseware_id;var a=JSON.parse(r.data.courseware_content);s.NetWork.empty||(a.CoursewareKey==l.ConstValue.CoursewareKey?this.ModifyNet(t):o.UIManager.getInstance().openUI(u.default,null,1e3,function(){o.UIManager.getInstance().getUI(u.default).setPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")}))}}.bind(this),null)}else o.UIManager.getInstance().openUI(u.default,null,1e3,function(){o.UIManager.getInstance().getUI(u.default).setPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")})},e.prototype.AddNet=function(t){var e={title_id:s.NetWork.title_id,courseware_content:t,is_result:1,is_lavel:0};s.NetWork.getInstance().httpRequest(s.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),o.UIManager.getInstance().closeUI(r))}.bind(this),JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:s.NetWork.courseware_id,courseware_content:t,is_result:1,is_lavel:0};s.NetWork.getInstance().httpRequest(s.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),o.UIManager.getInstance().closeUI(r))}.bind(this),JSON.stringify(e))},e.className="SubmissionPanel",e=r=n([f],e)}(i.BaseUI));r.default=g,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Http/NetWork":"NetWork","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./ErrorPanel":"ErrorPanel"}],TeacherPanel:[function(t,e,r){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),l=t("../../Data/DaAnData"),u=t("./GamePanel"),h=t("../../Manager/ListenerManager"),p=t("../../Data/ListenerType"),f=t("../../Data/ItemType"),g=cc._decorator,d=g.ccclass,y=g.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.typeToggleContainer=[],e.figureToggleContainer=[],e.ruleNode=null,e.subjectNode=null,e.singlePrefab=null,e.treePrefab=null,e.squareBlack=null,e.circleYellow=null,e.triangleGreen=null,e.sexangleBlack=null,e.sexangleOrange=null,e.sexanglePurple=null,e.octagonBlack=null,e.octagonGreen=null,e.octagonYellow=null,e.arrowBlack=null,e.arrowBlue=null,e.arrowOrange=null,e.handGreen=null,e.lineBlack=null,e.lineCurve=null,e.lineDotted=null,e.tipLabel=null,e.tipNode=null,e.ruleItemArr=[],e.subjectItemArr=[],e.ruleDataArr=[],e.subjectDataArr=[],e.answerDataArr=[],e.currentType=1,e.currentFigure=2,e.sameType=null,e.diffType=null,e.type1=null,e.type2=null,e.arrow1=null,e.arrow2=null,e.arrowNull=null,e.typeNull=null,e}return a(e,t),e.prototype.start=function(){this.getNet()},e.prototype.setPanel=function(){0==l.DaAnData.getInstance().type&&(l.DaAnData.getInstance().type=1),0==l.DaAnData.getInstance().figure?(l.DaAnData.getInstance().figure=2,this.sameType=f.ItemType.arrow_orange,this.diffType=f.ItemType.arrow_blue):(this.sameType=l.DaAnData.getInstance().ruleDataArr[2][1],this.diffType=l.DaAnData.getInstance().ruleDataArr[0][1]),this.initData(),this.initType(),this.initFigure(),this.typeToggleContainer[l.DaAnData.getInstance().type-1].isChecked=!0,this.figureToggleContainer[l.DaAnData.getInstance().figure-1].isChecked=!0,this.getItem(),l.DaAnData.getInstance().ruleDataArr.length>0?this.setRule():this.defaultRule(),l.DaAnData.getInstance().subjectDataArr.length>0?this.setSubject():this.defaultSubject(1==l.DaAnData.getInstance().type)},e.prototype.initData=function(){switch(l.DaAnData.getInstance().figure){case 1:this.type1=f.ItemType.triangle_green,this.type2=f.ItemType.circle_yellow,this.arrow1=f.ItemType.line_curve,this.arrow2=f.ItemType.line_dotted,this.arrowNull=f.ItemType.line_black,this.typeNull=f.ItemType.square_black;break;case 2:this.type1=f.ItemType.sexangle_orange,this.type2=f.ItemType.sexangle_purple,this.arrow1=f.ItemType.hand_blue,this.arrow2=f.ItemType.hand_green,this.arrowNull=f.ItemType.hand_black,this.typeNull=f.ItemType.sexangle_black;break;case 3:this.type1=f.ItemType.octagon_green,this.type2=f.ItemType.octagon_yellow,this.arrow1=f.ItemType.arrow_blue,this.arrow2=f.ItemType.arrow_orange,this.arrowNull=f.ItemType.arrow_black,this.typeNull=f.ItemType.octagon_black}},e.prototype.setRule=function(){this.ruleDataArr=[];for(var t=0;t<this.ruleItemArr.length;t++){this.ruleDataArr[t]=[];for(var e=0;e<this.ruleItemArr[t].length;e++)this.setState(this.ruleItemArr[t][e],l.DaAnData.getInstance().ruleDataArr[t][e]),this.ruleDataArr[t][e]=l.DaAnData.getInstance().ruleDataArr[t][e]}},e.prototype.setSubject=function(){this.subjectDataArr=[];for(var t=0;t<this.subjectItemArr.length;t++){this.subjectDataArr[t]=[];for(var e=0;e<this.subjectItemArr[t].length;e++)this.setState(this.subjectItemArr[t][e],l.DaAnData.getInstance().subjectDataArr[t][e]),this.subjectDataArr[t][e]=l.DaAnData.getInstance().subjectDataArr[t][e]}},e.prototype.defaultRule=function(){for(var t=0;t<this.ruleItemArr.length;t++)for(var e=0;e<this.ruleItemArr[t].length;e++)this.ruleItemArr[t][e].getChildByName("blank").opacity=255,this.ruleItemArr[t][e].getChildByName("sprite").active=!1;this.setRuleDefault(0,0,this.type1),this.setRuleDefault(1,2,this.type1),this.setRuleDefault(2,0,this.type1),this.setRuleDefault(2,2,this.type1),this.setRuleDefault(0,2,this.type2),this.setRuleDefault(1,0,this.type2),this.setRuleDefault(3,0,this.type2),this.setRuleDefault(3,2,this.type2),this.setRuleDefault(0,1,this.arrow1),this.setRuleDefault(1,1,this.arrow1),this.setRuleDefault(2,1,this.arrow2),this.setRuleDefault(3,1,this.arrow2),this.sameType=this.arrow2,this.diffType=this.arrow1},e.prototype.defaultSubject=function(t){for(var e=0;e<this.subjectItemArr.length;e++)for(var r=0;r<this.subjectItemArr[e].length;r++)this.subjectItemArr[e][r].getChildByName("blank").opacity=255,this.subjectItemArr[e][r].getChildByName("sprite").active=!1;if(t){this.subjectDataArr=[];for(var a=0;a<this.subjectItemArr.length;++a){this.subjectDataArr[a]=[];for(var n=0;n<this.subjectItemArr[a].length;++n)a%2==0?this.subjectDataArr[a][n]=this.typeNull:a%2==1&&(this.subjectDataArr[a][n]=this.arrowNull)}this.setState(this.subjectItemArr[0][0],this.type2),this.subjectDataArr[0][0]=this.type2;for(e=0;e<this.subjectItemArr.length;e++)for(r=0;r<this.subjectItemArr[e].length;r++)e%2==1&&(r%2==1?(this.setState(this.subjectItemArr[e][r],this.arrow1),this.subjectDataArr[e][r]=this.arrow1):(this.setState(this.subjectItemArr[e][r],this.arrow2),this.subjectDataArr[e][r]=this.arrow2))}else{this.subjectDataArr=[];for(a=0;a<this.subjectItemArr.length;++a){this.subjectDataArr[a]=[];for(n=0;n<this.subjectItemArr[a].length;++n)n%2==0?this.subjectDataArr[a][n]=this.typeNull:n%2==1&&(this.subjectDataArr[a][n]=this.arrowNull)}this.setSubjectDefault(0,0,this.type1),this.setSubjectDefault(0,2,this.type1),this.setSubjectDefault(1,2,this.type1),this.setSubjectDefault(3,0,this.type1),this.setSubjectDefault(3,8,this.type1),this.setSubjectDefault(0,8,this.type2),this.setSubjectDefault(1,0,this.type2),this.setSubjectDefault(1,6,this.type2),this.setSubjectDefault(2,2,this.type2),this.setSubjectDefault(2,4,this.type2),this.setSubjectDefault(0,1,this.arrow2),this.setSubjectDefault(0,3,this.arrow2),this.setSubjectDefault(2,5,this.arrow2),this.setSubjectDefault(2,7,this.arrow2),this.setSubjectDefault(3,1,this.arrow2),this.setSubjectDefault(3,5,this.arrow2),this.setSubjectDefault(0,5,this.arrow1),this.setSubjectDefault(1,3,this.arrow1),this.setSubjectDefault(1,7,this.arrow1),this.setSubjectDefault(2,1,this.arrow1),this.setSubjectDefault(3,7,this.arrow1)}},e.prototype.setRuleDefault=function(t,e,r){this.setState(this.ruleItemArr[t][e],r),this.ruleDataArr[t][e]=r},e.prototype.setSubjectDefault=function(t,e,r){this.setState(this.subjectItemArr[t][e],r),this.subjectDataArr[t][e]=r},e.prototype.getItemData=function(t,e,r,a){var n=1;return 1==r?n=e:2==r&&(1==a?n=t:2==a&&(n=e)),1==l.DaAnData.getInstance().figure?n%2==0?f.ItemType.square_black:f.ItemType.line_black:2==l.DaAnData.getInstance().figure?n%2==0?f.ItemType.sexangle_black:f.ItemType.hand_black:3==l.DaAnData.getInstance().figure?n%2==0?f.ItemType.octagon_black:f.ItemType.arrow_black:void 0},e.prototype.nextType=function(t){var e=3*Math.floor(t/3)+3;t%3==0&&(e-=3);var r=t+1;return r>e&&(r=e-2),r},e.prototype.getItem=function(){if(this.ruleItemArr=[],this.subjectItemArr=[],this.ruleDataArr=[],this.subjectDataArr=[],this.ruleNode.children[0])for(var t=this.ruleNode.children[0].children,e=0;e<t.length;++e){this.ruleItemArr[e]=[],this.ruleDataArr[e]=[];for(var r=0;r<t[e].children.length;++r)this.ruleItemArr[e][r]=t[e].children[r],this.ruleDataArr[e][r]=this.getItemData(e,r,1)}if(this.subjectNode.children[0])for(t=this.subjectNode.children[0].children,e=0;e<t.length;++e){this.subjectItemArr[e]=[],this.subjectDataArr[e]=[];for(r=0;r<t[e].children.length;++r)this.subjectItemArr[e][r]=t[e].children[r],this.subjectDataArr[e][r]=this.getItemData(e,r,2,l.DaAnData.getInstance().type)}this.addListenerOnItem()},e.prototype.setState=function(t,e){1==e||4==e||7==e||10==e||13==e||16==e?(t.getChildByName("sprite").active=!1,t.getChildByName("blank").opacity=255,t.getChildByName("blank").getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(e)):(t.getChildByName("sprite").active=!0,t.getChildByName("blank").opacity=0,t.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(e))},e.prototype.getSpriteframe=function(t){switch(t){case 1:return this.arrowBlack;case 2:return this.arrowBlue;case 3:return this.arrowOrange;case 4:return this.lineBlack;case 5:return this.lineCurve;case 6:return this.lineDotted;case 7:return this.arrowBlack;case 8:return this.arrowBlue;case 9:return this.handGreen;case 10:return this.squareBlack;case 11:return this.triangleGreen;case 12:return this.circleYellow;case 13:return this.sexangleBlack;case 14:return this.sexangleOrange;case 15:return this.sexanglePurple;case 16:return this.octagonBlack;case 17:return this.octagonGreen;case 18:return this.octagonYellow;default:console.error("get wrong spriteframe")}},e.prototype.addListenerOnItem=function(){for(var t=this,e=0;e<this.ruleItemArr.length;e++)this.ruleItemArr[e][1].getChildByName("blank").off(cc.Node.EventType.TOUCH_START);for(e=0;e<this.subjectItemArr.length;e++)for(var r=0;r<this.subjectItemArr[e].length;r++)this.subjectItemArr[e][r].getChildByName("blank").off(cc.Node.EventType.TOUCH_START);var a=function(e){n.ruleItemArr[e][1].getChildByName("blank").on(cc.Node.EventType.TOUCH_START,function(){t.ruleDataArr[e][1]=t.nextType(t.ruleDataArr[e][1]),t.setState(t.ruleItemArr[e][1],t.ruleDataArr[e][1]),0==e?(t.diffType=t.ruleDataArr[0][1],t.ruleDataArr[1][1]=t.ruleDataArr[0][1],t.setState(t.ruleItemArr[1][1],t.ruleDataArr[1][1])):1==e?(t.diffType=t.ruleDataArr[1][1],t.ruleDataArr[0][1]=t.ruleDataArr[1][1],t.setState(t.ruleItemArr[0][1],t.ruleDataArr[0][1])):2==e?(t.sameType=t.ruleDataArr[2][1],t.ruleDataArr[3][1]=t.ruleDataArr[2][1],t.setState(t.ruleItemArr[3][1],t.ruleDataArr[3][1])):3==e&&(t.sameType=t.ruleDataArr[3][1],t.ruleDataArr[2][1]=t.ruleDataArr[3][1],t.setState(t.ruleItemArr[2][1],t.ruleDataArr[2][1]))})},n=this;for(e=0;e<this.ruleItemArr.length;e++)a(e);var i=function(e){for(var r=function(r){o.subjectItemArr[e][r].getChildByName("blank").on(cc.Node.EventType.TOUCH_START,function(){t.subjectDataArr[e][r]=t.nextType(t.subjectDataArr[e][r]),t.setState(t.subjectItemArr[e][r],t.subjectDataArr[e][r])})},a=0;a<o.subjectItemArr[e].length;a++)r(a)},o=this;for(e=0;e<this.subjectItemArr.length;e++)i(e)},e.prototype.initType=function(){if(l.DaAnData.getInstance().type!=this.currentType){this.subjectNode.children[0]&&(this.subjectNode.children[0].destroy(),this.subjectNode.removeAllChildren());var t=null;1==l.DaAnData.getInstance().type?((t=cc.instantiate(this.treePrefab)).setPosition(cc.v2(-513,0)),this.currentType=1):2==l.DaAnData.getInstance().type&&((t=cc.instantiate(this.singlePrefab)).setPosition(cc.v2(-545,0)),this.currentType=2),this.subjectNode.addChild(t),this.currentFigure=2,this.getItem(),this.defaultRule(),this.defaultSubject(1==l.DaAnData.getInstance().type)}},e.prototype.initFigure=function(){this.currentFigure!=l.DaAnData.getInstance().figure&&(1==l.DaAnData.getInstance().figure?(this.changeFigure(this.squareBlack,this.lineBlack),this.currentFigure=1):2==l.DaAnData.getInstance().figure?(this.changeFigure(this.sexangleBlack,this.arrowBlack),this.currentFigure=2):3==l.DaAnData.getInstance().figure&&(this.changeFigure(this.octagonBlack,this.arrowBlack),this.currentFigure=3)),this.getItem(),this.defaultRule(),this.defaultSubject(1==l.DaAnData.getInstance().type)},e.prototype.changeFigure=function(t,e){if(this.ruleNode.children[0])for(var r=this.ruleNode.children[0].children,a=0;a<r.length;a++)for(var n=0;n<r[a].children.length;n++)r[a].children[n].getChildByName("blank").getComponent(cc.Sprite).spriteFrame=n%2==0?t:e;if(this.subjectNode.children[0]){r=this.subjectNode.children[0].children;if(1==l.DaAnData.getInstance().type)for(a=0;a<r.length;a++)if(a%2==0)for(n=0;n<r[a].children.length;n++)r[a].children[n].getChildByName("blank").getComponent(cc.Sprite).spriteFrame=t;else for(n=0;n<r[a].children.length;n++)r[a].children[n].getChildByName("blank").getComponent(cc.Sprite).spriteFrame=e;else if(2==l.DaAnData.getInstance().type)for(a=0;a<r.length;a++)for(n=0;n<r[a].children.length;n++)r[a].children[n].getChildByName("blank").getComponent(cc.Sprite).spriteFrame=n%2==0?t:e}},e.prototype.onTypeToggle=function(t){var e=this.typeToggleContainer.indexOf(t);switch(e){case 0:l.DaAnData.getInstance().type=1,this.initType(),this.initFigure();break;case 1:l.DaAnData.getInstance().type=2,this.initType(),this.initFigure();break;default:console.error("the "+e+" type toggle have error.")}},e.prototype.onFigureToggle=function(t){var e=this.figureToggleContainer.indexOf(t);switch(e){case 0:l.DaAnData.getInstance().figure=1,this.type1=f.ItemType.triangle_green,this.type2=f.ItemType.circle_yellow,this.arrow1=f.ItemType.line_curve,this.arrow2=f.ItemType.line_dotted,this.arrowNull=f.ItemType.line_black,this.typeNull=f.ItemType.square_black,this.initFigure();break;case 1:l.DaAnData.getInstance().figure=2,this.type1=f.ItemType.sexangle_orange,this.type2=f.ItemType.sexangle_purple,this.arrow1=f.ItemType.hand_blue,this.arrow2=f.ItemType.hand_green,this.arrowNull=f.ItemType.hand_black,this.typeNull=f.ItemType.sexangle_black,this.initFigure();break;case 2:l.DaAnData.getInstance().figure=3,this.type1=f.ItemType.octagon_green,this.type2=f.ItemType.octagon_yellow,this.arrow1=f.ItemType.arrow_blue,this.arrow2=f.ItemType.arrow_orange,this.arrowNull=f.ItemType.arrow_black,this.typeNull=f.ItemType.octagon_black,this.initFigure();break;default:console.error("the "+e+" figure toggle have error.")}},e.prototype.checking=function(){if(this.ruleDataArr[0][1]==this.arrowNull)return this.showTip("\u4e0d\u540c\u989c\u8272\u7684\u53d8\u6362\u89c4\u5219\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),!1;if(this.ruleDataArr[2][1]==this.arrowNull)return this.showTip("\u76f8\u540c\u989c\u8272\u7684\u53d8\u6362\u89c4\u5219\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),!1;if(this.ruleDataArr[0][1]==this.ruleDataArr[2][1])return this.showTip("\u76f8\u540c\u989c\u8272\u4e4b\u95f4\u53d8\u6362\u4e0e\u4e0d\u540c\u989c\u8272\u76f8\u4e92\u53d8\u6362\u89c4\u5219\u4e00\u6837\uff0c\u76f8\u540c\u989c\u8272\u4e4b\u95f4\u53d8\u6362\u548c\u4e0d\u540c\u989c\u8272\u76f8\u4e92\u53d8\u6362\u4e4b\u95f4\u89c4\u5219\u4e0d\u80fd\u76f8\u540c\u3002"),!1;if(this.getAnswer(),1==l.DaAnData.getInstance().type){if(!this.checkTree())return this.showTip("\u9898\u76ee\u5df2\u77e5\u6761\u4ef6\u4e0d\u80fd\u5bfc\u51fa\u6240\u6709\u7b54\u6848\uff0c\u8bf7\u91cd\u65b0\u914d\u9898\u3002"),!1}else if(2==l.DaAnData.getInstance().type&&!this.checkSingle())return this.showTip("\u9898\u76ee\u5df2\u77e5\u6761\u4ef6\u4e0d\u80fd\u5bfc\u51fa\u6240\u6709\u7b54\u6848\uff0c\u8bf7\u91cd\u65b0\u914d\u9898\u3002"),!1;return!!this.errorQuestion()||(this.showTip("\u9898\u76ee\u4e0d\u7b26\u5408\u89c4\u5219\uff0c\u8bf7\u91cd\u65b0\u914d\u9898\u3002"),!1)},e.prototype.getAnswer=function(){this.answerDataArr=[];for(var t=0;t<this.subjectDataArr.length;++t){this.answerDataArr[t]=[];for(var e=0;e<this.subjectDataArr[t].length;++e)this.subjectDataArr[t][e]!=this.typeNull&&this.subjectDataArr[t][e]!=this.arrowNull?this.answerDataArr[t][e]=this.subjectDataArr[t][e]:this.answerDataArr[t][e]=null}if(cc.log(this.subjectDataArr,this.arrowNull,this.typeNull),cc.log(this.answerDataArr,this.sameType,this.diffType),1==l.DaAnData.getInstance().type){for(var r=0,a=0;a<this.answerDataArr.length;a++)for(var n=0;n<this.answerDataArr[a].length;n++)a%2==1&&(this.answerDataArr[a][n]&&this.answerDataArr[a-1][Math.floor(n/2)]&&null==this.answerDataArr[a+1][n]?r++:this.answerDataArr[a][n]&&null==this.answerDataArr[a-1][Math.floor(n/2)]&&this.answerDataArr[a+1][n]&&r++);for(;r>0;){r=0;for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)a%2==1&&(this.answerDataArr[a][n]==this.sameType?(this.answerDataArr[a-1][Math.floor(n/2)]&&null==this.answerDataArr[a+1][n]&&(this.answerDataArr[a+1][n]=this.answerDataArr[a-1][Math.floor(n/2)]),this.answerDataArr[a+1][n]&&null==this.answerDataArr[a-1][Math.floor(n/2)]&&(this.answerDataArr[a-1][Math.floor(n/2)]=this.answerDataArr[a+1][n])):this.answerDataArr[a][n]==this.diffType&&(this.answerDataArr[a-1][Math.floor(n/2)]==this.type1?null==this.answerDataArr[a+1][n]&&(this.answerDataArr[a+1][n]=this.type2):this.answerDataArr[a-1][Math.floor(n/2)]==this.type2&&null==this.answerDataArr[a+1][n]&&(this.answerDataArr[a+1][n]=this.type1),this.answerDataArr[a+1][n]==this.type1?null==this.answerDataArr[a-1][Math.floor(n/2)]&&(this.answerDataArr[a-1][Math.floor(n/2)]=this.type2):this.answerDataArr[a+1][n]==this.type2&&null==this.answerDataArr[a-1][Math.floor(n/2)]&&(this.answerDataArr[a-1][Math.floor(n/2)]=this.type1)));for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)a%2==1&&(this.answerDataArr[a][n]&&this.answerDataArr[a-1][Math.floor(n/2)]&&null==this.answerDataArr[a+1][n]?r++:this.answerDataArr[a][n]&&null==this.answerDataArr[a-1][Math.floor(n/2)]&&this.answerDataArr[a+1][n]&&r++)}for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)a%2==0&&this.answerDataArr[a+2]&&(this.answerDataArr[a][n]&&this.answerDataArr[a+2][2*n]&&(this.answerDataArr[a][n]==this.answerDataArr[a+2][2*n]?null==this.answerDataArr[a+1][2*n]&&(this.answerDataArr[a+1][2*n]=this.sameType):this.answerDataArr[a][n]!=this.answerDataArr[a+2][2*n]&&null==this.answerDataArr[a+1][2*n]&&(this.answerDataArr[a+1][2*n]=this.diffType)),this.answerDataArr[a][n]&&this.answerDataArr[a+2][2*n+1]&&(this.answerDataArr[a][n]==this.answerDataArr[a+2][2*n+1]?null==this.answerDataArr[a+1][2*n+1]&&(this.answerDataArr[a+1][2*n+1]=this.sameType):this.answerDataArr[a][n]!=this.answerDataArr[a+2][2*n+1]&&null==this.answerDataArr[a+1][2*n+1]&&(this.answerDataArr[a+1][2*n+1]=this.diffType)))}else if(2==l.DaAnData.getInstance().type){for(r=0,a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)n%2==1&&(this.answerDataArr[a][n]&&this.answerDataArr[a][n-1]&&null==this.answerDataArr[a][n+1]?r++:this.answerDataArr[a][n]&&null==this.answerDataArr[a][n-1]&&this.answerDataArr[a][n+1]&&r++);for(;r>0;){r=0;for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)n%2==1&&(this.answerDataArr[a][n]==this.sameType?(this.answerDataArr[a][n-1]&&null==this.answerDataArr[a][n+1]&&(this.answerDataArr[a][n+1]=this.answerDataArr[a][n-1]),this.answerDataArr[a][n+1]&&null==this.answerDataArr[a][n-1]&&(this.answerDataArr[a][n-1]=this.answerDataArr[a][n+1])):this.answerDataArr[a][n]==this.diffType&&(this.answerDataArr[a][n-1]==this.type1?null==this.answerDataArr[a][n+1]&&(this.answerDataArr[a][n+1]=this.type2):this.answerDataArr[a][n-1]==this.type2&&null==this.answerDataArr[a][n+1]&&(this.answerDataArr[a][n+1]=this.type1),this.answerDataArr[a][n+1]==this.type1?null==this.answerDataArr[a][n-1]&&(this.answerDataArr[a][n-1]=this.type2):this.answerDataArr[a][n+1]==this.type2&&null==this.answerDataArr[a][n-1]&&(this.answerDataArr[a][n-1]=this.type1)));for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)n%2==1&&(this.answerDataArr[a][n]&&this.answerDataArr[a][n-1]&&null==this.answerDataArr[a][n+1]?r++:this.answerDataArr[a][n]&&null==this.answerDataArr[a][n-1]&&this.answerDataArr[a][n+1]&&r++)}cc.log(this.answerDataArr);for(a=0;a<this.answerDataArr.length;a++)for(n=0;n<this.answerDataArr[a].length;n++)n%2==0&&this.answerDataArr[a][n]&&this.answerDataArr[a][n+2]&&(this.answerDataArr[a][n]==this.answerDataArr[a][n+2]?null==this.answerDataArr[a][n+1]&&(this.answerDataArr[a][n+1]=this.sameType):null==this.answerDataArr[a][n+1]&&(this.answerDataArr[a][n+1]=this.diffType))}l.DaAnData.getInstance().answerDataArr=this.answerDataArr},e.prototype.errorQuestion=function(){if(1==l.DaAnData.getInstance().type)for(var t=0;t<this.answerDataArr.length;++t)for(var e=0;e<this.answerDataArr[t].length;++e){if(t%2==1)if(!this.correct(this.answerDataArr[t-1][Math.floor(e/2)],this.answerDataArr[t+1][e],this.answerDataArr[t][e]))return!1}else if(2==l.DaAnData.getInstance().type)for(t=0;t<this.answerDataArr.length;++t)for(e=0;e<this.answerDataArr[t].length;++e){if(e%2==1)if(!this.correct(this.answerDataArr[t][e-1],this.answerDataArr[t][e+1],this.answerDataArr[t][e]))return!1}return!0},e.prototype.correct=function(t,e,r){return r==this.sameType?t==e:r==this.diffType?t!=e:void 0},e.prototype.checkTree=function(){for(var t=0,e=0,r=0;r<this.subjectDataArr.length;r++)for(var a=0;a<this.subjectDataArr[r].length;a++)e++,this.answerDataArr[r][a]&&t++;return t==e},e.prototype.checkSingle=function(){for(var t=0,e=0,r=0;r<this.subjectDataArr.length;r++)for(var a=0;a<this.subjectDataArr[r].length;a++)e++,this.answerDataArr[r][a]&&t++;return t==e},e.prototype.onBtnSaveClicked=function(){l.DaAnData.getInstance().ruleDataArr=this.ruleDataArr,l.DaAnData.getInstance().subjectDataArr=this.subjectDataArr,this.checking()&&o.UIManager.getInstance().showUI(u.default,function(){h.ListenerManager.getInstance().trigger(p.ListenerType.OnEditStateSwitching,{state:1})})},e.prototype.showTip=function(t){this.tipLabel.string=t,this.tipNode.active=!0},e.prototype.tipButtonCallback=function(){this.tipNode.active=!1},e.prototype.getNet=function(){s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(t,e){if(console.log("\u6d88\u606f\u8fd4\u56de"+e),!t){var r=e;if(Array.isArray(r.data))return void this.setPanel();var a=JSON.parse(r.data.courseware_content);if(s.NetWork.courseware_id=r.data.courseware_id,s.NetWork.empty)this.ClearNet();else if(null!=a){if(a.type?l.DaAnData.getInstance().type=a.type:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.type\u4e3a\u7a7a"),a.figure?l.DaAnData.getInstance().figure=a.figure:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.figure\u4e3a\u7a7a"),!a.ruleDataArr)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.ruleDataArr\u4e3a\u7a7a");if(l.DaAnData.getInstance().ruleDataArr=a.ruleDataArr,this.ruleDataArr=a.ruleDataArr,!a.subjectDataArr)return void console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636econtent.subjectDataArr\u4e3a\u7a7a");l.DaAnData.getInstance().subjectDataArr=a.subjectDataArr,this.subjectDataArr=a.subjectDataArr,this.setPanel()}else this.setPanel(),console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636e\u4e3a\u7a7a")}}.bind(this),null)},e.prototype.ClearNet=function(){var t={courseware_id:s.NetWork.courseware_id};s.NetWork.getInstance().httpRequest(s.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||c.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")}.bind(this),JSON.stringify(t))},e.className="TeacherPanel",n([y([cc.Toggle])],e.prototype,"typeToggleContainer",void 0),n([y([cc.Toggle])],e.prototype,"figureToggleContainer",void 0),n([y(cc.Node)],e.prototype,"ruleNode",void 0),n([y(cc.Node)],e.prototype,"subjectNode",void 0),n([y(cc.Prefab)],e.prototype,"singlePrefab",void 0),n([y(cc.Prefab)],e.prototype,"treePrefab",void 0),n([y(cc.SpriteFrame)],e.prototype,"squareBlack",void 0),n([y(cc.SpriteFrame)],e.prototype,"circleYellow",void 0),n([y(cc.SpriteFrame)],e.prototype,"triangleGreen",void 0),n([y(cc.SpriteFrame)],e.prototype,"sexangleBlack",void 0),n([y(cc.SpriteFrame)],e.prototype,"sexangleOrange",void 0),n([y(cc.SpriteFrame)],e.prototype,"sexanglePurple",void 0),n([y(cc.SpriteFrame)],e.prototype,"octagonBlack",void 0),n([y(cc.SpriteFrame)],e.prototype,"octagonGreen",void 0),n([y(cc.SpriteFrame)],e.prototype,"octagonYellow",void 0),n([y(cc.SpriteFrame)],e.prototype,"arrowBlack",void 0),n([y(cc.SpriteFrame)],e.prototype,"arrowBlue",void 0),n([y(cc.SpriteFrame)],e.prototype,"arrowOrange",void 0),n([y(cc.SpriteFrame)],e.prototype,"handGreen",void 0),n([y(cc.SpriteFrame)],e.prototype,"lineBlack",void 0),n([y(cc.SpriteFrame)],e.prototype,"lineCurve",void 0),n([y(cc.SpriteFrame)],e.prototype,"lineDotted",void 0),n([y(cc.Label)],e.prototype,"tipLabel",void 0),n([y(cc.Node)],e.prototype,"tipNode",void 0),e=n([d],e)}(i.BaseUI);r.default=v,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ItemType":"ItemType","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel"}],TimeManager:[function(t,e,r){"use strict";cc._RF.push(e,"6a93cVTR3pJrpapom9vowVf","TimeManager"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.prototype.getNowFormatDate=function(){var t=new Date,e=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();r>=1&&r<=9&&(r="0"+r),a>=0&&a<=9&&(a="0"+a);var n=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),s=t.getMilliseconds();return n>=0&&n<=9&&(n="0"+n),i>=0&&i<=9&&(i="0"+i),o>=0&&o<=9&&(o="0"+o),s>=0&&s<=9&&(s="00"+s),s>=10&&s<=90&&(s="0"+s),e+":"+r+":"+a+":"+n+":"+i+":"+o+":"+s},t.instance=null,t}();r.TimeManager=a,cc._RF.pop()},{}],TipUI:[function(t,e,r){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../Item/Tip"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return a(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var r=0;r<this.tipPool.length;++r)if(null!=this.tipPool[r]&&this.tipPool[r].isReady())return this.tipPool[r].node.setSiblingIndex(200),void this.tipPool[r].playTip(t);cc.log("create tip");var a=cc.instantiate(this.tipPrefab);a.parent=this.node;var n=a.getComponent(o.Tip);this.tipPool.push(n),n.playTip(t)},e.className="TipUI",n([l(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=n([c],e)}(i.BaseUI);r.TipUI=u,cc._RF.pop()},{"../BaseUI":"BaseUI","../Item/Tip":"Tip"}],Tip:[function(t,e,r){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return a(e,t),e.prototype.playTip=function(t){this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),r=(cc.fadeIn(.5),cc.fadeOut(.5)),a=cc.spawn(e,r),n=cc.delayTime(1),i=cc.callFunc(function(){this.ready=!0},this),o=cc.sequence(n,a,i);this.node.runAction(o)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},n([s(cc.Node)],e.prototype,"neiRongNode",void 0),n([s(cc.Label)],e.prototype,"tipLabel",void 0),e=n([o],e)}(cc.Component);r.Tip=c,cc._RF.pop()},{}],TitleNode:[function(t,e,r){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../../Manager/ListenerManager"),o=t("../../Data/ListenerType"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return a(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,i.ListenerManager.getInstance().add(o.ListenerType.OnEditStateSwitching,this,this.onStateSwitching)},e.prototype.onStateSwitching=function(t){0==t.state?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},n([l(cc.Label)],e.prototype,"bianJiLabel",void 0),n([l(cc.Label)],e.prototype,"jianYanLabel",void 0),n([l(cc.Node)],e.prototype,"tiaoNode",void 0),e=n([c],e)}(cc.Component);r.default=u,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,r){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var a=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(t,e){this.time=0,this.pos=cc.Vec2.ZERO,this.time=t,this.pos=e}}();r.ArtMoveParam=n;var i=cc._decorator,o=i.ccclass,s=(i.property,function(){function t(){}return t.playSpine=function(t,e,r,a){void 0===a&&(a=null),t.setAnimation(0,e,r)&&t.setCompleteListener(function(t,r){(t.animation?t.animation.name:"")===e&&a&&null!=a&&a()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),r=0;r<e.length;r++){var a=e[r].split("=");if(a[0]==t)return a[1]}return!1},t.runArtMoveSequence=function(t,e,r){void 0===r&&(r=null);var a=t.getPosition().sub(e[e.length-1].pos);function n(t){return t.add(a)}if(t.setPosition(n(e[0].pos)),e.length<=1)r&&r();else{for(var i=[],o=1;o<e.length-1;o++){var s=.001*(e[o].time-e[o-1].time);i.push(cc.moveTo(s,n(e[o].pos)))}r&&i.push(cc.callFunc(r)),t.runAction(cc.sequence(i))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var r=t%60;return r<10&&(r="0"+r),e+":"+r},t=a([o],t)}());r.Tools=s,cc._RF.pop()},{}],UIHelp:[function(t,e,r){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Manager/UIManager"),n=t("../UI/panel/TipUI"),i=t("../UI/Item/affirmTips"),o=t("../UI/Item/OverTips"),s=function(){function t(){}return t.showTip=function(e){var r=a.UIManager.getInstance().getUI(n.TipUI);r?r.showTip(e):a.UIManager.getInstance().openUI(n.TipUI,null,211,function(){t.showTip(e)})},t.showOverTip=function(e,r,n,i){void 0===r&&(r=""),void 0===n&&(n=null);var s=a.UIManager.getInstance().getUI(o.OverTips);s?s.init(e,r,n,i):a.UIManager.getInstance().openUI(o.OverTips,null,210,function(){t.showOverTip(e,r,n,i)})},t.AffirmTip=function(e,r,n,o,s){var c=a.UIManager.getInstance().getUI(i.AffirmTips);c?c.init(e,r,n,o,s):a.UIManager.getInstance().openUI(i.AffirmTips,null,210,function(){t.AffirmTip(e,r,n,o,s)})},t}();r.UIHelp=s,cc._RF.pop()},{"../Manager/UIManager":"UIManager","../UI/Item/OverTips":"OverTips","../UI/Item/affirmTips":"affirmTips","../UI/panel/TipUI":"TipUI"}],UIManager:[function(t,e,r){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","UIManager"),Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiRoot=cc.find("Canvas")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,r,a,n){for(var i=this,o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,r){n&&n(t,e,r)},function(n,s){if(n)cc.log(n);else if(!i.getUI(t)){var c=cc.instantiate(s);c.parent=i.uiRoot,r&&(c.zIndex=r);var l=c.getComponent(t);l.data=e,l.tag=t,i.uiList.push(l),a&&a(o)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,r){var a=this,n=this.getUI(t);n?(n.data=e,n.node.active=!0,n.onShow(),r&&r()):this.openUI(t,e,0,function(){r&&r(),a.getUI(t).onShow()})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();r.UIManager=a,cc._RF.pop()},{}],UploadAndReturnPanel:[function(t,e,r){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Manager/UIManager"),s=t("./GamePanel"),c=t("./SubmissionPanel"),l=t("../Item/OverTips"),u=t("../../Manager/ListenerManager"),h=t("../../Data/ListenerType"),p=t("../../Data/DaAnData"),f=t("../../Utils/UIHelp"),g=t("../../Manager/AudioManager"),d=cc._decorator,y=d.ccclass,v=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var r;return a(e,t),r=e,e.prototype.start=function(){},e.prototype.onFanHui=function(){u.ListenerManager.getInstance().trigger(h.ListenerType.OnEditStateSwitching,{state:0}),o.UIManager.getInstance().closeUI(s.default),o.UIManager.getInstance().closeUI(r),o.UIManager.getInstance().closeUI(c.default),o.UIManager.getInstance().closeUI(l.OverTips),g.AudioManager.getInstance().stopAll()},e.prototype.onTiJiao=function(){p.DaAnData.getInstance().submitEnable?o.UIManager.getInstance().openUI(c.default,null,210):f.UIHelp.showTip("\u8bf7\u901a\u5173\u540e\u8fdb\u884c\u4fdd\u5b58\u3002")},e.className="UploadAndReturnPanel",e=r=n([y],e)}(i.BaseUI));r.default=v,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Manager/AudioManager":"AudioManager","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../Item/OverTips":"OverTips","./GamePanel":"GamePanel","./SubmissionPanel":"SubmissionPanel"}],affirmTips:[function(t,e,r){"use strict";cc._RF.push(e,"67e25WAGoRADq1zkpxqqwdF","affirmTips");var a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__decorate||function(t,e,r,a){var n,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r,"__esModule",{value:!0});var i=t("../BaseUI"),o=t("../../Manager/UIManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callback=null,e}var r;return a(e,t),r=e,e.prototype.start=function(){},e.prototype.init=function(t,e,r,a,n){this.title.node.active=!1,this.des.node.active=!0,this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callback=r,this.des.string=e,this.callback=r,a&&(this.btnCloseLabel.string=a),n&&(this.btnOkLabel.string=n)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v2(0,this.ok.node.position.y),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),o.UIManager.getInstance().closeUI(r),this.callback(1)},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),o.UIManager.getInstance().closeUI(r),this.callback(0)},e.className="AffirmTips",n([l(cc.Node)],e.prototype,"NodeDes",void 0),n([l(cc.Label)],e.prototype,"title",void 0),n([l(cc.Label)],e.prototype,"des",void 0),n([l(cc.Button)],e.prototype,"close",void 0),n([l(cc.Button)],e.prototype,"ok",void 0),n([l(cc.Label)],e.prototype,"btnCloseLabel",void 0),n([l(cc.Label)],e.prototype,"btnOkLabel",void 0),n([l(cc.Node)],e.prototype,"win",void 0),n([l(cc.Node)],e.prototype,"fail",void 0),e=r=n([c],e)}(i.BaseUI);r.AffirmTips=u,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],arrays:[function(t,e,r){"use strict";cc._RF.push(e,"b058arw+iJCUoMo5lRZ29ul","arrays"),Object.defineProperty(r,"__esModule",{value:!0});var a=t("./util");function n(t,e,r){for(var n=r||a.defaultEquals,i=t.length,o=0;o<i;o++)if(n(t[o],e))return o;return-1}r.indexOf=n,r.lastIndexOf=function(t,e,r){for(var n=r||a.defaultEquals,i=t.length-1;i>=0;i--)if(n(t[i],e))return i;return-1},r.contains=function(t,e,r){return n(t,e,r)>=0},r.remove=function(t,e,r){var a=n(t,e,r);return!(a<0||(t.splice(a,1),0))},r.frequency=function(t,e,r){for(var n=r||a.defaultEquals,i=t.length,o=0,s=0;s<i;s++)n(t[s],e)&&o++;return o},r.equals=function(t,e,r){var n=r||a.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!n(t[o],e[o]))return!1;return!0},r.copy=function(t){return t.concat()},r.swap=function(t,e,r){if(e<0||e>=t.length||r<0||r>=t.length)return!1;var a=t[e];return t[e]=t[r],t[r]=a,!0},r.toString=function(t){return"["+t.toString()+"]"},r.forEach=function(t,e){for(var r=0,a=t;r<a.length;r++)if(!1===e(a[r]))return},cc._RF.pop()},{"./util":"util"}],util:[function(t,e,r){"use strict";cc._RF.push(e,"c9cacB846tOCorK/Mt3JpJs","util"),Object.defineProperty(r,"__esModule",{value:!0});var a=Object.prototype.hasOwnProperty;function n(t){return"function"==typeof t}function i(t){return void 0===t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}r.has=function(t,e){return a.call(t,e)},r.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},r.defaultEquals=function(t,e){return t===e},r.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":o(t)?"$s"+t:"$o"+t.toString()},r.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(o(t))return t.toString();var a="{",n=!0;for(var s in t)r.has(t,s)&&(n?n=!1:a+=e,a=a+s+":"+t[s]);return a+"}"},r.isFunction=n,r.isUndefined=i,r.isString=o,r.reverseCompareFunction=function(t){return i(t)||!n(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,r){return-1*t(e,r)}},r.compareToEquals=function(t){return function(e,r){return 0===t(e,r)}},cc._RF.pop()},{}]},{},["BaseConfigContainer","ConstValue","CustomTypes","DaAnData","DataReporting","GameData","ItemType","ListenerType","NetWork","GameMain","AudioManager","ListenerManager","TimeManager","UIManager","BaseUI","OverTips","Tip","affirmTips","ErrorPanel","GamePanel","LoadingUI","SubmissionPanel","TeacherPanel","TipUI","TitleNode","UploadAndReturnPanel","Tools","AdaptiveScreen","FadeUIPlugin","LogWrap","MathExtension","StringExtension","UIHelp","Dictionary","Set","arrays","util"]);