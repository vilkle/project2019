window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){return o(e[r][1][t]||t)},p,p.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AdaptiveScreen:[function(t,e,n){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return i(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,n=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,n)},o([s({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),o([s],e.prototype,"viewWidth",void 0),o([s],e.prototype,"viewHeight",void 0),e=o([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],AnswerItem:[function(t,e,n){"use strict";cc._RF.push(e,"4ba05Fi/cNBMZrV3KLSva50","AnswerItem");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Data/ListenerType"),s=t("../../Manager/ListenerManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.jiaBtn=null,e.jieBtn=null,e.btnNode=null,e.textString="",e.lastString="",e.index=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onJiaBtnClick=function(){s.ListenerManager.getInstance().trigger(r.ListenerType.OnDaAnZengJia,{index:this.index})},e.prototype.onJieBtnClick=function(){s.ListenerManager.getInstance().trigger(r.ListenerType.OnDaAnShanChu,{index:this.index,node:this.node})},e.prototype.setBtn=function(t){this.jiaBtn.interactable=!0,this.jieBtn.interactable=!0,this.btnNode.active=!0,1==t?this.jiaBtn.interactable=!1:2==t?this.jieBtn.interactable=!1:0==t&&(this.btnNode.active=!1)},e.prototype.editingEnded=function(t){this.textString=this.label.string,s.ListenerManager.getInstance().trigger(r.ListenerType.OnEndOfInput,{text:this.textString,index:this.index})},e.prototype.setText=function(t){this.label.string=t},e.prototype.onDestroy=function(){},e.className="AnswerItem",o([p(cc.EditBox)],e.prototype,"label",void 0),o([p(cc.Button)],e.prototype,"jiaBtn",void 0),o([p(cc.Button)],e.prototype,"jieBtn",void 0),o([p(cc.Node)],e.prototype,"btnNode",void 0),e=o([l],e)}(a.BaseUI);n.default=u,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager","../BaseUI":"BaseUI"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/ConstValue"),o=function(){function t(){this.bgm=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.playSound=function(t,e,n,o,a){void 0===o&&(o=null),void 0===a&&(a=null);var r=i.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(r,cc.AudioClip,function(t,i){if(t)cc.error(t);else{var r=cc.audioEngine.play(i,e||!1,n||1);o&&o(r),a&&cc.audioEngine.setFinishCallback(r,a)}})},t.prototype.stopAudio=function(t){cc.audioEngine.stop(t)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.playBGM=function(t){if(this.bgm!=t){this.bgm=t,cc.audioEngine.stopMusic();var e=i.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(e,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=i.ConstValue.AUDIO_DIR+this.bgm;cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})},t.instance=null,t}();n.AudioManager=o,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],BaseConfigContainer:[function(t,e,n){"use strict";cc._RF.push(e,"a9280QRTmRIUqfgpuhZqA92","BaseConfigContainer"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),t}();n.BaseConfigContainer=i,cc._RF.pop()},{}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Data/ConstValue"),r=t("../Manager/ListenerManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),e.getUrl=function(){return cc.log(this.className),a.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){r.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e=o([c],e)}(cc.Component));n.BaseUI=l,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/ListenerManager":"ListenerManager"}],ConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","ConstValue"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.IS_EDITIONS=!0,t.IS_TEACHER=!0,t.CONFIG_FILE_DIR="config/",t.PREFAB_UI_DIR="prefab/ui/panel/",t.AUDIO_DIR="audio/",t.CoursewareKey="w5grXEO2d$*c7UcmA1v&p^AD",t}();n.ConstValue=i,cc._RF.pop()},{}],DaAnData:[function(t,e,n){"use strict";cc._RF.push(e,"2f1ec1bM8JGb4L5TI7iWW47","DaAnData"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.ballb_01=1]="ballb_01",t[t.ballb_02=2]="ballb_02",t[t.ballb_03=3]="ballb_03",t[t.ballb_04=5]="ballb_04",t[t.ballb_05=7]="ballb_05",t[t.ballb_06=11]="ballb_06",t[t.ballb_07=13]="ballb_07",t[t.ballb_08=8]="ballb_08",t[t.ballb_09=9]="ballb_09"}(n.skinStrEnum||(n.skinStrEnum={}));var i=function(){function t(){this.submitEnable=!1,this.checkpointsNum=0,this.numberArr=new Array}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.DaAnData=i,cc._RF.pop()},{}],DataReporting:[function(t,e,n){"use strict";cc._RF.push(e,"fcbb2jwzKhJwKls3NHmiFBh","DataReporting");var i=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ConstValue"),a=cc._decorator,r=a.ccclass,s=(a.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),o.ConstValue.IS_EDITIONS&&(e?courseware.page.sendToParent(t,e):courseware.page.sendToParent(t))},t.prototype.addEvent=function(t,e){o.ConstValue.IS_EDITIONS&&courseware.page.on(t,e)},t.isRepeatReport=!0,t=e=i([r],t)}());n.default=s,cc._RF.pop()},{"./ConstValue":"ConstValue"}],Dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"cc667V2/zFJtI7/GBev9gvA","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./util"),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||i.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!i.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!i.isUndefined(t)&&!i.isUndefined(e)){var n,o="$"+this.toStr(t),a=this.table[o];return i.isUndefined(a)?(this.nElements++,n=void 0):n=a.value,this.table[o]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!i.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!i.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();n.default=o,cc._RF.pop()},{"./util":"util"}],ErrorPanel:[function(t,e,n){"use strict";cc._RF.push(e,"62396fj6HpA2bDKqeipYSpa","ErrorPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Manager/UIManager"),s=t("../../Manager/AudioManager"),c=t("../../Http/NetWork"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}var n;return i(e,t),n=e,e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,n,i,o,a){void 0===a&&(a=!1);var r={shuoMing:t,biaoTi:e,tiShi:n};c.NetWork.getInstance().LogJournalReport("ErrorPanelLog",r),s.AudioManager.getInstance().playSound("sfx_erro",!1,1),this.shuoMing.string=t,this.isClose=a,this.callback=o,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=n||this.tiShi.string,this.btnLab.string=i||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){s.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),this.isClose&&r.UIManager.getInstance().closeUI(n)},e.className="ErrorPanel",o([u(cc.Label)],e.prototype,"biaoTi",void 0),o([u(cc.Label)],e.prototype,"shuoMing",void 0),o([u(cc.Label)],e.prototype,"tiShi",void 0),o([u(cc.Label)],e.prototype,"btnLab",void 0),o([u(cc.Button)],e.prototype,"btn",void 0),e=n=o([p],e)}(a.BaseUI);n.default=h,cc._RF.pop()},{"../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],FadeUIPlugin:[function(t,e,n){"use strict";cc._RF.push(e,"2fe78Vyt/NInb1oC42+tpUk","FadeUIPlugin");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),n=cc.scaleTo(.5,0,0),i=cc.scaleTo(.5,1,1),o=cc.sequence(t,e,n,i);this.node.runAction(o)},o([s],e.prototype,"delay",void 0),e=o([r],e)}(cc.Component);n.FadeUIPlugin=c,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"65c35Ym/oRKD6h93ZiyEFOw","GameData"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.GameData=i,cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none")},e.prototype.start=function(){},e.prototype.update=function(t){},e=o([r],e)}(cc.Component));n.GameMain=s,cc._RF.pop()},{}],GamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Data/DaAnData"),s=t("../../Utils/UIHelp"),c=t("../../Manager/AudioManager"),l=t("../../Http/NetWork"),p=t("../../Data/ConstValue"),u=t("../../Manager/UIManager"),h=t("../../UI/Item/OverTips"),d=t("../panel/UploadAndReturnPanel"),g=t("../../Data/DataReporting"),f=cc._decorator,b=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.queren=null,e.chongzhi=null,e.tijiao=null,e.minutes=null,e.second=null,e.minuteHand=null,e.secondHand=null,e.numberStr=null,e.bubble_none1=null,e.bubble_none2=null,e.bubble_1=null,e.bubble_2=null,e.bubble=null,e.bullet=null,e.gunNode=null,e.miya=null,e.mask=null,e.numberNode=null,e.signNode=null,e.bg=null,e.font=null,e.ballNodeP=null,e.decomposeArr=Array(),e.answerArr=Array(),e.labelArr=Array(),e.progressArr=Array(),e.placementBallArr=Array(),e.li=Array(),e.an=Array(),e.pl=Array(),e.updateNode=Array(),e.timer=null,e.decoposeNum=null,e.intervalIndex=null,e.minStr=null,e.secStr=null,e.checkpointsNum=null,e.checkpoint=null,e.cueNum=0,e.isReadyShoot=!1,e.isDoubleOver=!0,e.isSingleOver=!0,e.alreadyCourseware=!1,e.shooting=!1,e.multiply=!1,e.isOver=0,e.eventvalue={isResult:1,isLevel:1,levelData:[],result:4},e}return i(e,t),e.prototype.onLoad=function(){this.isTecher()},e.prototype.start=function(){var t=this;c.AudioManager.getInstance().playSound("sfx_pysopn"),this.bg.on(cc.Node.EventType.TOUCH_START,function(e){1!=t.isOver&&(t.isOver=2,t.eventvalue.result=2,t.eventvalue.levelData[t.checkpoint-1].result=2)})},e.prototype.onDestroy=function(){this.closeClock()},e.prototype.update=function(t){for(var e=0;e<this.updateNode.length;e++){var n=this.updateNode[e].getChildByName("spine").getComponent(sp.Skeleton).findBone("bubble_11").scaleX,i=this.updateNode[e].getChildByName("spine").getComponent(sp.Skeleton).findBone("bubble_11").scaleY;this.updateNode[e].getChildByName("label").setScale(cc.v2(n,i))}if(this.pl.length<=1)1==this.decoposeNum?(0==this.tijiao.interactable&&0==this.cueNum&&(this.tijiao.interactable=!0),0==this.chongzhi.interactable&&(this.chongzhi.interactable=!0)):(1==this.tijiao.interactable&&(this.tijiao.interactable=!1),1==this.chongzhi.interactable&&(this.chongzhi.interactable=!1));else{if(this.checkpoint>=this.checkpointsNum+1)return;0==this.tijiao.interactable&&0==this.cueNum&&(this.tijiao.interactable=!0),0==this.chongzhi.interactable&&(this.chongzhi.interactable=!0)}this.cueNum>0&&1==this.tijiao.interactable&&(this.tijiao.interactable=!1)},e.prototype.isTecher=function(){p.ConstValue.IS_TEACHER?(u.UIManager.getInstance().openUI(d.default,null,211),this.initData()):this.getNet()},e.prototype.initData=function(){this.timer=0,this.checkpoint=1,this.decoposeNum=r.DaAnData.getInstance().numberArr[this.checkpoint-1],this.checkpointsNum=r.DaAnData.getInstance().checkpointsNum,this.defaultValue(),this.initProgress(this.checkpointsNum),this.updateNode.push(this.bubble_1),this.updateNode.push(this.bubble_2),this.updateNode.push(this.gunNode.getChildByName("ballNode")),this.placementBallArr.push(this.gunNode.getChildByName("ballNode")),this.placementBallArr.push(this.bubble_1),this.placementBallArr.push(this.bubble_2),this.addListenerOnPlacement(),this.mask.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}.bind(this)),this.mask.active=!1;for(var t=0;t<this.checkpointsNum;t++)this.eventvalue.levelData.push({subject:null,answer:null,result:4});this.openClock(),this.decompose(this.decoposeNum),this.answer(this.decoposeNum),this.createDecomposeBall(),g.default.getInstance().addEvent("end_game",this.onEndGame.bind(this))},e.prototype.onEndGame=function(){g.default.isRepeatReport&&1!=this.eventvalue.result&&(g.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),g.default.isRepeatReport=!1),g.default.getInstance().dispatchEvent("end_finished",{eventType:"activity",eventValue:this.isOver})},e.prototype.initProgress=function(t){1!=this.checkpointsNum&&cc.loader.loadRes("prefab/ui/Item/progressNode",function(e,n){if(!e){for(var i=0;i<t;i++){var o=cc.instantiate(n);this.progressArr[i]=o;var a=350-200*i;o.setPosition(cc.v2(-900,a)),o.parent=this.node,o.getChildByName("ball").getChildByName("label").getComponent(cc.Label).string=(i+1).toString(),o.getChildByName("bubble").getChildByName("label").getComponent(cc.Label).string=(i+1).toString(),o.getChildByName("whiteball").getChildByName("label").getComponent(cc.Label).string=(i+1).toString(),i==t-1&&(o.getChildByName("line").active=!1,o.getChildByName("lineup").active=!1)}this.setprogress(this.checkpoint)}}.bind(this))},e.prototype.setprogress=function(t){for(var e=0;e<this.progressArr.length;e++)e<t-1?(this.progressArr[e].getChildByName("bubble").active=!0,this.progressArr.length>1&&(this.progressArr[e].getChildByName("lineup").active=!0)):e==t-1?(this.progressArr[e].getChildByName("bubble").active=!0,this.progressArr[e].getChildByName("whiteball").active=!0):(this.progressArr[e].getChildByName("bubble").active=!1,this.progressArr[e].getChildByName("whiteball").active=!1)},e.prototype.defaultValue=function(){var t=this;this.bubble_1.opacity=255,this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setSkin(r.skinStrEnum[1]),this.bubble_1.getChildByName("label").getComponent(cc.Label).string="1",this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"idle",!0),this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_in"==e.animation.name&&(t.isReadyShoot=!0,t.shoot())})},e.prototype.createBall=function(t,e,n,i,o){var a=cc.instantiate(this.ballNodeP);a.getChildByName("label").getComponent(cc.Label).string=String(t),3==t.toString().length&&(a.getChildByName("label").getComponent(cc.Label).fontSize=30);var r=a.getChildByName("spine").getComponent(sp.Skeleton);if(r.setAnimation(0,"idle",!0),a.parent=i,r.setSkin(this.skinString(t)),o)a.x=e,a.y=n,a.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),this.answerArr.push(a),this.updateNode.push(a),this.addListenerOnAnswerBall(a);else{if(a.y=0,e!=this.li.length-1){var s=new cc.Node("label"),c=s.addComponent(cc.Label);c.string="*",c.font=this.font,c.fontSize=50,c.node.y=0,s.parent=i,this.labelArr.push(s)}this.decomposeArr.push(a),this.addListenerOnDecomposeBall(a)}},e.prototype.getNet=function(){l.NetWork.getInstance().httpRequest(l.NetWork.GET_QUESTION+"?courseware_id="+l.NetWork.courseware_id,"GET","application/json;charset=utf-8",function(t,e){if(!t){var n=e;if(Array.isArray(n.data))return;var i=JSON.parse(n.data.courseware_content);null!=i&&(i.numberArr&&(r.DaAnData.getInstance().numberArr=i.numberArr),i.checkpointsNum&&(r.DaAnData.getInstance().checkpointsNum=i.checkpointsNum),this.initData())}}.bind(this),null)},e.prototype.answer=function(t){for(var e=1;e<=t;e++)t%e==0&&this.an.push(e);this.eventvalue.levelData[this.checkpoint-1].answer=this.an},e.prototype.decompose=function(t){for(var e=t,n=1;n<e;)for(n+=1;e%n==0;)e/=n,this.li.push(n);1==t&&this.li.push(1);var i=String(t)+"  =  ";this.numberStr.getComponent(cc.Label).string=i;for(var o=1,a=0;a<this.li.length;a++){if(this.li[a]!=this.li[a+1]&&this.li[a]!=this.li[a-1])o=1,(s=(r=new cc.Node).addComponent(cc.Label)).font=this.font,s.fontSize=50,r.parent=this.numberNode,r.y=10,this.labelArr.push(r),a<this.li.length-1?s.string=String(this.li[a])+"  *  ":s.string=String(this.li[a])+"  =  ";else if(o++,this.li[a+1]!=this.li[a+2]&&this.li[a]==this.li[a+1]){var r,s,c=new cc.Node,l=c.addComponent(cc.Label);l.font=this.font,l.fontSize=50,l.string=this.li[a].toString(),c.parent=this.numberNode,c.y=10,this.labelArr.push(c),(s=(r=new cc.Node).addComponent(cc.Label)).string=o.toString(),s.font=this.font,s.fontSize=30,r.parent=this.numberNode,r.y=40,this.labelArr.push(r);var p=new cc.Node,u=p.addComponent(cc.Label);u.font=this.font,u.fontSize=50,this.labelArr.push(p),this.li[a+2]?u.string="  *  ":u.string="  =  ",p.parent=this.numberNode,p.y=10}}},e.prototype.createDecomposeBall=function(){this.numberStr.node.getContentSize().width;for(var t=0;t<this.li.length;t++){0,this.createBall(this.li[t],t,0,this.numberNode,!1)}},e.prototype.skinString=function(t){return r.skinStrEnum[t]&&8!=t&&9!=t?r.skinStrEnum[t]:1==t.toString().length?r.skinStrEnum[8]:2==t.toString().length||3==t.toString().length?r.skinStrEnum[9]:void 0},e.prototype.addListenerOnPlacement=function(){for(var t=null,e=function(e){n.placementBallArr[e].getChildByName("spine").on(cc.Node.EventType.TOUCH_START,function(n){if(0!=this.placementBallArr[e].opacity&&!this.shooting&&!this.multiply){var i=parseInt(this.placementBallArr[e].getChildByName("label").getComponent(cc.Label).string);1!=i&&(c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("sfx_wining"),this.placementBallArr[e].opacity=0,this.bubble.opacity=255,this.bubble_none1.node.getBoundingBox().contains(this.node.convertToNodeSpaceAR(n.currentTouch._point))?(this.bubble_none1.node.opacity=255,t=1):this.bubble_none2.node.getBoundingBox().contains(this.node.convertToNodeSpaceAR(n.currentTouch._point))?(this.bubble_none2.node.opacity=255,t=2):t=null,this.bubble.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(i)),this.bubble.getChildByName("label").getComponent(cc.Label).getComponent(cc.Label).string=i.toString(),this.bubble.setPosition(this.node.convertToNodeSpaceAR(n.currentTouch._point)),"kan"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"kan",!1),"kan_idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"kan_idle",!0))}}.bind(n)),n.placementBallArr[e].getChildByName("spine").on(cc.Node.EventType.TOUCH_MOVE,function(t){if(0!=this.bubble.opacity&&(!this.shooting&&!this.multiply&&1!=parseInt(this.placementBallArr[e].getChildByName("label").getComponent(cc.Label).string))){var n=this.node.convertToNodeSpaceAR(t.currentTouch._point);n.x>this.node.width/2-this.bubble.width/2?this.bubble.x=this.node.width/2-this.bubble.width/2:n.x<-this.node.width/2+this.bubble.width/2?this.bubble.x=-this.node.width/2+this.bubble.width/2:this.bubble.x=n.x,n.y>=this.node.height/2-this.bubble.height/2?this.bubble.y=this.node.height/2-this.bubble.height/2:n.y<=-this.node.height/2+this.bubble.height/2?this.bubble.y=-this.node.height/2+this.bubble.height/2:this.bubble.y=n.y;var i=this.node.convertToNodeSpaceAR(t.currentTouch._point),o=Math.sqrt(Math.pow(i.x-this.miya.getPosition().x,2)+Math.pow(i.y-this.miya.getPosition().y,2));o<400&&o>150?("idle"==this.miya.getComponent(sp.Skeleton).animation&&"in_jump"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"in_jump",!1),"jump"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"jump",!0)):o<150?"jump_xuangz"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"jump_xuangz",!0):o>400&&("jump"==this.miya.getComponent(sp.Skeleton).animation&&"kan"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"kan",!1),"kan_idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"kan_idle",!0))}}.bind(n)),n.placementBallArr[e].getChildByName("spine").on(cc.Node.EventType.TOUCH_END,function(n){0!=this.bubble.opacity&&(this.shooting||this.multiply||1!=parseInt(this.placementBallArr[e].getChildByName("label").getComponent(cc.Label).string)&&("jump_xuangz"==this.miya.getComponent(sp.Skeleton).animation?(this.miya.getComponent(sp.Skeleton).addAnimation(0,"in_idle",!1),c.AudioManager.getInstance().playSound("sfx_deleted"),this.bubble.opacity=0):(c.AudioManager.getInstance().playSound("sfx_releaseball"),this.bubble.opacity=0,this.placementBallArr[e].opacity=255,1==t?this.bubble_none1.node.opacity=0:2==t&&(this.bubble_none2.node.opacity=0)),this.miya.getComponent(sp.Skeleton).setAnimation(0,"in_idle",!1),"idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)))}.bind(n)),n.placementBallArr[e].getChildByName("spine").on(cc.Node.EventType.TOUCH_CANCEL,function(n){0!=this.bubble.opacity&&(this.shooting||this.multiply||1!=parseInt(this.placementBallArr[e].getChildByName("label").getComponent(cc.Label).string)&&("jump_xuangz"==this.miya.getComponent(sp.Skeleton).animation?(c.AudioManager.getInstance().playSound("sfx_deleted"),this.miya.getComponent(sp.Skeleton).addAnimation(0,"in_idle",!1),this.bubble.opacity=0):(c.AudioManager.getInstance().playSound("sfx_releaseball"),this.bubble.opacity=0,this.placementBallArr[e].opacity=255,1==t?this.bubble_none1.node.opacity=0:2==t?this.bubble_none2.node.opacity=0:(this.bubble_none1.node.opacity=255,this.bubble_none2.node.opacity=255)),this.miya.getComponent(sp.Skeleton).setAnimation(0,"in_idle",!1),"idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)))}.bind(n))},n=this,i=0;i<this.placementBallArr.length;i++)e(i)},e.prototype.addListenerOnDecomposeBall=function(t){var e=t.getChildByName("spine");e.on(cc.Node.EventType.TOUCH_START,function(e){1!=this.isOver&&(this.isOver=2,this.eventvalue.result=2,this.eventvalue.levelData[this.checkpoint-1].result=2),c.AudioManager.getInstance().playSound("sfx_touchball");var n=this.node.convertToNodeSpaceAR(e.currentTouch._point);this.bubble.x=n.x,this.bubble.y=n.y;var i=parseInt(t.getChildByName("label").getComponent(cc.Label).string),o=this.skinString(i);this.bubble.getChildByName("label").getComponent(cc.Label).string=i,this.bubble.opacity=255,this.bubble.getChildByName("spine").getComponent(sp.Skeleton).setSkin(o)}.bind(this),this),e.on(cc.Node.EventType.TOUCH_MOVE,function(t){var n=this.node.convertToNodeSpaceAR(t.currentTouch._point);n.x>this.node.width/2-e.width/2?this.bubble.x=this.node.width/2-e.width/2:n.x<-this.node.width/2+e.width/2?this.bubble.x=-this.node.width/2+e.width/2:this.bubble.x=n.x,n.y>=this.node.height/2-e.height/2?this.bubble.y=this.node.height/2-e.height/2:n.y<=-this.node.height/2+e.height/2?this.bubble.y=-this.node.height/2+e.height/2:this.bubble.y=n.y}.bind(this),this),e.on(cc.Node.EventType.TOUCH_END,function(){c.AudioManager.getInstance().playSound("sfx_releaseball"),255==this.bubble.opacity&&(this.bubble.opacity=0)}.bind(this),this),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var n=this;if(c.AudioManager.getInstance().playSound("sfx_releaseball"),0==this.gunNode.rotation||255!=this.bubble.opacity)if(this.isDoubleOver){var i=parseInt(t.getChildByName("label").getComponent(cc.Label).string),o=this.skinString(i);if(this.bubble_none1.node.getBoundingBox().contains(this.node.convertToNodeSpaceAR(e.currentTouch._point))){if(this.gunNode.getChildByName("ballNode").opacity){if(this.multiply=!0,this.isReadyShoot=!1,this.isDoubleOver=!1,(r=parseInt(this.gunNode.getChildByName("ballNode").getChildByName("label").getComponent(cc.Label).string))*parseInt(this.bubble.getChildByName("label").getComponent(cc.Label).string)>999)return this.bubble.opacity=0,s.UIHelp.showTip("\u6570\u503c\u8fc7\u5927\uff01"),this.isReadyShoot=!0,void(this.isDoubleOver=!0);this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(r)),this.bubble_2.getChildByName("label").getComponent(cc.Label).string=r.toString(),r.toString().length>=3?this.bubble_2.getChildByName("label").getComponent(cc.Label).fontSize=30:this.bubble_2.getChildByName("label").getComponent(cc.Label).fontSize=40,this.bubble_2.opacity=255,this.bubble_none2.node.opacity=0,this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1);var a=this.gunNode.getChildByName("ballNode");a.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_out",!1),a.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(t){"ball_out"==t.animation.name&&(a.opacity=0)})}this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setSkin(o),this.bubble_1.getChildByName("label").getComponent(cc.Label).fontSize=40,this.bubble_1.getChildByName("label").getComponent(cc.Label).string=this.bubble.getChildByName("label").getComponent(cc.Label).string,this.bubble_1.opacity=255,this.bubble_none1.node.opacity=0,this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),this.bubble_1.opacity&&this.bubble_2.opacity&&(this.multiply=!0,this.isReadyShoot=!1,this.isDoubleOver=!1,c.AudioManager.getInstance().playSound("sfx_composing"),this.signNode.runAction(cc.sequence(cc.fadeIn(.2),cc.fadeOut(.3),cc.fadeIn(.2),cc.fadeOut(.3)))),this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(t){if("ball_in"==t.animation.name){if(n.bubble_1.opacity&&n.bubble_2.opacity){var e=n.bubble_1.getChildByName("spine").getComponent(sp.Skeleton),i=n.bubble_2.getChildByName("spine").getComponent(sp.Skeleton);e.addAnimation(0,"ball_out",!1),i.addAnimation(0,"ball_out",!1)}}else"ball_out"==t.animation.name&&n.bubble_1.opacity&&n.bubble_2.opacity&&(n.gunballIn(),n.bubble_1.opacity=0,n.bubble_2.opacity=0,n.bubble_none1.node.opacity=255,n.bubble_none2.node.opacity=255)})}else if(this.bubble_none2.node.getBoundingBox().contains(this.node.convertToNodeSpaceAR(e.currentTouch._point))){if(this.gunNode.getChildByName("ballNode").opacity){var r;if(this.multiply=!0,this.isReadyShoot=!1,this.isDoubleOver=!1,(r=parseInt(this.gunNode.getChildByName("ballNode").getChildByName("label").getComponent(cc.Label).string))*parseInt(this.bubble.getChildByName("label").getComponent(cc.Label).string)>999)return this.bubble.opacity=0,s.UIHelp.showTip("\u6570\u503c\u8fc7\u5927\uff01"),this.isReadyShoot=!0,void(this.isDoubleOver=!0);var l=this.gunNode.getChildByName("ballNode");this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(r)),this.bubble_1.getChildByName("label").getComponent(cc.Label).string=r.toString(),r.toString().length>=3?this.bubble_1.getChildByName("label").getComponent(cc.Label).fontSize=30:this.bubble_1.getChildByName("label").getComponent(cc.Label).fontSize=40,this.bubble_1.opacity=255,this.bubble_none1.node.opacity=0,this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),l.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_out",!1),l.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(t){"ball_out"==t.animation.name&&(l.opacity=0)})}this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setSkin(o),this.bubble_2.getChildByName("label").getComponent(cc.Label).fontSize=40,this.bubble_2.getChildByName("label").getComponent(cc.Label).string=this.bubble.getChildByName("label").getComponent(cc.Label).string,this.bubble_2.opacity=255,this.bubble_none2.node.opacity=0,this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),this.bubble_1.opacity&&this.bubble_2.opacity&&(this.multiply=!0,this.isReadyShoot=!1,this.isDoubleOver=!1,c.AudioManager.getInstance().playSound("sfx_composing"),this.signNode.runAction(cc.sequence(cc.fadeIn(.2),cc.fadeOut(.3),cc.fadeIn(.2),cc.fadeOut(.3)))),this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(t){if("ball_in"==t.animation.name){if(n.bubble_1.opacity&&n.bubble_2.opacity){var e=n.bubble_1.getChildByName("spine").getComponent(sp.Skeleton),i=n.bubble_2.getChildByName("spine").getComponent(sp.Skeleton);e.addAnimation(0,"ball_out",!1),i.addAnimation(0,"ball_out",!1)}}else"ball_out"==t.animation.name&&n.bubble_1.opacity&&n.bubble_2.opacity&&(n.gunballIn(),n.bubble_1.opacity=0,n.bubble_2.opacity=0,n.bubble_none1.node.opacity=255,n.bubble_none2.node.opacity=255)})}255==this.bubble.opacity&&(this.bubble.opacity=0)}else this.bubble.opacity=0;else this.bubble.opacity=0}.bind(this),this)},e.prototype.gunballIn=function(){var t=this,e=this.gunNode.getChildByName("ballNode");e.opacity=255;var n=parseInt(this.bubble_1.getChildByName("label").getComponent(cc.Label).string)*parseInt(this.bubble_2.getChildByName("label").getComponent(cc.Label).string);n>999&&(n=999),n.toString().length>=3?e.getChildByName("label").getComponent(cc.Label).fontSize=30:e.getChildByName("label").getComponent(cc.Label).fontSize=40,e.getChildByName("label").getComponent(cc.Label).string=n.toString(),e.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(n)),c.AudioManager.getInstance().playSound("sfx_compgood"),this.gunNode.getChildByName("gun").getComponent(sp.Skeleton).setAnimation(0,"in",!1),e.opacity&&(e.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),e.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_in"==e.animation.name&&(t.isReadyShoot=!0,t.isDoubleOver=!0,t.multiply=!1)}))},e.prototype.addListenerOnAnswerBall=function(t){var e=t.getChildByName("spine");e.on(cc.Node.EventType.TOUCH_START,function(t){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("sfx_wining"),"kan"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"kan",!1),"kan_idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"kan_idle",!0)}.bind(this),this),e.on(cc.Node.EventType.TOUCH_MOVE,function(n){var i=t.parent.convertToNodeSpaceAR(n.currentTouch._point);i.x>=this.node.width/2-e.width/2-t.parent.x?t.x=this.node.width/2-e.width/2-t.parent.x:i.x<=-this.node.width/2+e.width/2-t.parent.x?t.x=-this.node.width/2+e.width/2-t.parent.x:t.x=i.x,i.y>=this.node.height/2-e.height/2-t.parent.y?t.y=this.node.height/2-e.height/2-t.parent.y:i.y<=-this.node.height/2+e.height/2-t.parent.y?t.y=-this.node.height/2+e.height/2-t.parent.y:t.y=i.y;var o=this.node.convertToNodeSpaceAR(n.currentTouch._point),a=Math.sqrt(Math.pow(o.x-this.miya.getPosition().x,2)+Math.pow(o.y-this.miya.getPosition().y,2));a<400&&a>150?("idle"==this.miya.getComponent(sp.Skeleton).animation&&"in_jump"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"in_jump",!1),"jump"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"jump",!0)):a<150?"jump_xuangz"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"jump_xuangz",!0):a>400&&("jump"==this.miya.getComponent(sp.Skeleton).animation&&"kan"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).setAnimation(0,"kan",!1),"kan_idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"kan_idle",!0))}.bind(this),this),e.on(cc.Node.EventType.TOUCH_END,function(e){if("jump_xuangz"!=this.miya.getComponent(sp.Skeleton).animation||this.shooting)c.AudioManager.getInstance().playSound("sfx_releaseball"),t.setPosition(cc.v2(0,0));else if(this.miya.getComponent(sp.Skeleton).addAnimation(0,"in_idle",!1),1==parseInt(t.getChildByName("label").getComponent(cc.Label).string))c.AudioManager.getInstance().playSound("sfx_releaseball"),s.UIHelp.showAffirmTips(1,"\u8d28\u65701\u4e0d\u80fd\u5220\u9664",-1,"\u53d6\u6d88","\u786e\u8ba4",function(){t.setPosition(cc.v2(0,0))}.bind(this),function(){t.setPosition(cc.v2(0,0))}.bind(this));else{c.AudioManager.getInstance().playSound("sfx_deleted");var n=this.answerArr.indexOf(t);this.answerArr.splice(n,1),this.eventvalue.levelData[this.checkpoint-1].subject=this.pl,this.pl.splice(n,1);var i=this.updateNode.indexOf(t);this.updateNode.splice(i,1),this.updatePos(),t.destroy()}this.miya.getComponent(sp.Skeleton).setAnimation(0,"in_idle",!1),"idle"!=this.miya.getComponent(sp.Skeleton).animation&&this.miya.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)}.bind(this),this),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){c.AudioManager.getInstance().playSound("sfx_releaseball"),t.setPosition(cc.v2(0,0))}.bind(this),this)},e.prototype.updatePos=function(){for(var t=0;t<this.answerArr.length;t++){var e=t+1,n=this.node.getChildByName(e.toString());this.answerArr[t].parent=n}},e.prototype.shoot=function(){var t=this;if(0==this.gunNode.rotation&&!this.shooting){if(0==this.gunNode.getChildByName("ballNode").opacity&&this.bubble_1.opacity&&this.isDoubleOver){this.shooting=!0;var e=parseInt(this.bubble_1.getChildByName("label").getComponent(cc.Label).string),n=this.gunNode.getChildByName("ballNode");n.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(e)),n.getChildByName("label").getComponent(cc.Label).string=e.toString(),n.opacity=255,n.getChildByName("gun_bg").opacity=0,this.bubble_none1.node.opacity=255,this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_out"==e.animation.name&&(t.bubble_1.opacity=0,n.getChildByName("gun_bg").opacity=255,c.AudioManager.getInstance().playSound("sfx_moveball"),n.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),n.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_in"==e.animation.name&&t.bulletOut()}))}),this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).clearTracks(),this.bubble_1.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_out",!1)}else if(0==this.gunNode.getChildByName("ballNode").opacity&&this.bubble_2.opacity&&this.isDoubleOver){this.shooting=!0;e=parseInt(this.bubble_2.getChildByName("label").getComponent(cc.Label).string);var i=this.gunNode.getChildByName("ballNode");i.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(e)),i.getChildByName("label").getComponent(cc.Label).string=e.toString(),i.opacity=255,i.getChildByName("gun_bg").opacity=0,this.bubble_none2.node.opacity=255,this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_out"==e.animation.name&&(t.bubble_2.opacity=0,i.getChildByName("gun_bg").opacity=255,c.AudioManager.getInstance().playSound("sfx_moveball"),i.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_in",!1),i.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_in"==e.animation.name&&t.bulletOut()}))}),this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).clearTracks(),this.bubble_2.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_out",!1)}else 255==this.gunNode.getChildByName("ballNode").opacity&&this.answerArr.length<25&&(this.shooting=!0,this.bulletOut());this.isReadyShoot=!1}},e.prototype.bulletOut=function(){var t=this.gunNode.getChildByName("ballNode"),e=t.getChildByName("label").getComponent(cc.Label).string,n=this.answerArr.length+1,i=this.node.getChildByName(n.toString()),o=i.getPosition(),a=this.gunNode.getPosition(),r=this.gunNode.getChildByName("gun1").getPosition().x+a.x,s=this.gunNode.getChildByName("gun1").getPosition().y+a.y,l=cc.v2(r,s),p=this.gunNode.getPosition(),u=this.getAngle(o,p),h=this.getRotationPos(a,l,u),d=parseInt(t.getChildByName("label").getComponent(cc.Label).string);this.pl.push(d),this.eventvalue.levelData[this.checkpoint-1].subject=this.pl,this.bullet.getChildByName("spine").getComponent(sp.Skeleton).setSkin(this.skinString(d)),this.bullet.getChildByName("label").getComponent(cc.Label).string=t.getChildByName("label").getComponent(cc.Label).string;var g=cc.callFunc(function(){var e=this;c.AudioManager.getInstance().playSound("sfx_shoot"),this.gunNode.getChildByName("gun").getComponent(sp.Skeleton).setAnimation(0,"ready",!1),this.gunNode.getChildByName("gun").getComponent(sp.Skeleton).setCompleteListener(function(i){if("ready"==i.animation.name){e.gunNode.getChildByName("gun").getComponent(sp.Skeleton).setAnimation(0,"go",!1),t.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"ball_fire",!1),t.getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function(e){"ball_fire"==e.animation.name&&(t.opacity=0)}),e.bullet.setPosition(h),e.bullet.opacity=255,e.bullet.setScale(.5);var a=.2;n>18&&(a=.1),e.bullet.runAction(cc.sequence(cc.spawn(cc.scaleTo(a,1),cc.moveTo(a,o).easing(cc.easeSineOut())),f))}})}.bind(this),this),f=cc.callFunc(function(){var t=this;this.bullet.opacity=0,this.createBall(parseInt(e),0,0,i,!0),this.gunNode.runAction(cc.sequence(cc.rotateTo(.5,0),cc.callFunc(function(){t.shooting=!1})))}.bind(this),this);this.gunNode.runAction(cc.sequence(cc.rotateBy(.5,u),g))},e.prototype.getAngle=function(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),o=i/Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),a=Math.acos(o),r=Math.floor(180/(Math.PI/a));return r=t.x>e.x?r:-r},e.prototype.getRotationPos=function(t,e,n){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=2*Math.PI/360*n,a=i*Math.cos(o),r=Math.sqrt(Math.pow(i,2)-Math.pow(a,2)),s=t.x+r,c=t.y+a;return s=n>0?s:t.x-r,cc.v2(s,c)},e.prototype.nextCheckPoint=function(t){this.minuteHand.rotation=0,this.secondHand.rotation=0,this.timer=0,this.openClock(),this.updateNode=[];for(var e=0;e<this.decomposeArr.length;e++)this.decomposeArr[e].destroy();for(e=0;e<this.answerArr.length;e++)this.answerArr[e].destroy();for(e=0;e<this.labelArr.length;e++)this.labelArr[e].destroy();this.decomposeArr=[],this.answerArr=[],this.labelArr=[],this.pl=[],this.li=[],this.an=[],this.bubble.opacity=0,this.bubble_1.opacity=0,this.bubble_2.opacity=0,this.gunNode.getChildByName("ballNode").opacity=0,this.bullet.opacity=0,this.decoposeNum=r.DaAnData.getInstance().numberArr[t-1],this.decompose(this.decoposeNum),this.answer(this.decoposeNum),this.createDecomposeBall(),this.initProgress(this.checkpoint),this.defaultValue(),this.updateNode.push(this.bubble_1),this.updateNode.push(this.bubble_2),this.updateNode.push(this.gunNode.getChildByName("ballNode")),this.cueNum=0,this.eventvalue.levelData[this.checkpoint-1].answer=this.an},e.prototype.reset=function(){if(0==this.gunNode.rotation){for(var t=0;t<this.answerArr.length;t++)-1!=this.updateNode.indexOf(this.answerArr[t])&&this.updateNode.splice(this.updateNode.indexOf(this.answerArr[t]),1),this.answerArr[t].destroy();this.answerArr=[],this.pl=[],this.bubble.opacity=0,this.bubble_1.opacity=0,this.bubble_2.opacity=0,this.gunNode.getChildByName("ballNode").opacity=0,this.bullet.opacity=0,this.cueNum=0,this.defaultValue(),this.mask.active=!1}},e.prototype.cueAnswer=function(){for(var t=0;t<this.pl.length;t++){if(-1==this.an.indexOf(this.pl[t]))this.answerArr[t].getChildByName("err").active=!0,this.answerArr[t].getChildByName("label").getComponent(cc.Label).string.length<3?this.answerArr[t].getChildByName("label").getComponent(cc.Label).fontSize=50:this.answerArr[t].getChildByName("label").getComponent(cc.Label).fontSize=40;else for(var e=0;e<t;e++){if(this.pl[e]==this.pl[t])this.answerArr[t].getChildByName("err").active=!0,this.answerArr[t].getChildByName("label").getComponent(cc.Label).string.length<3?this.answerArr[t].getChildByName("label").getComponent(cc.Label).fontSize=50:this.answerArr[t].getChildByName("label").getComponent(cc.Label).fontSize=40}}},e.prototype.isRight=function(){if(0==this.gunNode.rotation){for(var t=0,e=0;e<this.an.length;e++)-1!=this.pl.indexOf(this.an[e])&&t++;this.eventvalue.levelData[this.checkpoint-1].subject=this.pl,t==this.an.length&&this.pl.length==this.an.length?(this.isOver=2,this.eventvalue.result=2,this.checkpoint++,this.checkpoint>=this.checkpointsNum+1?(this.closeClock(),this.tijiao.interactable=!1,this.chongzhi.interactable=!1,this.eventvalue.levelData[this.checkpoint-2].result=1,this.eventvalue.result=1,this.isOver=1,g.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),s.UIHelp.showAffirmTips(1,"\u606d\u559c\u5168\u90e8\u901a\u5173",this.timer,"\u518d\u6b21\u6311\u6218","\u5173\u95ed",function(){u.UIManager.getInstance().closeUI(h.OverTips),this.checkpoint--,this.resetTime(),this.reset()}.bind(this),function(){u.UIManager.getInstance().closeUI(h.OverTips),this.mask.active=!0,p.ConstValue.IS_TEACHER&&(r.DaAnData.getInstance().submitEnable=!0)}.bind(this))):(this.closeClock(),this.eventvalue.levelData[this.checkpoint-2].result=1,s.UIHelp.showAffirmTips(1,"\u6311\u6218\u6210\u529f",this.timer,"\u518d\u6b21\u6311\u6218","\u4e0b\u4e00\u5173",function(){u.UIManager.getInstance().closeUI(h.OverTips),this.checkpoint--,this.resetTime(),this.reset()}.bind(this),function(){u.UIManager.getInstance().closeUI(h.OverTips),this.nextCheckPoint(this.checkpoint)}.bind(this)))):(this.cueNum++,this.isOver=2,this.eventvalue.result=2,this.eventvalue.levelData[this.checkpoint-1].result=2,this.mask.active=!0,this.closeClock(),this.cueAnswer(),s.UIHelp.showAffirmTips(2,"\u6311\u6218\u5931\u8d25\uff01\u70b9\u51fb\u91cd\u7f6e\u540e\u518d\u6b21\u6311\u6218",this.timer,"\u53d6\u6d88","\u786e\u8ba4",function(){this.openClock()}.bind(this),function(){this.openClock()}.bind(this)))}},e.prototype.chongzhiCallback=function(){s.UIHelp.showAffirmTips(1,"\u786e\u8ba4\u8981\u91cd\u7f6e\u672c\u5173\uff0c\u91cd\u65b0\u5f00\u59cb\u6e38\u620f\u5417\uff1f",-1,"\u53d6\u6d88","\u786e\u8ba4",function(){}.bind(this),this.reset.bind(this))},e.prototype.tijiaoCallback=function(){this.closeClock(),s.UIHelp.showAffirmTips(1,"\u786e\u8ba4\u63d0\u4ea4\u7b54\u6848\u5417\uff1f",-1,"\u53d6\u6d88","\u786e\u8ba4",function(){this.openClock()}.bind(this),this.isRight.bind(this))},e.prototype.resetTime=function(){this.minuteHand.rotation=0,this.secondHand.rotation=0,this.timer=0,this.minStr="00",this.secStr="00",this.openClock()},e.prototype.openClock=function(){this.intervalIndex=setInterval(function(){this.timer=this.timer+1;var t=this.timer/60>>0,e=this.timer%60;this.minStr=String(t),this.secStr=String(e),t<10&&(this.minStr="0"+this.minStr),e<10&&(this.secStr="0"+this.secStr),this.minuteHand.rotation=6*t,this.secondHand.rotation=6*e,this.minutes.getComponent(cc.Label).string=this.minStr,this.second.getComponent(cc.Label).string=this.secStr,60==t&&clearInterval(this.intervalIndex)}.bind(this),1e3)},e.prototype.closeClock=function(){clearInterval(this.intervalIndex)},e.className="GamePanel",o([y(cc.Button)],e.prototype,"queren",void 0),o([y(cc.Button)],e.prototype,"chongzhi",void 0),o([y(cc.Button)],e.prototype,"tijiao",void 0),o([y(cc.Label)],e.prototype,"minutes",void 0),o([y(cc.Label)],e.prototype,"second",void 0),o([y(cc.Node)],e.prototype,"minuteHand",void 0),o([y(cc.Node)],e.prototype,"secondHand",void 0),o([y(cc.Label)],e.prototype,"numberStr",void 0),o([y(cc.Sprite)],e.prototype,"bubble_none1",void 0),o([y(cc.Sprite)],e.prototype,"bubble_none2",void 0),o([y(cc.Node)],e.prototype,"bubble_1",void 0),o([y(cc.Node)],e.prototype,"bubble_2",void 0),o([y(cc.Node)],e.prototype,"bubble",void 0),o([y(cc.Node)],e.prototype,"bullet",void 0),o([y(cc.Node)],e.prototype,"gunNode",void 0),o([y(cc.Node)],e.prototype,"miya",void 0),o([y(cc.Node)],e.prototype,"mask",void 0),o([y(cc.Node)],e.prototype,"numberNode",void 0),o([y(cc.Node)],e.prototype,"signNode",void 0),o([y(cc.Node)],e.prototype,"bg",void 0),o([y(cc.BitmapFont)],e.prototype,"font",void 0),o([y(cc.Prefab)],e.prototype,"ballNodeP",void 0),e=o([b],e)}(a.BaseUI);n.default=m,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../UI/Item/OverTips":"OverTips","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../panel/UploadAndReturnPanel":"UploadAndReturnPanel"}],ListenerManager:[function(t,e,n){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e,n){void 0===n&&(n=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=n}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!0,configurable:!0}),t}();n.Delegate=i;var o=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,n){return null!==this.find(t,e,n)},t.prototype.trigger=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!t)return console.error("Listener type is null!"),!1;var o=[],a=[],r=this.mListenerMap.get(t);r&&(r.forEach(function(t,e){for(var n=0,i=t;n<i.length;n++){var s=i[n];o.push(s),a.push(e)}for(var c=t.length-1;c>=0;--c)t[c].isOnce&&t.splice(c,1);t.length<=0&&r.delete(e)}),r.size<=0&&this.mListenerMap.delete(t));for(var s=o.length,c=0;c<s;c++){var l=o[c];(e=l.listener).call.apply(e,[a[c]].concat(l.argArray,n))}return s>0},t.prototype.add=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this.addListener.apply(this,[t,e,n,!1].concat(i))},t.prototype.addOnce=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this.addListener.apply(this,[t,e,n,!0].concat(i))},t.prototype.remove=function(t,e,n,i){this.removeBy(function(o,a,r){return(!t||t===o)&&((!e||e===a)&&((!n||n===r.listener)&&!(i&&!r.isOnce)))})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(n,i){n.delete(t),n.size<=0&&e.mListenerMap.delete(i)})},t.prototype.addListener=function(t,e,n,o){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];var s=this.find(t,e,n);if(s)s.isOnce=o,console.error("Listener is already exist!");else{var c=new i(n,a,o);this.mListenerMap.get(t).get(e).push(c)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(n,i){n.forEach(function(e,o){for(var a=e.length-1;a>=0;--a){var r=e[a];t(i,o,r)&&e.splice(a,1)}e.length<=0&&n.delete(o)}),n.size<=0&&e.mListenerMap.delete(i)})},t.prototype.find=function(t,e,n){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!n)return console.error("Listener is null!"),null;var i,o;this.mListenerMap.has(t)?i=this.mListenerMap.get(t):(i=new Map,this.mListenerMap.set(t,i)),i.has(e)?o=i.get(e):(o=[],i.set(e,o));for(var a=0,r=o;a<r.length;a++){var s=r[a];if(s.mListener===n)return s}return null},t}();n.ListenerManager=o,cc._RF.pop()},{}],ListenerType:[function(t,e,n){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","ListenerType"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t}();n.ListenerType=i,cc._RF.pop()},{}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"4f415v4wXVLT6+PsT4BJA8H","LoadingUI");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Data/ConstValue"),s=t("./TeacherPanel"),c=t("./GamePanel"),l=t("../../Manager/UIManager"),p=t("../../Http/NetWork"),u=t("../../Data/DataReporting"),h=t("../../Manager/TimeManager"),d=cc._decorator,g=d.ccclass,f=d.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;p.NetWork.getInstance().GetRequest();u.default.getInstance().dispatchEvent("load start");var e=r.ConstValue.IS_TEACHER?s.default:c.default;l.UIManager.getInstance().openUI(e,null,0,function(){p.NetWork.getInstance().LogJournalReport("ResLoadEnd",{curTime:h.TimeManager.getInstance().getNowFormatDate()}),u.default.getInstance().dispatchEvent("load end"),u.default.getInstance().dispatchEvent("start"),t.node.active=!1},function(e,n,i){t.isLoadStart||(t.isLoadStart=!0,p.NetWork.getInstance().LogJournalReport("ResLoadStart",{curTime:h.TimeManager.getInstance().getNowFormatDate()})),t.progressBar.progress=e/n;var o=Math.round(e/n*100);u.default.getInstance().dispatchEvent("loading",o),t.progressLabel.string=o.toString()+"%";var a=e/n*609-304;t.dragonNode.x=a})},e.className="LoadingUI",o([f(cc.ProgressBar)],e.prototype,"progressBar",void 0),o([f(cc.Label)],e.prototype,"progressLabel",void 0),o([f(cc.Node)],e.prototype,"dragonNode",void 0),e=o([g],e)}(a.BaseUI);n.LoadingUI=b,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/TimeManager":"TimeManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./TeacherPanel":"TeacherPanel"}],LogWrap:[function(t,e,n){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/ConstValue"),o=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),n="";return n+=(1==e.length?"0"+e:e)+":",n+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",n+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),n="["+(n+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var n=[];e.forEach(function(t){var e,i=(t=t.substring(7)).split(" ");i.length<2?n.push(i[0]):n.push(((e={})[i[0]]=i[1],e))});var i=[];if(t<n.length-1)for(var o in n[t])i.push(o);var a=i[0].split(".");return a[0]+".js->"+a[1]+": "},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;i.ConstValue.IS_EDITIONS||o.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;i.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;i.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;i.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();n.LogWrap=o,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],MathExtension:[function(t,e,n){"use strict";cc._RF.push(e,"81407Q2vf9Ezor3KOYrFKb8","MathExtension"),Math.randomRangeInt=function(t,e){var n=Math.random();return 1===n&&(n-=Number.EPSILON),t+Math.floor(n*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],NetWork:[function(t,e,n){"use strict";cc._RF.push(e,"36643EkDcFHfJQIDYWRwStF","NetWork"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/ConstValue"),o=t("../Manager/UIManager"),a=t("../UI/panel/ErrorPanel"),r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.httpRequest=function(e,n,r,s,c){if(void 0===s&&(s=null),void 0===c&&(c=""),!i.ConstValue.IS_TEACHER||t.title_id)if(i.ConstValue.IS_TEACHER||t.courseware_id&&t.user_id){var l=new XMLHttpRequest;l.open(n,e),l.timeout=1e4,l.setRequestHeader("Content-Type",r),l.withCredentials=!0,l.onreadystatechange=function(){if(console.log("httpRequest rsp status",l.status,"        xhr.readyState",l.readyState,"        xhr.responseText",l.responseText),4==l.readyState&&l.status>=200&&l.status<=400){var p=JSON.parse(l.responseText);s&&0==p.errcode?s(!1,p):i.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(a.default,null,1e3,function(){o.UIManager.getInstance().getUI(a.default).setPanel(p.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){t.getInstance().httpRequest(e,n,r,s,c)},!1)})}},l.ontimeout=function(l){i.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(a.default,null,1e3,function(){o.UIManager.getInstance().getUI(a.default).setPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,r,s,c)},!0)}),console.log("httpRequest timeout"),s&&s(!0,null)},l.onerror=function(l){i.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(a.default,null,1e3,function(){o.UIManager.getInstance().getUI(a.default).setPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,r,s,c)},!0)}),console.log("httpRequest error"),s&&s(!0,null)},l.send(c)}else o.UIManager.getInstance().openUI(a.default,null,1e3,function(){o.UIManager.getInstance().getUI(a.default).setPanel("\u5f02\u5e38\u7f16\u53f7\u4e3a001,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a")});else o.UIManager.getInstance().openUI(a.default,null,1e3,function(){o.UIManager.getInstance().getUI(a.default).setPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")})},t.prototype.GetRequest=function(){if(null!=t.theRequest)return t.theRequest;t.theRequest=new Object;var e=location.search;if(-1!=e.indexOf("?"))for(var n=e.substr(1).split("&"),i=0;i<n.length;i++)t.theRequest[n[i].split("=")[0]]=decodeURIComponent(n[i].split("=")[1]);return t.courseware_id=t.theRequest.id,t.title_id=t.theRequest.title_id,t.user_id=t.theRequest.user_id,t.empty=t.theRequest.empty,t.isLive=t.theRequest.isLive,this.LogJournalReport("CoursewareLogEvent",""),console.log("11111gaolei",t.courseware_id,"           ",t.theRequest.id,"           ",JSON.stringify(t.theRequest)),t.theRequest},t.prototype.GetIsOnline=function(){var t=1;return this.GetRequest().isOnline&&(t=this.GetRequest().isOnline),t},t.prototype.LogJournalReport=function(e,n){i.ConstValue.IS_EDITIONS&&((new Image).src=(t.isOnlineEnv?"https://logserver.haibian.com/statistical/?type=7&":"https://ceshi-statistical.haibian.com/?type=7&")+"course_id="+this.GetRequest().id+"&chapter_id="+this.GetRequest().chapter_id+"&user_id="+this.GetRequest().user_id+"&subject="+this.GetRequest().subject+"&event="+e+"&identity=1&extra="+JSON.stringify({url:location,CoursewareKey:i.ConstValue.CoursewareKey,empty:this.GetRequest().empty,CoursewareName:"pinyinshu",data:n}))},t.isOnlineEnv=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0&&1==t.getInstance().GetIsOnline(),t.isProtocol=/http:/.test(window.location.protocol),t.isLocal=/localhost/.test(window.location.href)||t.isProtocol,t.isOwcr="owcr:"==location.protocol||"file:"==location.protocol,t.BASE=t.isOnlineEnv?"https://courseware.haibian.com":t.isLocal?"http://ceshi.courseware.haibian.com":"https://ceshi_courseware.haibian.com",t.GET_QUESTION=t.BASE+"/get",t.GET_USER_PROGRESS=t.BASE+"/get/answer",t.GET_TITLE=t.BASE+"/get/title",t.ADD=t.BASE+"/add",t.MODIFY=t.BASE+"/modify",t.CLEAR=t.BASE+"/clear",t.courseware_id=null,t.title_id=null,t.user_id=null,t.empty=!1,t.chapter_id=null,t.subject=null,t.isLive=null,t.theRequest=null,t}();n.NetWork=r,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/UIManager":"UIManager","../UI/panel/ErrorPanel":"ErrorPanel"}],OverTips:[function(t,e,n){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../UIComm/Tools"),s=t("../../Manager/UIManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e}var n;return i(e,t),n=e,e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e){switch(void 0===e&&(e=""),this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=2!=t,t){case 0:r.Tools.playSpine(this.spine_false,"false",!1,this.delayClose.bind(this));break;case 1:r.Tools.playSpine(this.spine_true,"true",!1,this.delayClose.bind(this));break;case 2:r.Tools.playSpine(this.spine_complete,"in",!1,function(){r.Tools.playSpine(this.spine_complete,"stand",!0,this.delayClose.bind(this))}.bind(this))}var n=this.label_tip.node.position,i=cc.v2(n.x,n.y-72.8),o=cc.v2(n.x,n.y+12),a=cc.v2(n.x,n.y-8),s=cc.v2(n.x,n.y+7.3);this.label_tip.node.position=i,this.label_tip.node.runAction(cc.sequence(cc.moveTo(.08,o),cc.moveTo(.08,a),cc.moveTo(.08,s),cc.moveTo(.06,n)))},e.prototype.delayClose=function(){this.scheduleOnce(function(){this.onClickClose()}.bind(this),0)},e.prototype.onClickClose=function(){s.UIManager.getInstance().closeUI(n)},e.className="OverTips",o([p(cc.Label)],e.prototype,"label_tip",void 0),o([p(sp.Skeleton)],e.prototype,"spine_false",void 0),o([p(sp.Skeleton)],e.prototype,"spine_true",void 0),o([p(sp.Skeleton)],e.prototype,"spine_complete",void 0),o([p(cc.Node)],e.prototype,"node_close",void 0),e=n=o([l],e)}(a.BaseUI);n.OverTips=u,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../../UIComm/Tools":"Tools","../BaseUI":"BaseUI"}],Set:[function(t,e,n){"use strict";cc._RF.push(e,"d8d97HoTUFPm7oqXrj5GU8u","Set"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./util"),o=t("./arrays"),a=t("./Dictionary"),r=function(){function t(t){this.dictionary=new a.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!i.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();n.default=r,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],Step:[function(t,e,n){"use strict";cc._RF.push(e,"ec260b7b1dBQYLxfWoMa0cz","Step"),cc.Class({extends:cc.Component,properties:{node_title:cc.Node,node_parent:cc.Node,_stepNode:[],NowIndex:-1},Init:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.node_title);n.setParent(this.node_parent),n.children[1].getComponent(cc.Label).string=e.toString(),n.children[3].getComponent(cc.Label).string=t[e].des,n.active=!0,e+1>=t.length&&(n.children[2].active=!1,n.setContentSize(30,30)),this._stepNode.push(n)}this.NextStep()},SetNowPos:function(t){},NextStep:function(){this.NowIndex+1>=this._stepNode.length||(this.NowIndex>=0&&(this._stepNode[this.NowIndex].children[2].color=new cc.Color(122,170,229)),this._stepNode[this.NowIndex+1].children[0].color=new cc.Color(122,170,229),this.NowIndex++)},LestStep:function(){this.NowIndex-1<0||(this.NowIndex-1>=0&&(this._stepNode[this.NowIndex-1].children[2].color=new cc.Color(129,129,129)),this._stepNode[this.NowIndex].children[0].color=new cc.Color(129,129,129),this.NowIndex--)},start:function(){for(var t=[],e=["\u5f55\u5165\u9898\u76ee\u4fe1\u606f","\u68c0\u6d4b\u9898\u76ee\u4fe1\u606f"],n=0;n<e.length;n++){var i=[];i.des=e[n],t.push(i)}this.Init(t)},ReStart:function(){}}),cc._RF.pop()},{}],StringExtension:[function(t,e,n){"use strict";cc._RF.push(e,"85c1bk+r3FHf5RqunqKCFt+","StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(arguments),i=0;return this.replace(/%s/g,function(t,e){return n[i++]})},cc._RF.pop()},{}],SubmissionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),l=t("../../Data/ConstValue"),p=t("./ErrorPanel"),u=t("../../Data/DaAnData"),h=cc._decorator,d=h.ccclass,g=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){r.UIManager.getInstance().closeUI(n)},e.prototype.DetectionNet=function(){if(s.NetWork.title_id){var t=JSON.stringify({CoursewareKey:l.ConstValue.CoursewareKey,numberArr:u.DaAnData.getInstance().numberArr,checkpointsNum:u.DaAnData.getInstance().checkpointsNum});s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(e,n){if(!e)if(null==n.data.courseware_content||""==n.data.courseware_content)this.AddNet(t);else{s.NetWork.courseware_id=n.data.courseware_id;var i=JSON.parse(n.data.courseware_content);s.NetWork.empty||(i.CoursewareKey==l.ConstValue.CoursewareKey?this.ModifyNet(t):r.UIManager.getInstance().openUI(p.default,null,1e3,function(){r.UIManager.getInstance().getUI(p.default).setPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")}))}}.bind(this),null)}else r.UIManager.getInstance().openUI(p.default,null,1e3,function(){r.UIManager.getInstance().getUI(p.default).setPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")})},e.prototype.AddNet=function(t){var e={title_id:s.NetWork.title_id,courseware_content:t,is_result:1,is_lavel:1};s.NetWork.getInstance().httpRequest(s.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),r.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:s.NetWork.courseware_id,courseware_content:t,is_result:1,is_lavel:1};s.NetWork.getInstance().httpRequest(s.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),r.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.className="SubmissionPanel",e=n=o([d],e)}(a.BaseUI));n.default=g,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Http/NetWork":"NetWork","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./ErrorPanel":"ErrorPanel"}],TeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Data/DaAnData"),l=t("./GamePanel"),p=t("../../Manager/ListenerManager"),u=t("../../Data/ListenerType"),h=t("../../Utils/UIHelp"),d=cc._decorator,g=d.ccclass,f=d.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checkpointsEditBox=null,e.editBoxNode=null,e.submissonButton=null,e.tipNode=null,e.editbox2=null,e.editboxArr=Array(),e}return i(e,t),e.prototype.onLoad=function(){this.getNet(),this.initData()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.initData=function(){c.DaAnData.getInstance().checkpointsNum&&(this.checkpointsEditBox.string=String(c.DaAnData.getInstance().checkpointsNum),this.checkpointEditingEnd(null)),cc.log("checkpointsnum is =",c.DaAnData.getInstance().checkpointsNum)},e.prototype.ShowTips=function(t){this.tipNode.active=!0,this.tipNode.getChildByName("label").getComponent(cc.Label).string=t,this.tipNode.getChildByName("layout").on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},e.prototype.closeTip=function(){this.tipNode.active=!1},e.prototype.button=function(){cc.log("checkpoint num",c.DaAnData.getInstance().checkpointsNum,c.DaAnData.getInstance().numberArr),this.errorChecking()&&r.UIManager.getInstance().showUI(l.default,function(){p.ListenerManager.getInstance().trigger(u.ListenerType.OnEditStateSwitching,{state:1})})},e.prototype.checkpointEditingEnd=function(t){switch(this.checkpointsEditBox.string){case"1":c.DaAnData.getInstance().checkpointsNum=1;break;case"2":c.DaAnData.getInstance().checkpointsNum=2;break;case"3":c.DaAnData.getInstance().checkpointsNum=3;break;case"4":c.DaAnData.getInstance().checkpointsNum=4;break;default:this.checkpointsEditBox.string="",c.DaAnData.getInstance().checkpointsNum=0}for(var e=0;e<this.editboxArr.length;e++)this.editboxArr[e].destroy();this.editboxArr=[];var n=function(t){var e=cc.instantiate(i.editbox2);e.x=0,i.editboxArr.push(e),e.parent=i.editBoxNode,e.getChildByName("label").getComponent(cc.Label).string=(t+1).toString(),e.on("editing-did-ended",function(n){parseInt(e.getComponent(cc.EditBox).string)>200||parseInt(e.getComponent(cc.EditBox).string)<=1?(e.getComponent(cc.EditBox).string="",this.ShowTips("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57\u5594\uff01"),e.getChildByName("PLACEHOLDER_LABEL").active=!0,cc.log(e.getChildByName("PLACEHOLDER_LABEL"))):""==e.getComponent(cc.EditBox).string?this.ShowTips("\u8fd8\u6ca1\u6709\u8f93\u5165\u6570\u5b57\u5566\uff5e"):(c.DaAnData.getInstance().numberArr[t]=parseInt(e.getComponent(cc.EditBox).string),cc.log(c.DaAnData.getInstance().numberArr))}.bind(i)),c.DaAnData.getInstance().numberArr[t]&&(e.getComponent(cc.EditBox).string=c.DaAnData.getInstance().numberArr[t].toString())},i=this;for(e=0;e<parseInt(this.checkpointsEditBox.string);e++)n(e)},e.prototype.errorChecking=function(){for(var t=0,e=0;e<parseInt(this.checkpointsEditBox.string);e++)""==this.editboxArr[e].getComponent(cc.EditBox).string&&(cc.log("edit box is null"),t++);return t>0?(this.ShowTips("\u8fd8\u6ca1\u6709\u8f93\u5165\u6570\u5b57\u5566\uff5e"),!1):0==c.DaAnData.getInstance().checkpointsNum?(this.ShowTips("\u5173\u5361\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u5173\u5361\u6570\u3002"),!1):!(c.DaAnData.getInstance().numberArr.length<c.DaAnData.getInstance().checkpointsNum)||(this.ShowTips("\u88ab\u5206\u89e3\u8d28\u56e0\u6570\u7684\u6570\u4e0d\u80fd\u4e3a\u7a7a\u3002"),!1)},e.prototype.getNet=function(){s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(t,e){if(!t){var n=e;if(Array.isArray(n.data))return;if(cc.log("response_data is ",n),null==n.data.courseware_content);else{var i=JSON.parse(n.data.courseware_content);s.NetWork.courseware_id=n.data.courseware_id,s.NetWork.empty?this.ClearNet():null!=i&&(i.numberArr&&(c.DaAnData.getInstance().numberArr=i.numberArr),i.checkpointsNum&&(c.DaAnData.getInstance().checkpointsNum=i.checkpointsNum),this.initData())}}}.bind(this),null)},e.prototype.ClearNet=function(){var t={courseware_id:s.NetWork.courseware_id};s.NetWork.getInstance().httpRequest(s.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||h.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")}.bind(this),JSON.stringify(t))},e.className="TeacherPanel",o([f(cc.EditBox)],e.prototype,"checkpointsEditBox",void 0),o([f(cc.Node)],e.prototype,"editBoxNode",void 0),o([f(cc.Button)],e.prototype,"submissonButton",void 0),o([f(cc.Node)],e.prototype,"tipNode",void 0),o([f(cc.Prefab)],e.prototype,"editbox2",void 0),e=o([g],e)}(a.BaseUI);n.default=b,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel"}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"67eebv5+7tOQal/AI0WZA12","TimeManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.prototype.getNowFormatDate=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();n>=1&&n<=9&&(n="0"+n),i>=0&&i<=9&&(i="0"+i);var o=t.getHours(),a=t.getMinutes(),r=t.getSeconds(),s=t.getMilliseconds();return o>=0&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a),r>=0&&r<=9&&(r="0"+r),s>=0&&s<=9&&(s="00"+s),s>=10&&s<=90&&(s="0"+s),e+":"+n+":"+i+":"+o+":"+a+":"+r+":"+s},t.instance=null,t}();n.TimeManager=i,cc._RF.pop()},{}],TipUI:[function(t,e,n){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../Item/Tip"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return i(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var n=0;n<this.tipPool.length;++n)if(null!=this.tipPool[n]&&this.tipPool[n].isReady())return this.tipPool[n].node.setSiblingIndex(200),void this.tipPool[n].playTip(t);cc.log("create tip");var i=cc.instantiate(this.tipPrefab);i.parent=this.node;var o=i.getComponent(r.Tip);this.tipPool.push(o),o.playTip(t)},e.className="TipUI",o([l(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=o([c],e)}(a.BaseUI);n.TipUI=p,cc._RF.pop()},{"../BaseUI":"BaseUI","../Item/Tip":"Tip"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return i(e,t),e.prototype.playTip=function(t){this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),n=(cc.fadeIn(.5),cc.fadeOut(.5)),i=cc.spawn(e,n),o=cc.delayTime(1),a=cc.callFunc(function(){this.ready=!0},this),r=cc.sequence(o,i,a);this.node.runAction(r)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},o([s(cc.Node)],e.prototype,"neiRongNode",void 0),o([s(cc.Label)],e.prototype,"tipLabel",void 0),e=o([r],e)}(cc.Component);n.Tip=c,cc._RF.pop()},{}],TitleNode:[function(t,e,n){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Manager/ListenerManager"),r=t("../../Data/ListenerType"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return i(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,a.ListenerManager.getInstance().add(r.ListenerType.OnEditStateSwitching,this,this.onStateSwitching)},e.prototype.onStateSwitching=function(t){0==t.state?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},o([l(cc.Label)],e.prototype,"bianJiLabel",void 0),o([l(cc.Label)],e.prototype,"jianYanLabel",void 0),o([l(cc.Node)],e.prototype,"tiaoNode",void 0),e=o([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var i=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(t,e){this.time=0,this.pos=cc.Vec2.ZERO,this.time=t,this.pos=e}}();n.ArtMoveParam=o;var a=cc._decorator,r=a.ccclass,s=(a.property,function(){function t(){}return t.playSpine=function(t,e,n,i){void 0===i&&(i=null),t.setAnimation(0,e,n)&&t.setCompleteListener(function(t,n){(t.animation?t.animation.name:"")===e&&i&&null!=i&&i()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(i[0]==t)return i[1]}return!1},t.runArtMoveSequence=function(t,e,n){void 0===n&&(n=null);var i=t.getPosition().sub(e[e.length-1].pos);function o(t){return t.add(i)}if(t.setPosition(o(e[0].pos)),e.length<=1)n&&n();else{for(var a=[],r=1;r<e.length-1;r++){var s=.001*(e[r].time-e[r-1].time);a.push(cc.moveTo(s,o(e[r].pos)))}n&&a.push(cc.callFunc(n)),t.runAction(cc.sequence(a))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=t%60;return n<10&&(n="0"+n),e+":"+n},t=i([r],t)}());n.Tools=s,cc._RF.pop()},{}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/UIManager"),o=t("../UI/panel/TipUI"),a=t("../UI/Item/AffirmTips"),r=function(){function t(){}return t.showTip=function(e){var n=i.UIManager.getInstance().getUI(o.TipUI);n?n.showTip(e):i.UIManager.getInstance().openUI(o.TipUI,null,200,function(){t.showTip(e)})},t.showAffirmTips=function(e,n,o,r,s,c,l){var p=i.UIManager.getInstance().getUI(a.AffirmTips);p?p.init(e,n,o,r,s,c,l):i.UIManager.getInstance().openUI(a.AffirmTips,null,200,function(){t.showAffirmTips(e,n,o,r,s,c,l)})},t}();n.UIHelp=r,cc._RF.pop()},{"../Manager/UIManager":"UIManager","../UI/Item/AffirmTips":"affirmTips","../UI/panel/TipUI":"TipUI"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiRoot=cc.find("Canvas")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,i,o){for(var a=this,r=[],s=5;s<arguments.length;s++)r[s-5]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){o&&o(t,e,n)},function(o,s){if(o)cc.log(o);else if(!a.getUI(t)){var c=cc.instantiate(s);c.parent=a.uiRoot,n&&(c.zIndex=n);var l=c.getComponent(t);l.data=e,l.tag=t,a.uiList.push(l),i&&i(r)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,n){var i=this,o=this.getUI(t);o?(o.data=e,o.node.active=!0,o.onShow(),n&&n()):this.openUI(t,e,0,function(){n&&n(),i.getUI(t).onShow()})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();n.UIManager=i,cc._RF.pop()},{}],UploadAndReturnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Manager/UIManager"),s=t("./GamePanel"),c=t("./SubmissionPanel"),l=t("../../Data/DaAnData"),p=t("../../Utils/UIHelp"),u=t("../../Manager/ListenerManager"),h=t("../../Data/ListenerType"),d=cc._decorator,g=d.ccclass,f=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,e.prototype.start=function(){},e.prototype.onFanHui=function(){r.UIManager.getInstance().closeUI(s.default),r.UIManager.getInstance().closeUI(n),l.DaAnData.getInstance().submitEnable=!1,u.ListenerManager.getInstance().trigger(h.ListenerType.OnEditStateSwitching,{state:0})},e.prototype.onTiJiao=function(){l.DaAnData.getInstance().submitEnable?r.UIManager.getInstance().showUI(c.default):p.UIHelp.showTip("\u8bf7\u901a\u5173\u540e\u8fdb\u884c\u4fdd\u5b58\u3002")},e.className="UploadAndReturnPanel",e=n=o([g],e)}(a.BaseUI));n.default=f,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./SubmissionPanel":"SubmissionPanel"}],affirmTips:[function(t,e,n){"use strict";cc._RF.push(e,"ef23cpPl5tOlrhRvb86pFJF","affirmTips");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../BaseUI"),r=t("../../Manager/UIManager"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callbackClose=null,e.callbackOk=null,e}var n;return i(e,t),n=e,e.prototype.start=function(){},e.prototype.init=function(t,e,n,i,o,a,r){if(this.title.node.active=!0,this.des.node.active=!1,cc.log(t,e,n,i,o,a,r),n>=0){this.des.node.active=!0;var s,c;s=n/60>>0,c=n%60;var l=String(s),p=String(c);s<10&&(l="0"+l),c<10&&(p="0"+p);var u=l+" : "+p;this.des.string=u}this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callbackClose=a,this.title.string=e,this.callbackOk=r,i&&(this.btnCloseLabel.string=i),o&&(this.btnOkLabel.string=o)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v2(0,this.ok.node.position.y),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),r.UIManager.getInstance().closeUI(n),this.callbackOk&&this.callbackOk()},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),r.UIManager.getInstance().closeUI(n),this.callbackClose&&this.callbackClose()},e.className="AffirmTips",o([l(cc.Node)],e.prototype,"NodeDes",void 0),o([l(cc.Label)],e.prototype,"title",void 0),o([l(cc.Label)],e.prototype,"des",void 0),o([l(cc.Button)],e.prototype,"close",void 0),o([l(cc.Button)],e.prototype,"ok",void 0),o([l(cc.Label)],e.prototype,"btnCloseLabel",void 0),o([l(cc.Label)],e.prototype,"btnOkLabel",void 0),o([l(cc.Node)],e.prototype,"win",void 0),o([l(cc.Node)],e.prototype,"fail",void 0),e=n=o([c],e)}(a.BaseUI);n.AffirmTips=p,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],arrays:[function(t,e,n){"use strict";cc._RF.push(e,"b058arw+iJCUoMo5lRZ29ul","arrays"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./util");function o(t,e,n){for(var o=n||i.defaultEquals,a=t.length,r=0;r<a;r++)if(o(t[r],e))return r;return-1}n.indexOf=o,n.lastIndexOf=function(t,e,n){for(var o=n||i.defaultEquals,a=t.length-1;a>=0;a--)if(o(t[a],e))return a;return-1},n.contains=function(t,e,n){return o(t,e,n)>=0},n.remove=function(t,e,n){var i=o(t,e,n);return!(i<0||(t.splice(i,1),0))},n.frequency=function(t,e,n){for(var o=n||i.defaultEquals,a=t.length,r=0,s=0;s<a;s++)o(t[s],e)&&r++;return r},n.equals=function(t,e,n){var o=n||i.defaultEquals;if(t.length!==e.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!o(t[r],e[r]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var i=t[e];return t[e]=t[n],t[n]=i,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,e){for(var n=0,i=t;n<i.length;n++)if(!1===e(i[n]))return},cc._RF.pop()},{"./util":"util"}],util:[function(t,e,n){"use strict";cc._RF.push(e,"c9cacB846tOCorK/Mt3JpJs","util"),Object.defineProperty(n,"__esModule",{value:!0});var i=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function a(t){return void 0===t}function r(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,e){return i.call(t,e)},n.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},n.defaultEquals=function(t,e){return t===e},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":a(t)?"COLLECTION_UNDEFINED":r(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(a(t))return"COLLECTION_UNDEFINED";if(r(t))return t.toString();var i="{",o=!0;for(var s in t)n.has(t,s)&&(o?o=!1:i+=e,i=i+s+":"+t[s]);return i+"}"},n.isFunction=o,n.isUndefined=a,n.isString=r,n.reverseCompareFunction=function(t){return a(t)||!o(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},n.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}},cc._RF.pop()},{}]},{},["BaseConfigContainer","ConstValue","DaAnData","DataReporting","GameData","ListenerType","NetWork","GameMain","AudioManager","ListenerManager","TimeManager","UIManager","Step","Tools","BaseUI","AnswerItem","OverTips","Tip","affirmTips","ErrorPanel","GamePanel","LoadingUI","SubmissionPanel","TeacherPanel","TipUI","TitleNode","UploadAndReturnPanel","AdaptiveScreen","FadeUIPlugin","LogWrap","MathExtension","StringExtension","UIHelp","Dictionary","Set","arrays","util"]);