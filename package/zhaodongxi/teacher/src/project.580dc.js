window.__require=function t(e,n,r){function a(i,s){if(!n[i]){if(!e[i]){var c=i.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+i+"'")}}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){return a(e[i][1][t]||t)},l,l.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof __require&&__require,i=0;i<r.length;i++)a(r[i]);return a}({AdaptiveScreen:[function(t,e,n){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return r(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,n=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,n)},a([s({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),a([s],e.prototype,"viewWidth",void 0),a([s],e.prototype,"viewHeight",void 0),e=a([i],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),a=function(){function t(){this.bgm=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.playSound=function(t,e,n,a,o){void 0===a&&(a=null),void 0===o&&(o=null);var i=r.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(i,cc.AudioClip,function(t,r){if(t)cc.error(t);else{var i=cc.audioEngine.play(r,e||!1,n||1);a&&a(i),o&&cc.audioEngine.setFinishCallback(i,o)}})},t.prototype.stopAudio=function(t){cc.audioEngine.stop(t)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.playBGM=function(t){if(this.bgm!=t){this.bgm=t,cc.audioEngine.stopMusic();var e=r.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(e,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=r.ConstValue.AUDIO_DIR+this.bgm;cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})},t.instance=null,t}();n.AudioManager=a,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],BaseConfigContainer:[function(t,e,n){"use strict";cc._RF.push(e,"a9280QRTmRIUqfgpuhZqA92","BaseConfigContainer"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),t}();n.BaseConfigContainer=r,cc._RF.pop()},{}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Data/ConstValue"),i=t("../Manager/ListenerManager"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),e.getUrl=function(){return cc.log(this.className),o.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){i.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e=a([c],e)}(cc.Component));n.BaseUI=u,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/ListenerManager":"ListenerManager"}],ConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","ConstValue"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.IS_EDITIONS=!0,t.IS_TEACHER=!0,t.CONFIG_FILE_DIR="config/",t.PREFAB_UI_DIR="prefab/ui/panel/",t.AUDIO_DIR="audio/",t.CoursewareKey="1WnlOKoGii4Gt9^2UNzP10sp",t}();n.ConstValue=r,cc._RF.pop()},{}],DaAnData:[function(t,e,n){"use strict";cc._RF.push(e,"2f1ec1bM8JGb4L5TI7iWW47","DaAnData"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.animal=1]="animal",t[t.food=2]="food",t[t.figure=3]="figure",t[t.dailyuse=4]="dailyuse",t[t.number=5]="number",t[t.stationery=6]="stationery",t[t.clothes=7]="clothes",t[t.letter=8]="letter"}(n.picType||(n.picType={})),function(t){t[t["4 * 4"]=1]="4 * 4",t[t["4 * 5"]=2]="4 * 5",t[t["4 * 6"]=3]="4 * 6",t[t["4 * 7"]=4]="4 * 7",t[t["4 * 8"]=5]="4 * 8",t[t["5 * 4"]=6]="5 * 4",t[t["5 * 5"]=7]="5 * 5",t[t["5 * 6"]=8]="5 * 6",t[t["5 * 7"]=9]="5 * 7",t[t["5 * 8"]=10]="5 * 8"}(n.scopeRange||(n.scopeRange={}));var r=function(){function t(){this.submitEnable=!1,this.types=1,this.checkpointsNum=0,this.picArr=new Array,this.dirSFArr=new Array,this.answerSFArr=new Array,this.answerPosArr=new Array,this.answerOneNum=new Array,this.range=0}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.DaAnData=r,cc._RF.pop()},{}],DataReporting:[function(t,e,n){"use strict";cc._RF.push(e,"fcbb2jwzKhJwKls3NHmiFBh","DataReporting");var r=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ConstValue"),o=cc._decorator,i=o.ccclass,s=(o.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),a.ConstValue.IS_EDITIONS&&(e?courseware.page.sendToParent(t,e):courseware.page.sendToParent(t))},t.prototype.addEvent=function(t,e){a.ConstValue.IS_EDITIONS&&courseware.page.on(t,e)},t.isRepeatReport=!0,t=e=r([i],t)}());n.default=s,cc._RF.pop()},{"./ConstValue":"ConstValue"}],Dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"cc667V2/zFJtI7/GBev9gvA","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),a=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!r.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!r.isUndefined(t)&&!r.isUndefined(e)){var n,a="$"+this.toStr(t),o=this.table[a];return r.isUndefined(o)?(this.nElements++,n=void 0):n=o.value,this.table[a]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!r.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();n.default=a,cc._RF.pop()},{"./util":"util"}],ErrorPanel:[function(t,e,n){"use strict";cc._RF.push(e,"78373xfPadEJ5IFn4sizh3z","ErrorPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Manager/UIManager"),s=t("../../Manager/AudioManager"),c=t("../../Http/NetWork"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,n,r,a,o){void 0===o&&(o=!1);var i={shuoMing:t,biaoTi:e,tiShi:n};c.NetWork.getInstance().LogJournalReport("ErrorPanelLog",i),s.AudioManager.getInstance().playSound("sfx_erro",!1,1),this.shuoMing.string=t,this.isClose=o,this.callback=a,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=n||this.tiShi.string,this.btnLab.string=r||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){s.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),this.isClose&&i.UIManager.getInstance().closeUI(n)},e.className="ErrorPanel",a([p(cc.Label)],e.prototype,"biaoTi",void 0),a([p(cc.Label)],e.prototype,"shuoMing",void 0),a([p(cc.Label)],e.prototype,"tiShi",void 0),a([p(cc.Label)],e.prototype,"btnLab",void 0),a([p(cc.Button)],e.prototype,"btn",void 0),e=n=a([l],e)}(o.BaseUI);n.default=h,cc._RF.pop()},{"../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],FadeUIPlugin:[function(t,e,n){"use strict";cc._RF.push(e,"2fe78Vyt/NInb1oC42+tpUk","FadeUIPlugin");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return r(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),n=cc.scaleTo(.5,0,0),r=cc.scaleTo(.5,1,1),a=cc.sequence(t,e,n,r);this.node.runAction(a)},a([s],e.prototype,"delay",void 0),e=a([i],e)}(cc.Component);n.FadeUIPlugin=c,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"65c35Ym/oRKD6h93ZiyEFOw","GameData"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.GameData=r,cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none")},e.prototype.start=function(){},e.prototype.update=function(t){},e=a([i],e)}(cc.Component));n.GameMain=s,cc._RF.pop()},{}],GamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Data/DaAnData"),s=t("../../Utils/UIHelp"),c=t("../../Manager/AudioManager"),u=t("../../Http/NetWork"),l=t("../../Data/ConstValue"),p=t("../../Manager/UIManager"),h=t("./SubmissionPanel"),f=t("../../Manager/ListenerManager"),g=t("../../Data/ListenerType"),d=t("../panel/UploadAndReturnPanel"),y=t("../../Data/DataReporting"),v=cc._decorator,I=v.ccclass,A=v.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label1=null,e.label2=null,e.bg=null,e.picBoard=null,e.answerBoard=null,e.board=null,e.sure=null,e.sourceSFArr=[],e.itemArr=[],e.answerItemArr=[],e.layout=null,e.labaBoundingBox=null,e.laba=null,e.dirSFNumArr=new Array,e.answerSFNumArr=new Array,e.answerPosNumArr=new Array,e.playerItemArr=new Array,e.playerItemSFArr=new Array,e.playerErroArr=new Array,e.SoundArr=new Array,e.answerNum=null,e.checkpointsNum=null,e.checkpoints=null,e.horizonNum=null,e.verticalNum=null,e.cueNum=null,e.creatItemNum=null,e.rightNum=null,e.isOver=0,e.eventvalue={isResult:1,isLevel:1,levelData:[],result:4},e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.isTecher(),cc.loader.loadRes("prefab/ui/panel/OverTips",cc.Prefab,function(){})},e.prototype.start=function(){var t=this;this.bg.on(cc.Node.EventType.TOUCH_START,function(e){1!=t.isOver&&(t.isOver=2,t.eventvalue.result=2,t.eventvalue.levelData[t.checkpoints].result=2)}),y.default.getInstance().addEvent("end_game",this.onEndGame.bind(this)),this.labaBoundingBox.on(cc.Node.EventType.TOUCH_START,function(t){this.labaBoundingBox.getBoundingBox().contains(this.board.convertToNodeSpaceAR(t.currentTouch._point))&&(this.laba.setAnimation(0,"animation",!1),this.stopAll(),c.AudioManager.getInstance().playSound("\u627e\u4e00\u627e\u76ee\u6807\u56fe\u5f62",!1,1,function(t){this.SoundArr.push(t)}.bind(this),function(t){this.SoundArr.filter(function(e){return e!==t})}.bind(this)))}.bind(this))},e.prototype.onEndGame=function(){y.default.isRepeatReport&&1!=this.eventvalue.result&&(y.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),y.default.isRepeatReport=!1),1==this.eventvalue.isResult?this.isOver=1:0==this.eventvalue.levelData.length&&(this.isOver=0),y.default.getInstance().dispatchEvent("end_finished",{eventType:"activity",eventValue:this.isOver})},e.prototype.stopAll=function(){for(var t=0;t<this.SoundArr.length;t++)c.AudioManager.getInstance().stopAudio(this.SoundArr[t]);this.SoundArr=[]},e.prototype.onDestroy=function(){},e.prototype.onShow=function(){},e.prototype.isTecher=function(){l.ConstValue.IS_TEACHER?(p.UIManager.getInstance().openUI(d.default,null,211),this.initData(),this.loadSourcePFArr()):this.getNet()},e.prototype.action=function(t){t==this.horizonNum*this.verticalNum+this.answerNum&&(this.picBoard.runAction(cc.moveTo(1,cc.v2(-250,0))),this.board.runAction(cc.moveTo(1,cc.v2(0,0))),this.sure.node.runAction(cc.moveTo(1,cc.v2(720,-310))),c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("begin",!1,1,function(){},function(){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("\u627e\u4e00\u627e\u76ee\u6807\u56fe\u5f62",!1,1,function(t){this.SoundArr.push(t)}.bind(this),function(t){this.SoundArr.filter(function(e){return e!==t})}.bind(this))}.bind(this)))},e.prototype.initData=function(){switch(i.DaAnData.getInstance().range){case 1:this.horizonNum=4,this.verticalNum=4;break;case 2:this.horizonNum=5,this.verticalNum=4;break;case 3:this.horizonNum=6,this.verticalNum=4;break;case 4:this.horizonNum=7,this.verticalNum=4;break;case 5:this.horizonNum=8,this.verticalNum=4;break;case 6:this.horizonNum=4,this.verticalNum=5;break;case 7:this.horizonNum=5,this.verticalNum=5;break;case 8:this.horizonNum=6,this.verticalNum=5;break;case 9:this.horizonNum=7,this.verticalNum=5;break;case 10:this.horizonNum=8,this.verticalNum=5}switch(i.DaAnData.getInstance().types){case 1:this.answerNum=1;break;case 2:this.answerNum=4,this.rightNum=4}this.creatItemNum=0,this.cueNum=0,this.checkpoints=0,this.checkpointsNum=i.DaAnData.getInstance().checkpointsNum,this.label1.string=String(1),this.label2.string=String(this.checkpointsNum);for(var t=0;t<this.checkpointsNum;t++)this.eventvalue.levelData.push({subject:null,answer:null,result:4})},e.prototype.loadSourcePFArr=function(){for(var t=this,e=[],n=0;n<i.DaAnData.getInstance().picArr.length;n++){e.push([])}var r=0;i.DaAnData.getInstance().picArr.forEach(function(n,a,o){switch(n){case 1:cc.loader.loadResDir("images/gameUI/pic/animal",cc.SpriteFrame,function(t,n,a){if(!t){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(1)].push(n[o]),console.log("1111");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}}.bind(t));break;case 2:cc.loader.loadResDir("images/gameUI/pic/food",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(2)].push(n[o]),console.log("2222");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 3:cc.loader.loadResDir("images/gameUI/pic/figure",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(3)].push(n[o]),console.log("3333");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 4:cc.loader.loadResDir("images/gameUI/pic/dailyuse",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(4)].push(n[o]),console.log("4444");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 5:cc.loader.loadResDir("images/gameUI/pic/number",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(5)].push(n[o]),console.log("55555");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 6:cc.loader.loadResDir("images/gameUI/pic/stationery",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(6)].push(n[o]),console.log("6666");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 7:cc.loader.loadResDir("images/gameUI/pic/clothes",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(7)].push(n[o]),console.log("7777");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t));break;case 8:cc.loader.loadResDir("images/gameUI/pic/letter",cc.SpriteFrame,function(t,n,a){for(var o=0;o<n.length;o++)e[i.DaAnData.getInstance().picArr.indexOf(8)].push(n[o]),console.log("8888");if(++r==i.DaAnData.getInstance().picArr.length){for(var s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)this.sourceSFArr.push(e[s][c]);this.loadDirSFArr()}}.bind(t))}})},e.prototype.repeatNum=function(t){for(var e=0,n=0;n<this.dirSFNumArr.length;n++)t==this.dirSFNumArr[n]&&(e+=1);return e},e.prototype.loadDirSFArr=function(){if(l.ConstValue.IS_TEACHER){for(var t=this.horizonNum*this.verticalNum,e=0;e<t;e++){var n=this.getRandomNum(0,this.sourceSFArr.length-1);if(i.DaAnData.getInstance().picArr.length>=2)for(;this.repeatNum(n)>=3;)n=this.getRandomNum(0,this.sourceSFArr.length-1);this.dirSFNumArr[e]=n,i.DaAnData.getInstance().dirSFArr.push(n)}if(1==this.answerNum){var r=this.getRandomNum(0,t-1),a=this.dirSFNumArr[r];for(e=0;e<this.dirSFNumArr.length;e++)if(this.dirSFNumArr[e]==a){var o=this.dirSFNumArr[e];this.answerPosNumArr.push(e),this.answerSFNumArr.push(o),i.DaAnData.getInstance().answerSFArr.push(o),i.DaAnData.getInstance().answerPosArr.push(e)}i.DaAnData.getInstance().answerOneNum.push(this.answerPosNumArr.length),this.rightNum=this.answerPosNumArr.length}else{i.DaAnData.getInstance().answerOneNum=[];var s=0,c=0,u=0;(r=this.getRandomNum(0,t-1))+this.horizonNum<=t-1?(s=r+this.horizonNum,r+1<=Math.ceil((r+1)/this.horizonNum)*this.horizonNum-1?(c=r+this.horizonNum+1,u=r+1,this.answerPosNumArr[0]=r,this.answerPosNumArr[1]=u,this.answerPosNumArr[2]=s,this.answerPosNumArr[3]=c):(c=r+this.horizonNum-1,u=r-1,this.answerPosNumArr[0]=u,this.answerPosNumArr[1]=r,this.answerPosNumArr[2]=c,this.answerPosNumArr[3]=s)):(s=r-this.horizonNum,r+1<=Math.ceil((r+1)/this.horizonNum)*this.horizonNum-1?(c=r-this.horizonNum+1,u=r+1,this.answerPosNumArr[0]=s,this.answerPosNumArr[1]=c,this.answerPosNumArr[2]=r,this.answerPosNumArr[3]=u):(c=r-this.horizonNum-1,u=r-1,this.answerPosNumArr[0]=c,this.answerPosNumArr[1]=s,this.answerPosNumArr[2]=u,this.answerPosNumArr[3]=r)),this.answerSFNumArr[0]=this.dirSFNumArr[this.answerPosNumArr[0]],this.answerSFNumArr[1]=this.dirSFNumArr[this.answerPosNumArr[1]],this.answerSFNumArr[2]=this.dirSFNumArr[this.answerPosNumArr[2]],this.answerSFNumArr[3]=this.dirSFNumArr[this.answerPosNumArr[3]],i.DaAnData.getInstance().answerSFArr.push(this.answerSFNumArr[0]),i.DaAnData.getInstance().answerSFArr.push(this.answerSFNumArr[1]),i.DaAnData.getInstance().answerSFArr.push(this.answerSFNumArr[2]),i.DaAnData.getInstance().answerSFArr.push(this.answerSFNumArr[3]),i.DaAnData.getInstance().answerPosArr.push(this.answerPosNumArr[0]),i.DaAnData.getInstance().answerPosArr.push(this.answerPosNumArr[1]),i.DaAnData.getInstance().answerPosArr.push(this.answerPosNumArr[2]),i.DaAnData.getInstance().answerPosArr.push(this.answerPosNumArr[3])}}else{for(t=this.horizonNum*this.verticalNum,e=0;e<t;e++)this.dirSFNumArr[e]=i.DaAnData.getInstance().dirSFArr[this.checkpoints*t+e];if(1==this.answerNum){var p=0,h=0;for(e=0;e<i.DaAnData.getInstance().answerOneNum.length;e++)e<this.checkpoints&&(p+=i.DaAnData.getInstance().answerOneNum[e]),e<=this.checkpoints&&(h+=i.DaAnData.getInstance().answerOneNum[e]);for(e=0;e<i.DaAnData.getInstance().answerPosArr.length;e++)e>=p&&e<=h-1&&this.answerPosNumArr.push(i.DaAnData.getInstance().answerPosArr[e]);for(e=0;e<i.DaAnData.getInstance().answerSFArr.length;e++)e>=p&&e<=h-1&&this.answerSFNumArr.push(i.DaAnData.getInstance().answerSFArr[e])}else for(e=0;e<4;e++)this.answerSFNumArr[e]=i.DaAnData.getInstance().answerSFArr[4*this.checkpoints+e],this.answerPosNumArr[e]=i.DaAnData.getInstance().answerPosArr[4*this.checkpoints+e]}this.creatAnswerBoard(),this.creatPicBoard()},e.prototype.getRandomNum=function(t,e){var n=e-t,r=Math.random();return t+Math.round(r*n)},e.prototype.creatPicBoard=function(){this.creatBoard(this.horizonNum,this.verticalNum,this.picBoard,!1)},e.prototype.creatAnswerBoard=function(){switch(this.answerNum){case 1:this.creatBoard(1,1,this.answerBoard,!0);break;case 4:this.creatBoard(2,2,this.answerBoard,!0)}},e.prototype.creatBoard=function(t,e,n,r){for(var a=0;a<e;a++)for(var o=0;o<t;o++){var i=a*t+o,s=175*o+87.5,c=175*a+87.5,u=!1;4==this.answerNum?t%2?i%2&&(u=!0):a%2?i%2==0&&(u=!0):i%2!=0&&(u=!0):u=!0,this.creatItem(i,cc.v2(s,c),u,n,r)}var l=175*t,p=175*e;n.getChildByName("bg").width=l+20,n.getChildByName("bg").height=p+20,n.getChildByName("node").x=-l/2,n.getChildByName("node").y=-p/2},e.prototype.creatItem=function(t,e,n,r,a){var o;cc.loader.loadRes("prefab/ui/Item/picItem",function(i,s){i||(o=cc.instantiate(s),n&&cc.loader.loadRes("images/gameUI/shen",cc.SpriteFrame,function(t,e){t||(o.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=e)}.bind(this)),a?(this.answerItemArr[t]=o,this.creatItemNum++,this.action(this.creatItemNum),1==this.answerNum?o.getChildByName("pic").getComponent(cc.Sprite).spriteFrame=this.sourceSFArr[this.answerSFNumArr[0]]:o.getChildByName("pic").getComponent(cc.Sprite).spriteFrame=this.sourceSFArr[this.answerSFNumArr[t]]):(this.itemArr[t]=o,this.creatItemNum++,this.action(this.creatItemNum),o.getChildByName("bg").on(cc.Node.EventType.TOUCH_START,function(e){var n=this;if(1!=this.eventvalue.result&&(this.eventvalue.result=2,this.isOver=2,this.eventvalue.levelData[this.checkpoints].result=2),0==o.getChildByName("box").active){if(0==o.getChildByName("mask").opacity){0==this.sure.interactable&&this.cueNum<3&&(this.sure.interactable=!0);var r=this.getRandomNum(1,3);c.AudioManager.getInstance().stopAll(),1==r?c.AudioManager.getInstance().playSound("sfx_tchopt1",!1):2==r?c.AudioManager.getInstance().playSound("sfx_tchopt2",!1):3==r&&c.AudioManager.getInstance().playSound("sfx_tchopt3",!1),o.getChildByName("box").active=!0,o.zIndex=10,this.playerItemArr.push(t),this.playerItemSFArr.push(this.dirSFNumArr[t]),this.isAllRight()&&0==this.sure.interactable&&(this.sure.interactable=!0)}}else if(this.playerItemArr.length>0){if(0!=o.getChildByName("right").opacity)return;c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("sfx_cancel",!1),o.getChildByName("box").active=!1,o.zIndex=0,this.playerItemArr=this.playerItemArr.filter(function(e){return e!==t}),this.playerItemSFArr=this.playerItemSFArr.filter(function(e){return e!=n.dirSFNumArr[t]}),this.cueNum>=3&&(o.getChildByName("mask").opacity=255),this.isAllRight()&&0==this.sure.interactable&&(this.sure.interactable=!0)}else this.sure.interactable=!1}.bind(this),this),o.getChildByName("pic").getComponent(cc.Sprite).spriteFrame=this.sourceSFArr[this.dirSFNumArr[t]]),o.setPosition(e),o.parent=r.getChildByName("node"))}.bind(this))},e.prototype.cueAnswer=function(){for(var t=0;t<this.itemArr.length;t++)-1==this.answerPosNumArr.indexOf(t)&&0==this.itemArr[t].getChildByName("box").active&&(this.itemArr[t].getChildByName("mask").opacity=255);for(var e=0;e<this.answerPosNumArr.length;e++){this.itemArr[this.answerPosNumArr[e]].zIndex=100;var n=this.itemArr[this.answerPosNumArr[e]].children[4];n.opacity=255,n.stopAllActions(),n.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.2),cc.fadeIn(.3))))}},e.prototype.reset=function(){if(0!=this.playerItemArr.length){for(var t=0;t<this.answerNum;t++)this.itemArr[this.playerItemArr[t]].getChildByName("box").active=!1,this.itemArr[this.playerItemArr[t]].zIndex=0;this.playerItemArr=[],this.cueNum=0}},e.prototype.nextCheckPoints=function(){for(var t=0;t<this.itemArr.length;t++)this.itemArr[t].destroy();for(var e=0;e<this.answerItemArr.length;e++)this.answerItemArr[e].destroy();this.answerPosNumArr=[],this.answerSFNumArr=[],this.answerItemArr=[],this.itemArr=[],this.dirSFNumArr=[],this.playerItemArr=[],this.playerErroArr=[],this.playerItemSFArr=[],this.cueNum=0,this.loadDirSFArr(),this.creatPicBoard(),this.creatAnswerBoard(),this.label1.string=String(this.checkpoints+1),this.sure.interactable=!1},e.prototype.isAllRight=function(){if(0!=this.playerItemArr.length){for(var t=0,e=0;e<this.playerItemArr.length;e++)-1!=this.answerPosNumArr.indexOf(this.playerItemArr[e])&&t++;return t==this.rightNum&&this.playerItemArr.length==this.rightNum}},e.prototype.submisson=function(){if(this.sure.interactable=!1,0!=this.playerItemArr.length){for(var t=0,e=0;e<this.playerItemArr.length;e++)-1!=this.answerPosNumArr.indexOf(this.playerItemArr[e])&&t++;1!=this.answerNum||l.ConstValue.IS_TEACHER||(this.rightNum=i.DaAnData.getInstance().answerOneNum[this.checkpoints]),t==this.rightNum&&this.playerItemArr.length==this.rightNum?(this.checkpoints++,this.checkpoints<this.checkpointsNum||1==this.checkpointsNum?this.cueNum>=3?(this.eventvalue.levelData[this.checkpoints-1].answer=this.playerItemArr,this.eventvalue.levelData[this.checkpoints-1].subject=this.answerPosNumArr,this.eventvalue.levelData[this.checkpoints-1].result=1,this.isOver=2,this.eventvalue.result=2,1==this.checkpointsNum&&(this.eventvalue.result=1,this.isOver=1,y.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)})),l.ConstValue.IS_TEACHER&&1==this.checkpointsNum&&(i.DaAnData.getInstance().submitEnable=!0),s.UIHelp.showOverTips(1,"\u4f60\u771f\u68d2~",function(){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("point1",!1)}.bind(this),function(){1==this.checkpointsNum?this.addMask():(this.sure.interactable=!0,this.nextCheckPoints())}.bind(this))):(this.eventvalue.levelData[this.checkpoints-1].answer=this.playerItemArr,this.eventvalue.levelData[this.checkpoints-1].subject=this.answerPosNumArr,this.eventvalue.levelData[this.checkpoints-1].result=1,this.isOver=2,this.eventvalue.result=2,1==this.checkpointsNum&&(this.eventvalue.result=1,this.isOver=1,y.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)})),l.ConstValue.IS_TEACHER&&1==this.checkpointsNum&&(i.DaAnData.getInstance().submitEnable=!0),s.UIHelp.showOverTips(1,"\u7b54\u5bf9\u5566\uff01\u4f60\u771f\u68d2~",function(){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("point2",!1)}.bind(this),function(){1==this.checkpointsNum?this.addMask():(this.sure.interactable=!0,this.nextCheckPoints())}.bind(this))):(this.eventvalue.levelData[this.checkpoints-1].answer=this.playerItemArr,this.eventvalue.levelData[this.checkpoints-1].subject=this.answerPosNumArr,this.eventvalue.levelData[this.checkpoints-1].result=1,this.eventvalue.result=1,this.isOver=1,y.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),l.ConstValue.IS_TEACHER&&(i.DaAnData.getInstance().submitEnable=!0),s.UIHelp.showOverTips(2,"\u592a\u68d2\u5566\uff0c\u95ef\u5173\u7ed3\u675f\uff01",function(){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("point3",!1)}.bind(this),function(){this.addMask()}.bind(this)))):(this.cueNum++,this.cueNum>=3?(this.sure.interactable=!1,this.cueAnswer()):(this.eventvalue.levelData[this.checkpoints].answer=this.playerItemArr,this.eventvalue.levelData[this.checkpoints].subject=this.answerPosNumArr,this.eventvalue.levelData[this.checkpoints].result=2,this.eventvalue.result=2,this.isOver=2,s.UIHelp.showOverTips(0,"\u554a\u54e6\uff0c\u518d\u8bd5\u4e00\u8bd5\u5427\u3002",function(){c.AudioManager.getInstance().stopAll(),c.AudioManager.getInstance().playSound("point4",!1)}.bind(this),function(){this.sure.interactable=!0}.bind(this))))}},e.prototype.addMask=function(){this.layout.node.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},e.prototype.removeMask=function(){this.layout.node.off(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},e.prototype.getNet=function(){u.NetWork.getInstance().httpRequest(u.NetWork.GET_QUESTION+"?courseware_id="+u.NetWork.courseware_id,"GET","application/json;charset=utf-8",function(t,e){if(!t){var n=e;if(Array.isArray(n.data))return;var r=JSON.parse(n.data.courseware_content);null!=r&&(r.types&&(i.DaAnData.getInstance().types=r.types),r.checkpointsNum&&(i.DaAnData.getInstance().checkpointsNum=r.checkpointsNum),r.range&&(i.DaAnData.getInstance().range=r.range),r.picArr&&(i.DaAnData.getInstance().picArr=r.picArr),r.dirSFArr&&(i.DaAnData.getInstance().dirSFArr=r.dirSFArr),r.answerSFArr&&(i.DaAnData.getInstance().answerSFArr=r.answerSFArr),r.answerPosArr&&(i.DaAnData.getInstance().answerPosArr=r.answerPosArr),r.answerOneNum&&(i.DaAnData.getInstance().answerOneNum=r.answerOneNum),this.initData(),this.loadSourcePFArr(),this.creatPicBoard(),this.creatAnswerBoard())}}.bind(this),null)},e.prototype.backButton=function(){p.UIManager.getInstance().closeUI(n),f.ListenerManager.getInstance().trigger(g.ListenerType.OnEditStateSwitching,{state:0})},e.prototype.submitButton=function(){p.UIManager.getInstance().openUI(h.default,null,201)},e.className="GamePanel",a([A(cc.Label)],e.prototype,"label1",void 0),a([A(cc.Label)],e.prototype,"label2",void 0),a([A(cc.Node)],e.prototype,"bg",void 0),a([A(cc.Node)],e.prototype,"picBoard",void 0),a([A(cc.Node)],e.prototype,"answerBoard",void 0),a([A(cc.Node)],e.prototype,"board",void 0),a([A(cc.Button)],e.prototype,"sure",void 0),a([A([cc.SpriteFrame])],e.prototype,"sourceSFArr",void 0),a([A([cc.Node])],e.prototype,"itemArr",void 0),a([A([cc.Node])],e.prototype,"answerItemArr",void 0),a([A(cc.Layout)],e.prototype,"layout",void 0),a([A(cc.Node)],e.prototype,"labaBoundingBox",void 0),a([A(sp.Skeleton)],e.prototype,"laba",void 0),e=n=a([I],e)}(o.BaseUI);n.default=m,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Data/DataReporting":"DataReporting","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../panel/UploadAndReturnPanel":"UploadAndReturnPanel","./SubmissionPanel":"SubmissionPanel"}],ListenerManager:[function(t,e,n){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n){void 0===n&&(n=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=n}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!0,configurable:!0}),t}();n.Delegate=r;var a=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,n){return null!==this.find(t,e,n)},t.prototype.trigger=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!t)return console.error("Listener type is null!"),!1;var a=[],o=[],i=this.mListenerMap.get(t);i&&(i.forEach(function(t,e){for(var n=0,r=t;n<r.length;n++){var s=r[n];a.push(s),o.push(e)}for(var c=t.length-1;c>=0;--c)t[c].isOnce&&t.splice(c,1);t.length<=0&&i.delete(e)}),i.size<=0&&this.mListenerMap.delete(t));for(var s=a.length,c=0;c<s;c++){var u=a[c];(e=u.listener).call.apply(e,[o[c]].concat(u.argArray,n))}return s>0},t.prototype.add=function(t,e,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];this.addListener.apply(this,[t,e,n,!1].concat(r))},t.prototype.addOnce=function(t,e,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];this.addListener.apply(this,[t,e,n,!0].concat(r))},t.prototype.remove=function(t,e,n,r){this.removeBy(function(a,o,i){return(!t||t===a)&&((!e||e===o)&&((!n||n===i.listener)&&!(r&&!i.isOnce)))})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(n,r){n.delete(t),n.size<=0&&e.mListenerMap.delete(r)})},t.prototype.addListener=function(t,e,n,a){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var s=this.find(t,e,n);if(s)s.isOnce=a,console.error("Listener is already exist!");else{var c=new r(n,o,a);this.mListenerMap.get(t).get(e).push(c)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(n,r){n.forEach(function(e,a){for(var o=e.length-1;o>=0;--o){var i=e[o];t(r,a,i)&&e.splice(o,1)}e.length<=0&&n.delete(a)}),n.size<=0&&e.mListenerMap.delete(r)})},t.prototype.find=function(t,e,n){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!n)return console.error("Listener is null!"),null;var r,a;this.mListenerMap.has(t)?r=this.mListenerMap.get(t):(r=new Map,this.mListenerMap.set(t,r)),r.has(e)?a=r.get(e):(a=[],r.set(e,a));for(var o=0,i=a;o<i.length;o++){var s=i[o];if(s.mListener===n)return s}return null},t}();n.ListenerManager=a,cc._RF.pop()},{}],ListenerType:[function(t,e,n){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","ListenerType"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t}();n.ListenerType=r,cc._RF.pop()},{}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"cf8a66RO2hJWJN7q1dt4/zn","LoadingUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Data/ConstValue"),s=t("./TeacherPanel"),c=t("./GamePanel"),u=t("../../Manager/UIManager"),l=t("../../Http/NetWork"),p=t("../../Data/DataReporting"),h=t("../../Manager/TimeManager"),f=cc._decorator,g=f.ccclass,d=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;l.NetWork.getInstance().GetRequest();p.default.getInstance().dispatchEvent("load start");var e=i.ConstValue.IS_TEACHER?s.default:c.default;u.UIManager.getInstance().openUI(e,null,0,function(){l.NetWork.getInstance().LogJournalReport("ResLoadEnd",{curTime:h.TimeManager.getInstance().getNowFormatDate()}),p.default.getInstance().dispatchEvent("load end"),p.default.getInstance().dispatchEvent("start"),t.node.active=!1},function(e,n,r){t.isLoadStart||(t.isLoadStart=!0,l.NetWork.getInstance().LogJournalReport("ResLoadStart",{curTime:h.TimeManager.getInstance().getNowFormatDate()})),t.progressBar.progress=e/n;var a=Math.round(e/n*100);p.default.getInstance().dispatchEvent("loading",a),t.progressLabel.string=a.toString()+"%";var o=e/n*609-304;t.dragonNode.x=o})},e.className="LoadingUI",a([d(cc.ProgressBar)],e.prototype,"progressBar",void 0),a([d(cc.Label)],e.prototype,"progressLabel",void 0),a([d(cc.Node)],e.prototype,"dragonNode",void 0),e=a([g],e)}(o.BaseUI);n.LoadingUI=y,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/TimeManager":"TimeManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./TeacherPanel":"TeacherPanel"}],LogWrap:[function(t,e,n){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),a=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),n="";return n+=(1==e.length?"0"+e:e)+":",n+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",n+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),n="["+(n+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var n=[];e.forEach(function(t){var e,r=(t=t.substring(7)).split(" ");r.length<2?n.push(r[0]):n.push(((e={})[r[0]]=r[1],e))});var r=[];if(t<n.length-1)for(var a in n[t])r.push(a);var o=r[0].split(".");return o[0]+".js->"+o[1]+": "},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=console.log||cc.log;r.ConstValue.IS_EDITIONS||a.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=console.log||cc.log;r.ConstValue.IS_EDITIONS||a.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=console.log||cc.log;r.ConstValue.IS_EDITIONS||a.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=console.log||cc.log;r.ConstValue.IS_EDITIONS||a.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();n.LogWrap=a,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],MathExtension:[function(t,e,n){"use strict";cc._RF.push(e,"81407Q2vf9Ezor3KOYrFKb8","MathExtension"),Math.randomRangeInt=function(t,e){var n=Math.random();return 1===n&&(n-=Number.EPSILON),t+Math.floor(n*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],NetWork:[function(t,e,n){"use strict";cc._RF.push(e,"cb051p3qq9C/qqOYDdVn1eD","NetWork"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),a=t("../Manager/UIManager"),o=t("../UI/panel/ErrorPanel"),i=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.httpRequest=function(e,n,i,s,c){if(void 0===s&&(s=null),void 0===c&&(c=""),!r.ConstValue.IS_TEACHER||t.title_id)if(r.ConstValue.IS_TEACHER||t.courseware_id&&t.user_id){var u=new XMLHttpRequest;u.open(n,e),u.timeout=1e4,u.setRequestHeader("Content-Type",i),u.withCredentials=!0,u.onreadystatechange=function(){if(console.log("httpRequest rsp status",u.status,"        xhr.readyState",u.readyState,"        xhr.responseText",u.responseText),4==u.readyState&&u.status>=200&&u.status<=400){var l=JSON.parse(u.responseText);s&&0==l.errcode?s(!1,l):r.ConstValue.IS_EDITIONS&&a.UIManager.getInstance().openUI(o.default,null,1e3,function(){a.UIManager.getInstance().getUI(o.default).setPanel(l.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){t.getInstance().httpRequest(e,n,i,s,c)},!1)})}},u.ontimeout=function(u){r.ConstValue.IS_EDITIONS&&a.UIManager.getInstance().openUI(o.default,null,1e3,function(){a.UIManager.getInstance().getUI(o.default).setPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,i,s,c)},!0)}),console.log("httpRequest timeout"),s&&s(!0,null)},u.onerror=function(u){r.ConstValue.IS_EDITIONS&&a.UIManager.getInstance().openUI(o.default,null,1e3,function(){a.UIManager.getInstance().getUI(o.default).setPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,i,s,c)},!0)}),console.log("httpRequest error"),s&&s(!0,null)},u.send(c)}else a.UIManager.getInstance().openUI(o.default,null,1e3,function(){a.UIManager.getInstance().getUI(o.default).setPanel("\u5f02\u5e38\u7f16\u53f7\u4e3a001,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a")});else a.UIManager.getInstance().openUI(o.default,null,1e3,function(){a.UIManager.getInstance().getUI(o.default).setPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")})},t.prototype.GetRequest=function(){if(null!=t.theRequest)return t.theRequest;t.theRequest=new Object;var e=location.search;if(-1!=e.indexOf("?"))for(var n=e.substr(1).split("&"),r=0;r<n.length;r++)t.theRequest[n[r].split("=")[0]]=decodeURIComponent(n[r].split("=")[1]);return t.courseware_id=t.theRequest.id,t.title_id=t.theRequest.title_id,t.user_id=t.theRequest.user_id,t.empty=t.theRequest.empty,t.isLive=t.theRequest.isLive,this.LogJournalReport("CoursewareLogEvent",""),console.log("11111gaolei",t.courseware_id,"           ",t.theRequest.id,"           ",JSON.stringify(t.theRequest)),t.theRequest},t.prototype.GetIsOnline=function(){var t=1;return this.GetRequest().isOnline&&(t=this.GetRequest().isOnline),t},t.prototype.LogJournalReport=function(e,n){r.ConstValue.IS_EDITIONS&&((new Image).src=(t.isOnlineEnv?"https://logserver.haibian.com/statistical/?type=7&":"https://ceshi-statistical.haibian.com/?type=7&")+"course_id="+this.GetRequest().id+"&chapter_id="+this.GetRequest().chapter_id+"&user_id="+this.GetRequest().user_id+"&subject="+this.GetRequest().subject+"&event="+e+"&identity=1&extra="+JSON.stringify({url:location,CoursewareKey:r.ConstValue.CoursewareKey,empty:this.GetRequest().empty,CoursewareName:"zhaodongxi",data:n}))},t.isOnlineEnv=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0&&1==t.getInstance().GetIsOnline(),t.isProtocol=/http:/.test(window.location.protocol),t.isLocal=/localhost/.test(window.location.href)||t.isProtocol,t.isOwcr="owcr:"==location.protocol||"file:"==location.protocol,t.BASE=t.isOnlineEnv?"https://courseware.haibian.com":t.isLocal?"http://ceshi.courseware.haibian.com":"https://ceshi_courseware.haibian.com",t.GET_QUESTION=t.BASE+"/get",t.GET_USER_PROGRESS=t.BASE+"/get/answer",t.GET_TITLE=t.BASE+"/get/title",t.ADD=t.BASE+"/add",t.MODIFY=t.BASE+"/modify",t.CLEAR=t.BASE+"/clear",t.courseware_id=null,t.title_id=null,t.user_id=null,t.empty=!1,t.chapter_id=null,t.subject=null,t.isLive=null,t.theRequest=null,t}();n.NetWork=i,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/UIManager":"UIManager","../UI/panel/ErrorPanel":"ErrorPanel"}],OverTips:[function(t,e,n){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../UIComm/Tools"),s=t("../../Manager/UIManager"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e.closeCallback=null,e.finishCallback=null,e}var n;return r(e,t),n=e,e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e,n,r){switch(void 0===e&&(e=""),this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=!0,this.finishCallback=n,this.closeCallback=r,this.finishCallback(),t){case 0:i.Tools.playSpine(this.spine_false,"false",!1,this.delayClose.bind(this));break;case 1:i.Tools.playSpine(this.spine_true,"true",!1,this.delayClose.bind(this));break;case 2:i.Tools.playSpine(this.spine_complete,"in",!1,function(){i.Tools.playSpine(this.spine_complete,"stand",!0,this.delayClose.bind(this))}.bind(this))}var a=this.label_tip.node.position,o=cc.v2(a.x,a.y-72.8),s=cc.v2(a.x,a.y+12),c=cc.v2(a.x,a.y-8),u=cc.v2(a.x,a.y+7.3);this.label_tip.node.position=o,this.label_tip.node.runAction(cc.sequence(cc.moveTo(.08,s),cc.moveTo(.08,c),cc.moveTo(.08,u),cc.moveTo(.06,a)))},e.prototype.delayClose=function(){this.scheduleOnce(function(){this.closeCallback()}.bind(this),0)},e.prototype.onClickClose=function(){this.closeCallback(),s.UIManager.getInstance().closeUI(n)},e.className="OverTips",a([l(cc.Label)],e.prototype,"label_tip",void 0),a([l(sp.Skeleton)],e.prototype,"spine_false",void 0),a([l(sp.Skeleton)],e.prototype,"spine_true",void 0),a([l(sp.Skeleton)],e.prototype,"spine_complete",void 0),a([l(cc.Node)],e.prototype,"node_close",void 0),e=n=a([u],e)}(o.BaseUI);n.OverTips=p,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../../UIComm/Tools":"Tools","../BaseUI":"BaseUI"}],Set:[function(t,e,n){"use strict";cc._RF.push(e,"d8d97HoTUFPm7oqXrj5GU8u","Set"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),a=t("./arrays"),o=t("./Dictionary"),i=function(){function t(t){this.dictionary=new o.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return a.toString(this.toArray())},t}();n.default=i,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],Step:[function(t,e,n){"use strict";cc._RF.push(e,"ec260b7b1dBQYLxfWoMa0cz","Step"),cc.Class({extends:cc.Component,properties:{node_title:cc.Node,node_parent:cc.Node,_stepNode:[],NowIndex:-1},Init:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.node_title);n.setParent(this.node_parent),n.children[1].getComponent(cc.Label).string=e.toString(),n.children[3].getComponent(cc.Label).string=t[e].des,n.active=!0,e+1>=t.length&&(n.children[2].active=!1,n.setContentSize(30,30)),this._stepNode.push(n)}this.NextStep()},SetNowPos:function(t){},NextStep:function(){this.NowIndex+1>=this._stepNode.length||(this.NowIndex>=0&&(this._stepNode[this.NowIndex].children[2].color=new cc.Color(122,170,229)),this._stepNode[this.NowIndex+1].children[0].color=new cc.Color(122,170,229),this.NowIndex++)},LestStep:function(){this.NowIndex-1<0||(this.NowIndex-1>=0&&(this._stepNode[this.NowIndex-1].children[2].color=new cc.Color(129,129,129)),this._stepNode[this.NowIndex].children[0].color=new cc.Color(129,129,129),this.NowIndex--)},start:function(){for(var t=[],e=["\u5f55\u5165\u9898\u76ee\u4fe1\u606f","\u68c0\u6d4b\u9898\u76ee\u4fe1\u606f"],n=0;n<e.length;n++){var r=[];r.des=e[n],t.push(r)}this.Init(t)},ReStart:function(){}}),cc._RF.pop()},{}],StringExtension:[function(t,e,n){"use strict";cc._RF.push(e,"85c1bk+r3FHf5RqunqKCFt+","StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(arguments),r=0;return this.replace(/%s/g,function(t,e){return n[r++]})},cc._RF.pop()},{}],SubmissionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Utils/UIHelp"),u=t("../../Data/ConstValue"),l=t("../../Data/DaAnData"),p=t("./ErrorPanel"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){i.UIManager.getInstance().closeUI(n)},e.prototype.DetectionNet=function(){if(s.NetWork.title_id){var t=JSON.stringify({CoursewareKey:u.ConstValue.CoursewareKey,types:l.DaAnData.getInstance().types,checkpointsNum:l.DaAnData.getInstance().checkpointsNum,picArr:l.DaAnData.getInstance().picArr,range:l.DaAnData.getInstance().range,dirSFArr:l.DaAnData.getInstance().dirSFArr,answerSFArr:l.DaAnData.getInstance().answerSFArr,answerPosArr:l.DaAnData.getInstance().answerPosArr,answerOneNum:l.DaAnData.getInstance().answerOneNum});console.log("-------------------data:",t),s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(e,n){if(!e)if(null==n.data.courseware_content||""==n.data.courseware_content)this.AddNet(t);else{s.NetWork.courseware_id=n.data.courseware_id;var r=JSON.parse(n.data.courseware_content);s.NetWork.empty||(r.CoursewareKey==u.ConstValue.CoursewareKey?this.ModifyNet(t):i.UIManager.getInstance().openUI(p.default,null,1e3,function(){i.UIManager.getInstance().getUI(p.default).setPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")}))}}.bind(this),null)}else i.UIManager.getInstance().openUI(p.default,null,1e3,function(){i.UIManager.getInstance().getUI(p.default).setPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+s.NetWork.title_id,"","","\u786e\u5b9a")})},e.prototype.AddNet=function(t){var e={title_id:s.NetWork.title_id,courseware_content:t,is_result:1,is_lavel:1};s.NetWork.getInstance().httpRequest(s.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),i.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:s.NetWork.courseware_id,courseware_content:t,is_result:1,is_lavel:1};s.NetWork.getInstance().httpRequest(s.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(c.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),i.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.className="SubmissionPanel",e=n=a([f],e)}(o.BaseUI));n.default=g,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Http/NetWork":"NetWork","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./ErrorPanel":"ErrorPanel"}],TeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Manager/UIManager"),s=t("../../Http/NetWork"),c=t("../../Data/DaAnData"),u=t("./GamePanel"),l=t("../../Manager/ListenerManager"),p=t("../../Data/ListenerType"),h=t("../../Utils/UIHelp"),f=cc._decorator,g=f.ccclass,d=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleContainer=[],e.checkpointEditbox=null,e.animalToggle=null,e.foodToggle=null,e.figureToggle=null,e.dailyuseToggle=null,e.numberToggle=null,e.stationeryToggle=null,e.clothesToggle=null,e.letterToggle=null,e.choicescopeButton=null,e.submissionButton=null,e.tipNode=null,e.sourceSFLenth=0,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.getNet(),cc.log("------picArr",c.DaAnData.getInstance().picArr)},e.prototype.initData=function(){1==c.DaAnData.getInstance().types?this.toggleContainer[0].isChecked=!0:2==c.DaAnData.getInstance().types&&(this.toggleContainer[1].isChecked=!0),c.DaAnData.getInstance().checkpointsNum&&(this.checkpointEditbox.string=String(c.DaAnData.getInstance().checkpointsNum)),this.animalToggle.isChecked=!1;for(var t=0;t<c.DaAnData.getInstance().picArr.length;t++)c.DaAnData.getInstance().picArr[t]==c.picType.animal?(this.animalToggle.isChecked=!0,this.sourceSFLenth+=8):c.DaAnData.getInstance().picArr[t]==c.picType.clothes?(this.clothesToggle.isChecked=!0,this.sourceSFLenth+=8):c.DaAnData.getInstance().picArr[t]==c.picType.food?(this.foodToggle.isChecked=!0,this.sourceSFLenth+=8):c.DaAnData.getInstance().picArr[t]==c.picType.dailyuse?(this.dailyuseToggle.isChecked=!0,this.sourceSFLenth+=8):c.DaAnData.getInstance().picArr[t]==c.picType.figure?(this.figureToggle.isChecked=!0,this.sourceSFLenth+=8):c.DaAnData.getInstance().picArr[t]==c.picType.letter?(this.letterToggle.isChecked=!0,this.sourceSFLenth+=26):c.DaAnData.getInstance().picArr[t]==c.picType.number?(this.numberToggle.isChecked=!0,this.sourceSFLenth+=10):c.DaAnData.getInstance().picArr[t]==c.picType.stationery&&(this.stationeryToggle.isChecked=!0,this.sourceSFLenth+=8);c.DaAnData.getInstance().range&&(this.choicescopeButton.node.getChildByName("Label").getComponent(cc.Label).string=c.scopeRange[c.DaAnData.getInstance().range])},e.prototype.onBtnSaveClicked=function(){this.errorChecking()&&i.UIManager.getInstance().showUI(u.default,function(){l.ListenerManager.getInstance().trigger(p.ListenerType.OnEditStateSwitching,{state:1})})},e.prototype.tips=function(){this.tipNode.active=!0,this.tipNode.getChildByName("layout").on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},e.prototype.onBtnSureClicked=function(){this.tipNode.active=!1},e.prototype.onBtnChoicescopeClicked=function(){this.choicescopeButton.interactable=!1,this.choicescopeButton.node.getChildByName("layout").on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()});var t=this.choicescopeButton.node.getChildByName("mask").getChildByName("layout"),e=cc.moveBy(.3,0,-300);t.runAction(e)},e.prototype.ChoicescopeOverClicked=function(){this.choicescopeButton.interactable=!0,this.choicescopeButton.node.getChildByName("layout").off(cc.Node.EventType.TOUCH_START);var t=this.choicescopeButton.node.getChildByName("mask").getChildByName("layout"),e=cc.moveBy(.3,0,300);t.runAction(e);var n=this.choicescopeButton.node.getChildByName("Label").getComponent(cc.Label),r=c.DaAnData.getInstance().range;n.string=c.scopeRange[r]},e.prototype.FOUR_FOUR=function(){c.DaAnData.getInstance().range=1,this.ChoicescopeOverClicked()},e.prototype.FOUR_FIVE=function(){c.DaAnData.getInstance().range=2,this.ChoicescopeOverClicked()},e.prototype.FOUR_SIX=function(){c.DaAnData.getInstance().range=3,this.ChoicescopeOverClicked()},e.prototype.FOUR_SEVEN=function(){c.DaAnData.getInstance().range=4,this.ChoicescopeOverClicked()},e.prototype.FOUR_EIGHT=function(){c.DaAnData.getInstance().range=5,this.ChoicescopeOverClicked()},e.prototype.FIVE_FOUR=function(){c.DaAnData.getInstance().range=6,this.ChoicescopeOverClicked()},e.prototype.FIVE_FIVE=function(){c.DaAnData.getInstance().range=7,this.ChoicescopeOverClicked()},e.prototype.FIVE_SIX=function(){c.DaAnData.getInstance().range=8,this.ChoicescopeOverClicked()},e.prototype.FIVE_SEVEN=function(){c.DaAnData.getInstance().range=9,this.ChoicescopeOverClicked()},e.prototype.FIVE_EIGHT=function(){c.DaAnData.getInstance().range=10,this.ChoicescopeOverClicked()},e.prototype.onToggleContainer=function(t){switch(this.toggleContainer.indexOf(t)){case 0:c.DaAnData.getInstance().types=1;break;case 1:c.DaAnData.getInstance().types=2}},e.prototype.editBoxEndEditing=function(t){var e=this.checkpointEditbox.string;switch(e){case"1":c.DaAnData.getInstance().checkpointsNum=1;break;case"2":c.DaAnData.getInstance().checkpointsNum=2;break;case"3":c.DaAnData.getInstance().checkpointsNum=3;break;case"4":c.DaAnData.getInstance().checkpointsNum=4;break;default:e="",this.checkpointEditbox.string="",c.DaAnData.getInstance().checkpointsNum=0}},e.prototype.animal=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.animal)&&(c.DaAnData.getInstance().picArr.push(c.picType.animal),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.animal)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.animal}),this.sourceSFLenth-=8)},e.prototype.food=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.food)&&(c.DaAnData.getInstance().picArr.push(c.picType.food),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.food)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.food}),this.sourceSFLenth-=8)},e.prototype.figure=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.figure)&&(c.DaAnData.getInstance().picArr.push(c.picType.figure),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.figure)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.figure}),this.sourceSFLenth-=8)},e.prototype.dailyuse=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.dailyuse)&&(c.DaAnData.getInstance().picArr.push(c.picType.dailyuse),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.dailyuse)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.dailyuse}),this.sourceSFLenth-=8)},e.prototype.number=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.number)&&(c.DaAnData.getInstance().picArr.push(c.picType.number),this.sourceSFLenth+=10):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.number)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.number}),this.sourceSFLenth-=10)},e.prototype.stationery=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.stationery)&&(c.DaAnData.getInstance().picArr.push(c.picType.stationery),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.stationery)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.stationery}),this.sourceSFLenth-=8)},e.prototype.clothes=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.clothes)&&(c.DaAnData.getInstance().picArr.push(c.picType.clothes),this.sourceSFLenth+=8):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.clothes)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.clothes}),this.sourceSFLenth-=8)},e.prototype.letter=function(t){t.isChecked?-1==c.DaAnData.getInstance().picArr.indexOf(c.picType.letter)&&(c.DaAnData.getInstance().picArr.push(c.picType.letter),this.sourceSFLenth+=26):-1!=c.DaAnData.getInstance().picArr.indexOf(c.picType.letter)&&(c.DaAnData.getInstance().picArr=c.DaAnData.getInstance().picArr.filter(function(t){return t!==c.picType.letter}),this.sourceSFLenth-=26)},e.prototype.errorChecking=function(){return 0==c.DaAnData.getInstance().checkpointsNum?(this.tipNode.getChildByName("tipLabel").getComponent(cc.Label).string="\u8bf7\u586b\u5199\u5173\u5361\u6570\u91cf\uff0c\u4e0d\u80fd\u4e3a\u7a7a\u3002",this.tips(),!1):0==c.DaAnData.getInstance().picArr.length?(this.tipNode.getChildByName("tipLabel").getComponent(cc.Label).string="\u8bf7\u9009\u62e9\u533a\u57df\u79cd\u7c7b\uff0c\u4e0d\u80fd\u4e3a\u7a7a\u3002",this.tips(),!1):0!=c.DaAnData.getInstance().range||(this.tipNode.getChildByName("tipLabel").getComponent(cc.Label).string="\u8bf7\u9009\u62e9\u533a\u57df\u8303\u56f4\uff0c\u4e0d\u80fd\u4e3a\u7a7a\u3002",this.tips(),!1)},e.prototype.getNet=function(){s.NetWork.getInstance().httpRequest(s.NetWork.GET_TITLE+"?title_id="+s.NetWork.title_id,"GET","application/json;charset=utf-8",function(t,e){if(cc.log("err----------",t),!t){var n=e;if(Array.isArray(n.data))return;var r=JSON.parse(n.data.courseware_content);s.NetWork.courseware_id=n.data.courseware_id,s.NetWork.empty?this.ClearNet():null!=r&&(r.types&&(c.DaAnData.getInstance().types=r.types),r.checkpointsNum&&(c.DaAnData.getInstance().checkpointsNum=r.checkpointsNum),r.range&&(c.DaAnData.getInstance().range=r.range),r.picArr&&(c.DaAnData.getInstance().picArr=r.picArr),this.initData())}}.bind(this),null)},e.prototype.ClearNet=function(){var t={courseware_id:s.NetWork.courseware_id};s.NetWork.getInstance().httpRequest(s.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||h.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")}.bind(this),JSON.stringify(t))},e.className="TeacherPanel",a([d([cc.Toggle])],e.prototype,"toggleContainer",void 0),a([d(cc.EditBox)],e.prototype,"checkpointEditbox",void 0),a([d(cc.Toggle)],e.prototype,"animalToggle",void 0),a([d(cc.Toggle)],e.prototype,"foodToggle",void 0),a([d(cc.Toggle)],e.prototype,"figureToggle",void 0),a([d(cc.Toggle)],e.prototype,"dailyuseToggle",void 0),a([d(cc.Toggle)],e.prototype,"numberToggle",void 0),a([d(cc.Toggle)],e.prototype,"stationeryToggle",void 0),a([d(cc.Toggle)],e.prototype,"clothesToggle",void 0),a([d(cc.Toggle)],e.prototype,"letterToggle",void 0),a([d(cc.Button)],e.prototype,"choicescopeButton",void 0),a([d(cc.Button)],e.prototype,"submissionButton",void 0),a([d(cc.Node)],e.prototype,"tipNode",void 0),e=a([g],e)}(o.BaseUI);n.default=y,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel"}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"6a93cVTR3pJrpapom9vowVf","TimeManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.prototype.getNowFormatDate=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n>=1&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r);var a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),s=t.getMilliseconds();return a>=0&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o),i>=0&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="00"+s),s>=10&&s<=90&&(s="0"+s),e+":"+n+":"+r+":"+a+":"+o+":"+i+":"+s},t.instance=null,t}();n.TimeManager=r,cc._RF.pop()},{}],TipUI:[function(t,e,n){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../Item/Tip"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return r(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var n=0;n<this.tipPool.length;++n)if(null!=this.tipPool[n]&&this.tipPool[n].isReady())return this.tipPool[n].node.setSiblingIndex(200),void this.tipPool[n].playTip(t);cc.log("create tip");var r=cc.instantiate(this.tipPrefab);r.parent=this.node;var a=r.getComponent(i.Tip);this.tipPool.push(a),a.playTip(t)},e.className="TipUI",a([u(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=a([c],e)}(o.BaseUI);n.TipUI=l,cc._RF.pop()},{"../BaseUI":"BaseUI","../Item/Tip":"Tip"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return r(e,t),e.prototype.playTip=function(t){this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),n=(cc.fadeIn(.5),cc.fadeOut(.5)),r=cc.spawn(e,n),a=cc.delayTime(1),o=cc.callFunc(function(){this.ready=!0},this),i=cc.sequence(a,r,o);this.node.runAction(i)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},a([s(cc.Node)],e.prototype,"neiRongNode",void 0),a([s(cc.Label)],e.prototype,"tipLabel",void 0),e=a([i],e)}(cc.Component);n.Tip=c,cc._RF.pop()},{}],TitleNode:[function(t,e,n){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Manager/ListenerManager"),i=t("../../Data/ListenerType"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return r(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,o.ListenerManager.getInstance().add(i.ListenerType.OnEditStateSwitching,this,this.onStateSwitching)},e.prototype.onStateSwitching=function(t){0==t.state?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},a([u(cc.Label)],e.prototype,"bianJiLabel",void 0),a([u(cc.Label)],e.prototype,"jianYanLabel",void 0),a([u(cc.Node)],e.prototype,"tiaoNode",void 0),e=a([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var r=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=function(){return function(t,e){this.time=0,this.pos=cc.Vec2.ZERO,this.time=t,this.pos=e}}();n.ArtMoveParam=a;var o=cc._decorator,i=o.ccclass,s=(o.property,function(){function t(){}return t.playSpine=function(t,e,n,r){void 0===r&&(r=null),t.setAnimation(0,e,n)&&t.setCompleteListener(function(t,n){(t.animation?t.animation.name:"")===e&&r&&null!=r&&r()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(r[0]==t)return r[1]}return!1},t.runArtMoveSequence=function(t,e,n){void 0===n&&(n=null);var r=t.getPosition().sub(e[e.length-1].pos);function a(t){return t.add(r)}if(t.setPosition(a(e[0].pos)),e.length<=1)n&&n();else{for(var o=[],i=1;i<e.length-1;i++){var s=.001*(e[i].time-e[i-1].time);o.push(cc.moveTo(s,a(e[i].pos)))}n&&o.push(cc.callFunc(n)),t.runAction(cc.sequence(o))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=t%60;return n<10&&(n="0"+n),e+":"+n},t=r([i],t)}());n.Tools=s,cc._RF.pop()},{}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Manager/UIManager"),a=t("../UI/panel/TipUI"),o=t("../UI/Item/OverTips"),i=t("../UI/Item/AffirmTips"),s=function(){function t(){}return t.showTip=function(e){var n=r.UIManager.getInstance().getUI(a.TipUI);n?n.showTip(e):r.UIManager.getInstance().openUI(a.TipUI,null,201,function(){t.showTip(e)})},t.showOverTips=function(e,n,a,i){var s=r.UIManager.getInstance().getUI(o.OverTips);s?s.init(e,n,a,i):r.UIManager.getInstance().openUI(o.OverTips,null,200,function(){t.showOverTips(e,n,a,i)})},t.showAffirmTips=function(e,n,a,o,s,c){var u=r.UIManager.getInstance().getUI(i.AffirmTips);u?u.init(e,n,a,o,s,c):r.UIManager.getInstance().openUI(i.AffirmTips,null,200,function(){t.showAffirmTips(e,n,a,o,s,c)})},t}();n.UIHelp=s,cc._RF.pop()},{"../Manager/UIManager":"UIManager","../UI/Item/AffirmTips":"affirmTips","../UI/Item/OverTips":"OverTips","../UI/panel/TipUI":"TipUI"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"2bf35yS6lhA06zOVcV962/M","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiRoot=cc.find("Canvas")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,r,a){for(var o=this,i=[],s=5;s<arguments.length;s++)i[s-5]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){a&&a(t,e,n)},function(a,s){if(a)cc.log(a);else if(!o.getUI(t)){var c=cc.instantiate(s);c.parent=o.uiRoot,n&&(c.zIndex=n);var u=c.getComponent(t);u.data=e,u.tag=t,o.uiList.push(u),r&&r(i)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,n){var r=this,a=this.getUI(t);a?(a.data=e,a.node.active=!0,a.onShow(),n&&n()):this.openUI(t,e,0,function(){n&&n(),r.getUI(t).onShow()})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();n.UIManager=r,cc._RF.pop()},{}],UploadAndReturnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Manager/UIManager"),s=t("./GamePanel"),c=t("./SubmissionPanel"),u=t("../../Data/DaAnData"),l=t("../../Utils/UIHelp"),p=t("../../Manager/ListenerManager"),h=t("../../Data/ListenerType"),f=t("../../Manager/AudioManager"),g=t("../Item/OverTips"),d=cc._decorator,y=d.ccclass,v=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onFanHui=function(){u.DaAnData.getInstance().submitEnable=!1,u.DaAnData.getInstance().answerOneNum=[],u.DaAnData.getInstance().answerPosArr=[],u.DaAnData.getInstance().answerSFArr=[],u.DaAnData.getInstance().dirSFArr=[],i.UIManager.getInstance().closeUI(g.OverTips),i.UIManager.getInstance().closeUI(s.default),i.UIManager.getInstance().closeUI(n),f.AudioManager.getInstance().stopAll(),p.ListenerManager.getInstance().trigger(h.ListenerType.OnEditStateSwitching,{state:0})},e.prototype.onTiJiao=function(){u.DaAnData.getInstance().submitEnable?i.UIManager.getInstance().openUI(c.default,null,201):l.UIHelp.showTip("\u8bf7\u901a\u5173\u540e\u8fdb\u884c\u4fdd\u5b58")},e.className="UploadAndReturnPanel",e=n=a([y],e)}(o.BaseUI));n.default=v,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Manager/AudioManager":"AudioManager","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../Item/OverTips":"OverTips","./GamePanel":"GamePanel","./SubmissionPanel":"SubmissionPanel"}],affirmTips:[function(t,e,n){"use strict";cc._RF.push(e,"67e25WAGoRADq1zkpxqqwdF","affirmTips");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../BaseUI"),i=t("../../Manager/UIManager"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callbackClose=null,e.callbackOk=null,e}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.init=function(t,e,n,r,a,o){this.title.node.active=!0,this.des.node.active=!1,this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callbackClose=a,this.title.string=e,this.callbackOk=o,n&&(this.btnCloseLabel.string=n),r&&(this.btnOkLabel.string=r)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v2(0,this.ok.node.position.y),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),i.UIManager.getInstance().closeUI(n),this.callbackOk&&this.callbackOk()},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),i.UIManager.getInstance().closeUI(n),this.callbackClose&&this.callbackClose()},e.className="AffirmTips",a([u(cc.Node)],e.prototype,"NodeDes",void 0),a([u(cc.Label)],e.prototype,"title",void 0),a([u(cc.Label)],e.prototype,"des",void 0),a([u(cc.Button)],e.prototype,"close",void 0),a([u(cc.Button)],e.prototype,"ok",void 0),a([u(cc.Label)],e.prototype,"btnCloseLabel",void 0),a([u(cc.Label)],e.prototype,"btnOkLabel",void 0),a([u(cc.Node)],e.prototype,"win",void 0),a([u(cc.Node)],e.prototype,"fail",void 0),e=n=a([c],e)}(o.BaseUI);n.AffirmTips=l,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],arrays:[function(t,e,n){"use strict";cc._RF.push(e,"b058arw+iJCUoMo5lRZ29ul","arrays"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util");function a(t,e,n){for(var a=n||r.defaultEquals,o=t.length,i=0;i<o;i++)if(a(t[i],e))return i;return-1}n.indexOf=a,n.lastIndexOf=function(t,e,n){for(var a=n||r.defaultEquals,o=t.length-1;o>=0;o--)if(a(t[o],e))return o;return-1},n.contains=function(t,e,n){return a(t,e,n)>=0},n.remove=function(t,e,n){var r=a(t,e,n);return!(r<0||(t.splice(r,1),0))},n.frequency=function(t,e,n){for(var a=n||r.defaultEquals,o=t.length,i=0,s=0;s<o;s++)a(t[s],e)&&i++;return i},n.equals=function(t,e,n){var a=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var o=t.length,i=0;i<o;i++)if(!a(t[i],e[i]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var r=t[e];return t[e]=t[n],t[n]=r,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,e){for(var n=0,r=t;n<r.length;n++)if(!1===e(r[n]))return},cc._RF.pop()},{"./util":"util"}],util:[function(t,e,n){"use strict";cc._RF.push(e,"c9cacB846tOCorK/Mt3JpJs","util"),Object.defineProperty(n,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function a(t){return"function"==typeof t}function o(t){return void 0===t}function i(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,e){return r.call(t,e)},n.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},n.defaultEquals=function(t,e){return t===e},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":o(t)?"COLLECTION_UNDEFINED":i(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(o(t))return"COLLECTION_UNDEFINED";if(i(t))return t.toString();var r="{",a=!0;for(var s in t)n.has(t,s)&&(a?a=!1:r+=e,r=r+s+":"+t[s]);return r+"}"},n.isFunction=a,n.isUndefined=o,n.isString=i,n.reverseCompareFunction=function(t){return o(t)||!a(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},n.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}},cc._RF.pop()},{}]},{},["BaseConfigContainer","ConstValue","DaAnData","DataReporting","GameData","ListenerType","NetWork","GameMain","AudioManager","ListenerManager","TimeManager","UIManager","Step","Tools","BaseUI","OverTips","Tip","affirmTips","ErrorPanel","GamePanel","LoadingUI","SubmissionPanel","TeacherPanel","TipUI","TitleNode","UploadAndReturnPanel","AdaptiveScreen","FadeUIPlugin","LogWrap","MathExtension","StringExtension","UIHelp","Dictionary","Set","arrays","util"]);