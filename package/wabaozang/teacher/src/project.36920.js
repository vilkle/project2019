window.__require=function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return o(e[a][1][t]||t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({AdaptiveScreen:[function(t,e,n){"use strict";cc._RF.push(e,"ba00bud/zlDiY6tClWPdHIa","AdaptiveScreen");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.viewWidth=640,e.viewHeight=1136,e}return r(e,t),e.prototype.onLoad=function(){this.screenAdapter()},e.prototype.start=function(){this.viewUp()},e.prototype.screenAdapter=function(){if(cc.Canvas.instance){this.stage=cc.Canvas.instance.node;var t=cc.Canvas.instance,e=cc.view.getFrameSize();e.width/e.height<t.designResolution.width/t.designResolution.height?(t.fitWidth=!0,t.fitHeight=!1):(t.fitHeight=!0,t.fitWidth=!1)}},e.prototype.viewUp=function(){var t=cc.winSize,e=t.width/this.viewWidth,n=t.height/this.viewHeight;this.bgNode.scale=1*Math.max(e,n)},o([c({type:cc.Node,tooltip:"\u5168\u5c4f\u80cc\u666f\u56fe\u7247\uff0c\u7528\u4e8e\u81ea\u9002\u5e94"})],e.prototype,"bgNode",void 0),o([c],e.prototype,"viewWidth",void 0),o([c],e.prototype,"viewHeight",void 0),e=o([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),o=function(){function t(){this.bgm=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.playSound=function(t,e,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a=r.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(a,cc.AudioClip,function(t,r){if(t)cc.error(t);else{var a=cc.audioEngine.play(r,e||!1,n||1);o&&o(a),i&&cc.audioEngine.setFinishCallback(a,i)}})},t.prototype.stopAudio=function(t){cc.audioEngine.stop(t)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.playBGM=function(t){if(this.bgm!=t){this.bgm=t,cc.audioEngine.stopMusic();var e=r.ConstValue.AUDIO_DIR+t;cc.loader.loadRes(e,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})}},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=r.ConstValue.AUDIO_DIR+this.bgm;cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.error(t):cc.audioEngine.playMusic(e,!0)})},t.instance=null,t}();n.AudioManager=o,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],AudioPlayExtension:[function(t,e,n){"use strict";cc._RF.push(e,"f5171dGpWFGFZGEuFaQdUkt","AudioPlayExtension"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Manager/AudioManager"),o={"\u4f8b":"sfx_buttn","\u5b50":"sfx_erro"},i=function(){function t(){}return t.playJoinAudio=function(t,e){if(0==t.length)return console.warn("playJoinAudio : \u5185\u5bb9\u4e3a\u7a7a!"),void e();var n=0;(function i(){if(n>t.length-1)return console.log("'"+t+"' \u64ad\u653e\u5b8c\u6210."),void e();r.AudioManager.getInstance().playSound(o[t[n]],!1,1,null,i),n++})()},t}();n.AudioPlayExtension=i,cc._RF.pop()},{"../Manager/AudioManager":"AudioManager"}],BaseConfigContainer:[function(t,e,n){"use strict";cc._RF.push(e,"a9280QRTmRIUqfgpuhZqA92","BaseConfigContainer"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),t}();n.BaseConfigContainer=r,cc._RF.pop()},{}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"c6da4j3MGhPfIxwls9tY6iS","BaseUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/ConstValue"),a=t("../Manager/ListenerManager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},set:function(t){this.mData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!0,configurable:!0}),e.getUrl=function(){return cc.log(this.className),i.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){a.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",e=o([s],e)}(cc.Component));n.BaseUI=l,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/ListenerManager":"ListenerManager"}],BoundingBoxDemo:[function(t,e,n){"use strict";cc._RF.push(e,"d5f9dT/06tF45iF1u1hFPMw","BoundingBoxDemo");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BoundingBoxHelp"),a=cc._decorator,c=a.ccclass,s=a.property;(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bbh=null,e.grs=null,e}r(e,t),e.prototype.update=function(t){this.grs.clear();var e=this.bbh.getBoundingBoxWorldPositions("boundingBox");this.polygon(this.grs,e),this.grs.stroke()},e.prototype.polygon=function(t,e){if(!(e.length<3)){t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.lineTo(e[0].x,e[0].y)}},o([s(i.default)],e.prototype,"bbh",void 0),o([s(cc.Graphics)],e.prototype,"grs",void 0),e=o([c],e)})(cc.Component);cc._RF.pop()},{"./BoundingBoxHelp":"BoundingBoxHelp"}],BoundingBoxHelp:[function(t,e,n){"use strict";cc._RF.push(e,"d28fa0BmSFGwY3HLHVIrT8f","BoundingBoxHelp");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.vertices=[],e.positions=[],e}return r(e,t),e.prototype.getSkeleton=function(){return null==this.skeleton&&(this.skeleton=this.node.getComponent(sp.Skeleton)),this.skeleton},e.prototype.getBoundingBoxWorldPositions=function(t){var e=this.getSkeleton();if(null==e)return console.warn("\u6ca1\u6709Spine\u8d44\u6e90\uff01"),this.positions;var n=e.findSlot(t);if(!n)return console.warn("\u6ca1\u6709\u627e\u5230\u63d2\u69fd\uff1a "+t),this.positions;var r=n.attachment;r.computeWorldVertices(n,0,r.worldVerticesLength,this.vertices,0,2);for(var o=0;o<this.vertices.length;o+=2)this.positions[o/2]||(this.positions[o/2]=cc.Vec2.ZERO),this.positions[o/2].x=this.vertices[o],this.positions[o/2].y=this.vertices[o+1];for(o=0;o<this.positions.length;o++)this.positions[o]=this.node.convertToWorldSpaceAR(this.positions[o]);return this.positions},e.prototype.getBoundingBoxRelativePositions=function(t,e){for(var n=this.getBoundingBoxWorldPositions(t),r=0;r<n.length;r++)n[r]=e.convertToNodeSpaceAR(n[r]);return n},e=o([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],ConstValue:[function(t,e,n){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","ConstValue"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.IS_EDITIONS=!0,t.IS_TEACHER=!0,t.CONFIG_FILE_DIR="config/",t.PREFAB_UI_DIR="prefab/ui/panel/",t.AUDIO_DIR="audio/",t.CoursewareKey="OKPE&%2fZkbYB0Pa^FdT22g4",t}();n.ConstValue=r,cc._RF.pop()},{}],CustomTypes:[function(t,e,n){"use strict";cc._RF.push(e,"d2d70bGmsJOAJetl6yMvak0","CustomTypes"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){return function(){}}();n.AnswerData=r,cc._RF.pop()},{}],DaAnData:[function(t,e,n){"use strict";cc._RF.push(e,"34fe9Av7elA+Jy6ArdTamOJ","DaAnData"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.type=0,this.itemArr=[],this.xArr=[],this.yArr=[],this.rotationArr=[],this.submitEnable=!1}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.DaAnData=r,cc._RF.pop()},{}],DataReporting:[function(t,e,n){"use strict";cc._RF.push(e,"fcbb2jwzKhJwKls3NHmiFBh","DataReporting");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ConstValue"),i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),o.ConstValue.IS_EDITIONS&&(e?courseware.page.sendToParent(t,e):courseware.page.sendToParent(t))},t.prototype.addEvent=function(t,e){o.ConstValue.IS_EDITIONS&&courseware.page.on(t,e)},t.isRepeatReport=!0,t=e=r([a],t)}());n.default=c,cc._RF.pop()},{"./ConstValue":"ConstValue"}],Dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"cc667V2/zFJtI7/GBev9gvA","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!r.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!r.isUndefined(t)&&!r.isUndefined(e)){var n,o="$"+this.toStr(t),i=this.table[o];return r.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[o]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!r.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();n.default=o,cc._RF.pop()},{"./util":"util"}],ErrorPanel:[function(t,e,n){"use strict";cc._RF.push(e,"78373xfPadEJ5IFn4sizh3z","ErrorPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Manager/UIManager"),c=t("../../Manager/AudioManager"),s=t("../../Http/NetWork"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biaoTi=null,e.shuoMing=null,e.tiShi=null,e.btnLab=null,e.btn=null,e.isClose=!1,e}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.setPanel=function(t,e,n,r,o,i){void 0===i&&(i=!1);var a={shuoMing:t,biaoTi:e,tiShi:n};s.NetWork.getInstance().LogJournalReport("ErrorPanelLog",a),c.AudioManager.getInstance().playSound("sfx_erro",!1,1),this.shuoMing.string=t,this.isClose=i,this.callback=o,this.biaoTi.string=e||this.biaoTi.string,this.tiShi.string=n||this.tiShi.string,this.btnLab.string=r||this.btnLab.string,this.btn.interactable=this.isClose},e.prototype.onBtnClick=function(){c.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),this.isClose&&a.UIManager.getInstance().closeUI(n)},e.className="ErrorPanel",o([p(cc.Label)],e.prototype,"biaoTi",void 0),o([p(cc.Label)],e.prototype,"shuoMing",void 0),o([p(cc.Label)],e.prototype,"tiShi",void 0),o([p(cc.Label)],e.prototype,"btnLab",void 0),o([p(cc.Button)],e.prototype,"btn",void 0),e=n=o([u],e)}(i.BaseUI);n.default=h,cc._RF.pop()},{"../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],FadeUIPlugin:[function(t,e,n){"use strict";cc._RF.push(e,"2fe78Vyt/NInb1oC42+tpUk","FadeUIPlugin");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return r(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),n=cc.scaleTo(.5,0,0),r=cc.scaleTo(.5,1,1),o=cc.sequence(t,e,n,r);this.node.runAction(o)},o([c],e.prototype,"delay",void 0),e=o([a],e)}(cc.Component);n.FadeUIPlugin=s,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"65c35Ym/oRKD6h93ZiyEFOw","GameData"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();n.GameData=r,cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","GameMain");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=document.getElementById("loading-full");t&&(t.style.display="none")},e.prototype.start=function(){},e.prototype.update=function(t){},e=o([a],e)}(cc.Component));n.GameMain=c,cc._RF.pop()},{}],GamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"246c2OOkGlKHoa6ZJOVEHI+","GamePanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Http/NetWork"),c=t("../../Data/DataReporting"),s=t("../../Utils/UIHelp"),l=t("../../Manager/AudioManager"),u=t("../../Data/ConstValue"),p=t("../../Data/DaAnData"),h=t("../../Manager/UIManager"),f=t("./UploadAndReturnPanel"),d=cc._decorator,g=d.ccclass,y=d.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.bg=null,e.labaBoundingBox=null,e.laba=null,e.wave1=null,e.wave2=null,e.material=null,e.board=null,e.refreshBtn=null,e.submitBtn=null,e.pointBtn=null,e.frame1=null,e.frame2=null,e.frame3=null,e.frame4=null,e.frame5=null,e.frame6=null,e.frame7=null,e.frame8=null,e.frame9=null,e.frame10=null,e.Bframe1=null,e.Bframe2=null,e.Bframe3=null,e.Bframe4=null,e.Bframe5=null,e.Bframe6=null,e.Bframe7=null,e.Bframe8=null,e.Bframe9=null,e.Bframe10=null,e.grayFrame=null,e.blueFrame=null,e.greenFrame=null,e.itemPrefab=null,e.bigItemPrefab=null,e.titlePrefab=null,e.littleTitlePrefab=null,e.boxPrefab=null,e.num=0,e.type=0,e.itemArr=[],e.xArr=[],e.yArr=[],e.rotationArr=[],e.groupNumArr=[],e.itemNodeArr=[],e.horizonTitleArr=[],e.VerticalTitleArr=[],e.horArr=[],e.verArr=[],e.answer=[],e.subject=[],e.groupArr=[],e.groupNodeArr=[],e.timeoutArr=[],e.isOver=0,e.eventvalue={isResult:1,isLevel:0,levelData:[{subject:[],answer:[],result:4}],result:4},e.sizeInfo={title:{width:0,height:0},square:{width:0,height:0},spaceLong:0,spaceShort:0,fontSize:60,deepBlue:cc.color(29,111,158),lightGray:cc.color(217,217,217)},e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.loader.loadRes("prefab/ui/panel/OverTips",cc.Prefab,null),this.bg.on(cc.Node.EventType.TOUCH_START,function(e){1!=t.isOver&&(t.isOver=2,t.eventvalue.result=2,t.eventvalue.levelData[0].result=2)}),this.labaBoundingBox.on(cc.Node.EventType.TOUCH_START,function(e){t.laba.setAnimation(0,"click",!1),t.laba.addAnimation(0,"speak",!0),l.AudioManager.getInstance().stopAll(),l.AudioManager.getInstance().playSound("\u627e\u51fa\u5b9d\u85cf\u7684\u4f4d\u7f6e\u5427",!1,1,null,function(){t.laba.setAnimation(0,"null",!0)})}),u.ConstValue.IS_TEACHER?(h.UIManager.getInstance().openUI(f.default,null,212),this.type=p.DaAnData.getInstance().type,this.itemArr=p.DaAnData.getInstance().itemArr,this.xArr=p.DaAnData.getInstance().xArr,this.yArr=p.DaAnData.getInstance().yArr,this.rotationArr=p.DaAnData.getInstance().rotationArr,this.setPanel()):this.getNet()},e.prototype.start=function(){var t=this;l.AudioManager.getInstance().playSound("sfx_12opne"),this.oceanWave(this.wave1,this.wave2);var e=setTimeout(function(){l.AudioManager.getInstance().playSound("\u627e\u51fa\u5b9d\u85cf\u7684\u4f4d\u7f6e\u5427"),clearTimeout(e);var n=t.timeoutArr.indexOf(e);t.timeoutArr.splice(n,1)},500);this.timeoutArr.push(e),this.pointBtn.node.on(cc.Node.EventType.TOUCH_START,function(){l.AudioManager.getInstance().playSound("sfx_buttn",!1);for(var e=0;e<t.timeoutArr.length;++e)clearTimeout(t.timeoutArr[e]);for(e=0;e<t.num;++e){if(1==t.horArr[e])for(var n=0;n<t.itemNodeArr.length;n++)n%t.num==e&&(t.itemNodeArr[n].getChildByName("point").active=!0);if(1==t.verArr[e])for(n=0;n<t.itemNodeArr.length;n++)e==Math.floor(n/t.num)&&(t.itemNodeArr[n].getChildByName("point").active=!0)}}),this.pointBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){var n=setTimeout(function(){for(var e=0;e<t.itemNodeArr.length;e++)t.itemNodeArr[e].getChildByName("point").active=!1;clearTimeout(n);var r=t.timeoutArr.indexOf(n);t.timeoutArr.splice(r,1)},2e3);t.timeoutArr.push(n)}),this.pointBtn.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var n=setTimeout(function(){for(var e=0;e<t.itemNodeArr.length;e++)t.itemNodeArr[e].getChildByName("point").active=!1;clearTimeout(n);var r=t.timeoutArr.indexOf(n);t.timeoutArr.splice(r,1)},2e3);t.timeoutArr.push(n)}),c.default.getInstance().addEvent("end_game",this.onEndGame.bind(this))},e.prototype.onEndGame=function(){c.default.isRepeatReport&&(c.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),c.default.isRepeatReport=!1),c.default.getInstance().dispatchEvent("end_finished",{eventType:"activity",eventValue:this.isOver})},e.prototype.onDestroy=function(){for(var t in this.timeoutArr)clearTimeout(this.timeoutArr[t])},e.prototype.onShow=function(){},e.prototype.setPanel=function(){switch(this.type){case 1:this.initSizeInfo(4);break;case 2:this.initSizeInfo(5);break;case 3:this.initSizeInfo(6)}this.setMaterial(this.material),this.setBoard(this.board)},e.prototype.initSizeInfo=function(t){this.num=t;this.sizeInfo.title.width=this.sizeInfo.square.width=this.sizeInfo.square.height=900/(t+.5)-4,this.sizeInfo.title.height=this.sizeInfo.title.width/2-4,this.sizeInfo.spaceLong=900/(t+.5),this.sizeInfo.spaceShort=this.sizeInfo.spaceLong/2},e.prototype.addListenerOnItem=function(t){for(var e=this,n=function(n){var r=t[n];r.on(cc.Node.EventType.TOUCH_START,function(t){for(var o=0;o<e.itemNodeArr.length;o++)e.itemNodeArr[o].getChildByName("point").active=!1;l.AudioManager.getInstance().playSound("sfx_buttn"),e.isOver=2,e.eventvalue.result=2,e.eventvalue.levelData[0].result=2,e.eventvalue.levelData[0].subject=e.subject,e.changeState(r,n)}),r.on(cc.Node.EventType.TOUCH_END,function(t){}),r.on(cc.Node.EventType.TOUCH_CANCEL,function(t){})},r=0;r<t.length;++r)n(r)},e.prototype.removeListenerOnItem=function(t){for(var e=0;e<t.length;++e){var n=t[e];n.off(cc.Node.EventType.TOUCH_START),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_CANCEL)}},e.prototype.setState=function(t,e){var n=t.getChildByName("normal"),r=t.getChildByName("right"),o=t.getChildByName("wrong");"normal"==e?(n.active=!0,r.active=!1,o.active=!1):"right"==e?(n.active=!1,r.active=!0,o.active=!1):"wrong"==e&&(n.active=!1,r.active=!1,o.active=!0)},e.prototype.changeState=function(t,e){var n=t.getChildByName("normal"),r=t.getChildByName("right"),o=t.getChildByName("wrong");if(n.active)this.subject.push(e),this.change(r,n);else if(r.active){var i=this.subject.indexOf(e);this.subject.splice(i,1),this.change(o,r)}else o.active&&this.change(n,o);this.checkTitle()},e.prototype.change=function(t,e){t.opacity=0,t.setScale(0),t.active=!0;var n=cc.fadeIn(.1),r=cc.scaleTo(.1,1),o=cc.spawn(n,r),i=cc.callFunc(function(){e.active=!1}),a=cc.sequence(o,i);t.runAction(a.clone())},e.prototype.checkTitle=function(){for(var t=[],e=[],n=0,r=0,o=0;o<this.num;++o)t.push(0),e.push(0);for(o=0;o<this.num;++o)for(var i=0;i<this.num;++i){var a=o*this.num+i;this.itemNodeArr[a].getChildByName("right").active&&(this.itemNodeArr[a].getChildByName("wrong").active||(t[i]++,e[o]++),0)}for(o=0;o<this.num;++o)this.horArr[o]==t[o]&&0!=this.horArr[o]?(this.horizonTitleArr[o].getChildByName("label").color=this.sizeInfo.lightGray,this.horizonTitleArr[o].getComponent(cc.Sprite).spriteFrame=this.grayFrame,r++):(this.horizonTitleArr[o].getChildByName("label").color=this.sizeInfo.deepBlue,this.horizonTitleArr[o].getComponent(cc.Sprite).spriteFrame=this.blueFrame),this.verArr[o]==e[o]&&0!=this.verArr[o]?(this.VerticalTitleArr[o].getChildByName("label").color=this.sizeInfo.lightGray,this.VerticalTitleArr[o].getComponent(cc.Sprite).spriteFrame=this.grayFrame,r++):(this.VerticalTitleArr[o].getChildByName("label").color=this.sizeInfo.deepBlue,this.VerticalTitleArr[o].getComponent(cc.Sprite).spriteFrame=this.blueFrame),0!=this.horArr[o]&&n++,0!=this.verArr[o]&&n++;for(o=0;o<this.num;++o)this.horizonTitleArr[o];return n==r},e.prototype.setTitle=function(){for(var t=[],e=[],n=0;n<this.num;++n)t.push(0),e.push(0);for(n=0;n<this.num;++n)for(var r=0;r<this.num;++r){var o=n*this.num+r;5!=this.itemArr[o]&&(t[r]++,e[n]++,this.answer.push(o))}this.eventvalue.levelData[0].answer=this.answer.slice(),this.horArr=t.slice(),this.verArr=e.slice();for(n=0;n<this.num;++n)0!=t[n]&&0!=e[n]&&t[n]!=this.num&&e[n]!=this.num||(this.pointBtn.node.active=!1),this.horizonTitleArr[n].getChildByName("label").getComponent(cc.Label).string=t[n],this.VerticalTitleArr[n].getChildByName("label").getComponent(cc.Label).string=e[n]},e.prototype.setBoard=function(t){this.horizonTitleArr=[],this.VerticalTitleArr=[],this.itemNodeArr=[];for(var e=this.num+1,n=0;n<e;++n)for(var r=0;r<e;++r)if(0==n&&r!=e-1){(a=cc.instantiate(this.titlePrefab)).width=this.sizeInfo.title.width,a.height=this.sizeInfo.title.height;var o=(r+.5)*this.sizeInfo.spaceLong,i=1*-this.sizeInfo.spaceShort/2;a.setPosition(cc.v2(o,i)),this.board.addChild(a),this.horizonTitleArr[r]=a}else if(r==e-1&&0!=n){(a=cc.instantiate(this.titlePrefab)).width=this.sizeInfo.title.width,a.height=this.sizeInfo.title.height,a.angle=90,a.getChildByName("label").angle=-90;o=this.num*this.sizeInfo.spaceLong+this.sizeInfo.spaceShort/2,i=-(n-.5)*this.sizeInfo.spaceLong-this.sizeInfo.spaceShort;a.setPosition(cc.v2(o,i)),this.board.addChild(a),this.VerticalTitleArr[n-1]=a}else if(0==n&&r==e-1){(a=cc.instantiate(this.littleTitlePrefab)).width=this.sizeInfo.title.height,a.height=this.sizeInfo.title.height;o=this.num*this.sizeInfo.spaceLong+this.sizeInfo.spaceShort/2,i=-this.sizeInfo.spaceShort/2;a.setPosition(cc.v2(o,i)),this.board.addChild(a)}else{var a;(a=cc.instantiate(this.bigItemPrefab)).setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("normal").setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("point").setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("wrong").setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("right").setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("sprite").setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),a.getChildByName("box").setContentSize(cc.size(this.sizeInfo.square.width+5,this.sizeInfo.square.height+5));o=(r+.5)*this.sizeInfo.spaceLong,i=-(n-.5)*this.sizeInfo.spaceLong-this.sizeInfo.spaceShort;a.setPosition(cc.v2(o,i)),t.addChild(a),this.itemNodeArr.push(a)}this.setTitle(),this.addListenerOnItem(this.itemNodeArr)},e.prototype.getPartner=function(t,e){var n=[];n.push(t);for(var r=n.length,o=!1;!o;){for(var i in r=n.length,e)for(var a in n){var c=parseInt(i);if(e[i]==e[t]&&-1==n.indexOf(c)&&this.groupNumArr[c]==this.groupNumArr[t]){var s=n[a];-1!=[s-1,s+1,s+this.num,s-this.num].indexOf(c)&&n.push(c)}}r==n.length&&(o=!0)}for(var i in n)e[n[i]]=5;return n},e.prototype.setMaterial=function(t){var e=this.itemArr.slice();for(var n in this.groupArr=[],e)if(5!=e[n]){var r=this.getPartner(parseInt(n),e);this.groupArr.push(r)}for(var n in this.groupArr){var o=parseInt(n),i=this.getSpriteframe(this.itemArr[this.groupArr[n][0]],1),a=this.createGroup(this.groupArr[n],i);this.groupNodeArr[o]=a;var c=this.groupArr[o][0],s=this.xArr[c],l=this.yArr[c],u=this.rotationArr[c];a.angle=u;for(var p=0;p<a.children.length;++p)a.children[p].angle=-u;a.setPosition(cc.v2(s,l)),t.addChild(a)}},e.prototype.createGroup=function(t,e){var n=[],r=[];for(var o in t){var i=Math.floor(t[o]/this.num),a=t[o]%this.num,c=parseInt(o);n[c]=i,r[c]=a}var s=Math.max.apply(Math,n),l=Math.min.apply(Math,n),u=Math.max.apply(Math,r),p=Math.min.apply(Math,r),h=s-l+1,f=u-p+1,d=new cc.Node;d.width=105*f,d.height=105*h;for(var g=0;g<t.length;++g){var y=109*-(n[g]-l-h/2+.5),v=109*(r[g]-p-f/2+.5),m=cc.instantiate(this.itemPrefab);m.getChildByName("bg").active=!1,m.getChildByName("wb").active=!1,m.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=e,d.addChild(m),m.setPosition(cc.v2(v,y))}return d},e.prototype.getSpriteframe=function(t,e){switch(t){case 0:if(1==e)return this.frame1;if(2==e)return this.Bframe1;break;case 1:if(1==e)return this.frame2;if(2==e)return this.Bframe2;break;case 2:if(1==e)return this.frame3;if(2==e)return this.Bframe3;break;case 3:if(1==e)return this.frame4;if(2==e)return this.Bframe4;break;case 4:if(1==e)return this.frame5;if(2==e)return this.Bframe5;break;case 5:return null;case 6:if(1==e)return this.frame6;if(2==e)return this.Bframe6;break;case 7:if(1==e)return this.frame7;if(2==e)return this.Bframe7;break;case 8:if(1==e)return this.frame8;if(2==e)return this.Bframe8;break;case 9:if(1==e)return this.frame9;if(2==e)return this.Bframe9;break;case 10:if(1==e)return this.frame10;if(2==e)return this.Bframe10;break;default:console.error("\u83b7\u53d6\u5b9d\u85cf\u7eb9\u7406\u5931\u8d25")}},e.prototype.oceanWave=function(t,e){var n=this;e.opacity=0;var r=cc.moveBy(1,cc.v2(50,0)),o=cc.moveBy(2,cc.v2(-50,0)),i=cc.fadeIn(1),a=cc.fadeOut(2),c=cc.spawn(r,i),s=cc.spawn(o,a),l=cc.sequence(c,s),u=cc.repeatForever(l),p=setTimeout(function(){e.runAction(u.clone());var t=n.timeoutArr.indexOf(p);n.timeoutArr.splice(t,1),clearTimeout(p)},1e3);this.timeoutArr.push(p),t.runAction(u)},e.prototype.onBtnSubmitClick=function(){var t=this;if(l.AudioManager.getInstance().playSound("sfx_buttn",!1),this.checkTitle()){var e=0;for(A=0;A<this.subject.length;++A)-1!=this.answer.indexOf(this.subject[A])&&e++;if(e==this.answer.length){this.isOver=1,this.eventvalue.result=1,this.eventvalue.levelData[0].result=1,c.default.getInstance().dispatchEvent("addLog",{eventType:"clickSubmit",eventValue:JSON.stringify(this.eventvalue)}),p.DaAnData.getInstance().submitEnable=!0,this.mask.on(cc.Node.EventType.TOUCH_START,function(){}),this.pointBtn.interactable=!1,this.refreshBtn.interactable=!1,this.removeListenerOnItem(this.itemNodeArr);for(A=0;A<this.itemNodeArr.length;++A)if(5!=this.itemArr[A]){var n=this.itemNodeArr[A].getChildByName("sprite");n.getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(this.itemArr[A],2),n.setContentSize(cc.size(this.sizeInfo.square.width,this.sizeInfo.square.height)),n.active=!0,n.setScale(0),n.opacity=0;var r=cc.fadeIn(.1),o=cc.scaleTo(.1,1),i=cc.spawn(r,o),a=cc.delayTime(.5),u=cc.sequence(a,i);n.runAction(u);var h=this.itemNodeArr[A].getChildByName("spine");h.active=!0,h.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),l.AudioManager.getInstance().playSound("sfx_shvdimt")}var f=setTimeout(function(){s.UIHelp.showOverTip(2,"\u4f60\u771f\u68d2\uff0c\u7b49\u7b49\u8fd8\u6ca1\u505a\u5b8c\u7684\u540c\u5b66\u5427\u3002",null,"\u6311\u6218\u6210\u529f");var e=t.timeoutArr.indexOf(f);t.timeoutArr.splice(e,1),clearTimeout(f)},2e3);this.timeoutArr.push(f)}else{this.laba.setAnimation(0,"null",!0),l.AudioManager.getInstance().stopAll(),l.AudioManager.getInstance().playSound("\u554a\u54e6~\u548c\u76ee\u6807\u56fe\u6848\u5f62\u72b6\u4e0d\u4e00\u6837\u54df",!1),this.mask.on(cc.Node.EventType.TOUCH_START,function(){});var d=[],g=[];for(A=0;A<this.itemNodeArr.length;++A)this.itemNodeArr[A].getChildByName("right").active&&-1==this.answer.indexOf(A)&&d.push(this.itemNodeArr[A]);for(A=0;A<this.answer.length;++A)if(-1==this.subject.indexOf(this.answer[A]))for(b=0;b<this.groupArr.length;++b)-1!=this.groupArr[b].indexOf(this.answer[A])&&-1==g.indexOf(this.groupArr[b])&&g.push(this.groupArr[b]);for(A=0;A<g.length;++A)for(b=0;b<g[A].length;++b)this.itemNodeArr[g[A][b]].getChildByName("right").active&&d.push(this.itemNodeArr[g[A][b]]);var y=function(t){var e=d[t].getChildByName("box");d[t].getChildByName("spine");e.active=!0,e.opacity=0;var n=cc.delayTime(.5),r=cc.fadeIn(.5),o=cc.fadeOut(.5),i=cc.callFunc(function(){e.active=!1}),a=cc.sequence(n,r,o,r,o,r,o,i);e.stopAllActions(),e.runAction(a)};for(A=0;A<d.length;++A)y(A);var v=setTimeout(function(){t.mask.off(cc.Node.EventType.TOUCH_START),clearTimeout(v);var e=t.timeoutArr.indexOf(v);t.timeoutArr.splice(e,1)},3500);this.timeoutArr.push(v);for(A=0;A<this.answer.length;++A)if(-1==this.subject.indexOf(this.answer[A]))for(b=0;b<this.groupArr.length;b++)if(-1!=this.groupArr[b].indexOf(this.answer[A])){a=cc.delayTime(.5),r=cc.fadeIn(.5);var m=cc.fadeOut(.5);u=cc.sequence(a,m,r,m,r,m,r);this.groupNodeArr[b].stopAllActions(),this.groupNodeArr[b].runAction(u)}}}else{this.mask.on(cc.Node.EventType.TOUCH_START,function(){}),this.laba.setAnimation(0,"null",!0),l.AudioManager.getInstance().stopAll(),l.AudioManager.getInstance().playSound("\u554a\u54e6\uff0c\u5b9d\u85cf\u6570\u91cf\u4e0d\u6b63\u786e\u54e6");for(var _=[],I=[],A=0;A<this.num;++A)_.push(0),I.push(0);for(var A=0;A<this.num;++A)for(var b=0;b<this.num;++b){var T=A*this.num+b;this.itemNodeArr[T].getChildByName("right").active&&(this.itemNodeArr[T].getChildByName("wrong").active||(_[b]++,I[A]++))}for(var O=function(t){if(N.horArr[t]!=_[t]){var e=cc.instantiate(N.boxPrefab);e.width=N.sizeInfo.spaceLong,e.height=N.sizeInfo.spaceLong*N.num+N.sizeInfo.spaceShort;var n=(t+.5)*N.sizeInfo.spaceLong,r=-e.height/2;e.setPosition(cc.v2(n,r)),N.board.addChild(e);var o=cc.fadeIn(.5),i=cc.fadeOut(.5),a=cc.callFunc(function(){e.removeFromParent()}),c=cc.sequence(o,i,o,i,o,i,a);e.stopAllActions(),e.runAction(c)}if(N.verArr[t]!=I[t]){var s=cc.instantiate(N.boxPrefab);s.width=N.sizeInfo.spaceLong*N.num+N.sizeInfo.spaceShort,s.height=N.sizeInfo.spaceLong;n=s.width/2,r=-N.sizeInfo.spaceShort-(t+.5)*N.sizeInfo.spaceLong;s.setPosition(cc.v2(n,r)),N.board.addChild(s);o=cc.fadeIn(.5),i=cc.fadeOut(.5),a=cc.callFunc(function(){s.removeFromParent()}),c=cc.sequence(o,i,o,i,o,i,a);s.stopAllActions(),s.runAction(c)}},N=this,A=0;A<this.num;++A)O(A);var M=setTimeout(function(){t.mask.off(cc.Node.EventType.TOUCH_START),clearTimeout(M);var e=t.timeoutArr.indexOf(M);t.timeoutArr.splice(e,1)},3500);this.timeoutArr.push(M)}},e.prototype.onBtnRefreshClick=function(){var t=this;l.AudioManager.getInstance().playSound("sfx_buttn",!1),s.UIHelp.AffirmTip(1,"\u4f60\u786e\u5b9a\u8981\u6e05\u695a\u6240\u6709\u64cd\u4f5c\u4e48\uff1f",function(){for(var e=0;e<t.itemNodeArr.length;++e)t.setState(t.itemNodeArr[e],"normal");t.subject=[],t.checkTitle()})},e.prototype.getNet=function(){a.NetWork.getInstance().httpRequest(a.NetWork.GET_QUESTION+"?courseware_id="+a.NetWork.courseware_id,"GET","application/json;charset=utf-8",function(t,e){if(t)this.setPanel();else{var n=e;if(Array.isArray(n.data))return void this.setPanel();var r=JSON.parse(n.data.courseware_content);null!=r&&(r.type?this.type=r.type:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636etype\u4e3a\u7a7a\u3002"),r.itemArr?this.itemArr=r.itemArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636eitemArr\u4e3a\u7a7a\u3002"),r.xArr?this.xArr=r.xArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636exArr\u4e3a\u7a7a\u3002"),r.yArr?this.yArr=r.yArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636eyArr\u4e3a\u7a7a\u3002"),r.rotationArr?this.rotationArr=r.rotationArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636erotationAarr\u4e3a\u7a7a\u3002"),this.setPanel())}}.bind(this),null)},e.className="GamePanel",o([y(cc.Node)],e.prototype,"mask",void 0),o([y(cc.Node)],e.prototype,"bg",void 0),o([y(cc.Node)],e.prototype,"labaBoundingBox",void 0),o([y(sp.Skeleton)],e.prototype,"laba",void 0),o([y(cc.Node)],e.prototype,"wave1",void 0),o([y(cc.Node)],e.prototype,"wave2",void 0),o([y(cc.Node)],e.prototype,"material",void 0),o([y(cc.Node)],e.prototype,"board",void 0),o([y(cc.Button)],e.prototype,"refreshBtn",void 0),o([y(cc.Button)],e.prototype,"submitBtn",void 0),o([y(cc.Button)],e.prototype,"pointBtn",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame1",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame2",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame3",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame4",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame5",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame6",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame7",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame8",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame9",void 0),o([y(cc.SpriteFrame)],e.prototype,"frame10",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe1",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe2",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe3",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe4",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe5",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe6",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe7",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe8",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe9",void 0),o([y(cc.SpriteFrame)],e.prototype,"Bframe10",void 0),o([y(cc.SpriteFrame)],e.prototype,"grayFrame",void 0),o([y(cc.SpriteFrame)],e.prototype,"blueFrame",void 0),o([y(cc.SpriteFrame)],e.prototype,"greenFrame",void 0),o([y(cc.Prefab)],e.prototype,"itemPrefab",void 0),o([y(cc.Prefab)],e.prototype,"bigItemPrefab",void 0),o([y(cc.Prefab)],e.prototype,"titlePrefab",void 0),o([y(cc.Prefab)],e.prototype,"littleTitlePrefab",void 0),o([y(cc.Prefab)],e.prototype,"boxPrefab",void 0),e=o([g],e)}(i.BaseUI);n.default=v,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./UploadAndReturnPanel":"UploadAndReturnPanel"}],ListenerManager:[function(t,e,n){"use strict";cc._RF.push(e,"05dc2tRAiFMobMbxaPK4NIf","ListenerManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n){void 0===n&&(n=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=n}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!0,configurable:!0}),t}();n.Delegate=r;var o=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,n){return null!==this.find(t,e,n)},t.prototype.trigger=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!t)return console.error("Listener type is null!"),!1;var o=[],i=[],a=this.mListenerMap.get(t);a&&(a.forEach(function(t,e){for(var n=0,r=t;n<r.length;n++){var c=r[n];o.push(c),i.push(e)}for(var s=t.length-1;s>=0;--s)t[s].isOnce&&t.splice(s,1);t.length<=0&&a.delete(e)}),a.size<=0&&this.mListenerMap.delete(t));for(var c=o.length,s=0;s<c;s++){var l=o[s];(e=l.listener).call.apply(e,[i[s]].concat(l.argArray,n))}return c>0},t.prototype.add=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this.addListener.apply(this,[t,e,n,!1].concat(r))},t.prototype.addOnce=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this.addListener.apply(this,[t,e,n,!0].concat(r))},t.prototype.remove=function(t,e,n,r){this.removeBy(function(o,i,a){return(!t||t===o)&&((!e||e===i)&&((!n||n===a.listener)&&!(r&&!a.isOnce)))})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(n,r){n.delete(t),n.size<=0&&e.mListenerMap.delete(r)})},t.prototype.addListener=function(t,e,n,o){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var c=this.find(t,e,n);if(c)c.isOnce=o,console.error("Listener is already exist!");else{var s=new r(n,i,o);this.mListenerMap.get(t).get(e).push(s)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(n,r){n.forEach(function(e,o){for(var i=e.length-1;i>=0;--i){var a=e[i];t(r,o,a)&&e.splice(i,1)}e.length<=0&&n.delete(o)}),n.size<=0&&e.mListenerMap.delete(r)})},t.prototype.find=function(t,e,n){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!n)return console.error("Listener is null!"),null;var r,o;this.mListenerMap.has(t)?r=this.mListenerMap.get(t):(r=new Map,this.mListenerMap.set(t,r)),r.has(e)?o=r.get(e):(o=[],r.set(e,o));for(var i=0,a=o;i<a.length;i++){var c=a[i];if(c.mListener===n)return c}return null},t}();n.ListenerManager=o,cc._RF.pop()},{}],ListenerType:[function(t,e,n){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","ListenerType"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.Test="Test",t.GameStart="GameStart",t.UpdateMainUI="UpdateMainUI",t.LoopUpdate="LoopUpdate",t.OnEndOfInput="OnEndOfInput",t.OnDaAnShanChu="OnDaAnShanChu",t.OnDaAnZengJia="OnDaAnZengJia",t.OnEditStateSwitching="OnEditStateSwitching",t}();n.ListenerType=r,cc._RF.pop()},{}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"cf8a66RO2hJWJN7q1dt4/zn","LoadingUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Data/ConstValue"),c=t("./TeacherPanel"),s=t("./GamePanel"),l=t("../../Manager/UIManager"),u=t("../../Http/NetWork"),p=t("../../Data/DataReporting"),h=t("../../Manager/TimeManager"),f=cc._decorator,d=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.progressLabel=null,e.dragonNode=null,e.isLoadStart=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;u.NetWork.getInstance().GetRequest();p.default.getInstance().dispatchEvent("load start");var e=a.ConstValue.IS_TEACHER?c.default:s.default;l.UIManager.getInstance().openUI(e,null,0,function(){u.NetWork.getInstance().LogJournalReport("ResLoadEnd",{curTime:h.TimeManager.getInstance().getNowFormatDate()}),p.default.getInstance().dispatchEvent("load end"),p.default.getInstance().dispatchEvent("start"),t.node.active=!1},function(e,n,r){t.isLoadStart||(t.isLoadStart=!0,u.NetWork.getInstance().LogJournalReport("ResLoadStart",{curTime:h.TimeManager.getInstance().getNowFormatDate()})),t.progressBar.progress=e/n;var o=Math.round(e/n*100);p.default.getInstance().dispatchEvent("loading",o),t.progressLabel.string=o.toString()+"%";var i=e/n*609-304;t.dragonNode.x=i})},e.className="LoadingUI",o([g(cc.ProgressBar)],e.prototype,"progressBar",void 0),o([g(cc.Label)],e.prototype,"progressLabel",void 0),o([g(cc.Node)],e.prototype,"dragonNode",void 0),e=o([d],e)}(i.BaseUI);n.LoadingUI=y,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DataReporting":"DataReporting","../../Http/NetWork":"NetWork","../../Manager/TimeManager":"TimeManager","../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI","./GamePanel":"GamePanel","./TeacherPanel":"TeacherPanel"}],LogWrap:[function(t,e,n){"use strict";cc._RF.push(e,"615f7lsxLNDWJSqVJoRIFW3","LogWrap"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),o=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),n="";return n+=(1==e.length?"0"+e:e)+":",n+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",n+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),n="["+(n+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var n=[];e.forEach(function(t){var e,r=(t=t.substring(7)).split(" ");r.length<2?n.push(r[0]):n.push(((e={})[r[0]]=r[1],e))});var r=[];if(t<n.length-1)for(var o in n[t])r.push(o);var i=r[0].split(".");return i[0]+".js->"+i[1]+": "},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;r.ConstValue.IS_EDITIONS||o.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;r.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;r.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=console.log||cc.log;r.ConstValue.IS_EDITIONS||o.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();n.LogWrap=o,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}],MathExtension:[function(t,e,n){"use strict";cc._RF.push(e,"81407Q2vf9Ezor3KOYrFKb8","MathExtension"),Math.randomRangeInt=function(t,e){var n=Math.random();return 1===n&&(n-=Number.EPSILON),t+Math.floor(n*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],MathUtils:[function(t,e,n){"use strict";cc._RF.push(e,"aa960SepSxHGal1p7xVIQi8","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getAngle=function(t){return 180*t/Math.PI},t.prototype.getRadian=function(t){return t/180*Math.PI},t.prototype.getRadian2=function(t,e,n,r){var o=n-t,i=r-e;return Math.atan2(i,o)},t.prototype.getDistance=function(t,e){var n=e.x-t.x,r=e.y-t.y,o=n*n+r*r;return Math.sqrt(o)},t.prototype.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.prototype.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t.prototype.SagPoint=function(t,e,n,r){var o=(n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y),i=((t-n.x)*(r.x-n.x)+(e-n.y)*(r.y-n.y))/o,a=n.x+i*(r.x-n.x),c=n.y+i*(r.y-n.y);return new cc.Vec2(a,c)},t.prototype.extendedLinePoint=function(t,e,n){var r,o,i;return r=this.getDistance(t,e),e.x>t.x&&e.y>t.y?(o=n/r*Math.abs(t.x-e.x)+e.x,i=n/r*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y>t.y?(o=-n/r*Math.abs(t.x-e.x)+e.x,i=n/r*Math.abs(t.y-e.y)+e.y):e.x<t.x&&e.y<t.y?(o=-n/r*Math.abs(t.x-e.x)+e.x,i=-n/r*Math.abs(t.y-e.y)+e.y):e.x>t.x&&e.y<t.y&&(o=n/r*Math.abs(t.x-e.x)+e.x,i=-n/r*Math.abs(t.y-e.y)+e.y),new cc.Vec2(o,i)},t.prototype.getTwoPointsRadian1=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),o=r/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),i=Math.acos(o),a=Math.floor(180/(Math.PI/i));return e.x>t.x&&e.y<t.y&&(a=180-a),e.x==t.x&&e.y>t.y&&(a=180),e.x>t.x&&e.y==t.y&&(a=90),e.x<t.x&&e.y<t.y&&(a=180+a),e.x<t.x&&e.y==t.y&&(a=270),e.x<t.x&&e.y>t.y&&(a=360-a),a},t.prototype.getTwoPointsRadian2=function(t,e){var n=t.x-e.x,r=t.y-e.y;return-180*Math.atan2(r,n)/Math.PI-90},t.prototype.fingCrossPoint=function(t,e,n,r){var o=e.y-t.y,i=t.x-e.x,a=t.x*e.y-e.x*t.y,c=r.y-n.y,s=n.x-r.x,l=n.x*r.y-r.x*n.y,u=o*s-c*i;if(0==u)return null;var p=(a*s-l*i)/u,h=(o*l-c*a)/u;return new cc.Vec2(Math.floor(p),Math.floor(h))},t.prototype.accAdd=function(t,e){var n,r,o=0,i=0;try{o=t.toString().split(".")[1].length}catch(t){o=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}if(r=Math.abs(o-i),n=Math.pow(10,Math.max(o,i)),r>0){var a=Math.pow(10,r);o>i?(t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""))*a):(t=Number(t.toString().replace(".",""))*a,e=Number(e.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""));return(t+e)/n},t.prototype.accSub=function(t,e){var n,r=0,o=0;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return((t*(n=Math.pow(10,Math.max(r,o)))-e*n)/n).toFixed(r>=o?r:o)},t.prototype.accMul=function(t,e){var n=0,r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},t.prototype.accDiv=function(t,e){var n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,r-n)},t}();n.MathUtils=r,cc._RF.pop()},{}],NetWork:[function(t,e,n){"use strict";cc._RF.push(e,"9cd01aQNbFMUY4sUMN0yYH5","NetWork"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/ConstValue"),o=t("../Manager/UIManager"),i=t("../UI/panel/ErrorPanel"),a=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.httpRequest=function(e,n,a,c,s){if(void 0===c&&(c=null),void 0===s&&(s=""),!r.ConstValue.IS_TEACHER||t.title_id)if(r.ConstValue.IS_TEACHER||t.courseware_id&&t.user_id){var l=new XMLHttpRequest;l.open(n,e),l.timeout=1e4,l.setRequestHeader("Content-Type",a),l.withCredentials=!0,l.onreadystatechange=function(){if(console.log("httpRequest rsp status",l.status,"        xhr.readyState",l.readyState,"        xhr.responseText",l.responseText),4==l.readyState&&l.status>=200&&l.status<=400){var u=JSON.parse(l.responseText);c&&0==u.errcode?c(!1,u):r.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(i.default,null,1e3,function(){o.UIManager.getInstance().getUI(i.default).setPanel(u.errmsg+",\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a",function(){t.getInstance().httpRequest(e,n,a,c,s)},!1)})}},l.ontimeout=function(l){r.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(i.default,null,1e3,function(){o.UIManager.getInstance().getUI(i.default).setPanel("\u7f51\u7edc\u4e0d\u4f73\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,a,c,s)},!0)}),console.log("httpRequest timeout"),c&&c(!0,null)},l.onerror=function(l){r.ConstValue.IS_EDITIONS&&o.UIManager.getInstance().openUI(i.default,null,1e3,function(){o.UIManager.getInstance().getUI(i.default).setPanel("\u7f51\u7edc\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","\u82e5\u91cd\u65b0\u8fde\u63a5\u65e0\u6548\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d","","\u91cd\u65b0\u8fde\u63a5",function(){t.getInstance().httpRequest(e,n,a,c,s)},!0)}),console.log("httpRequest error"),c&&c(!0,null)},l.send(s)}else o.UIManager.getInstance().openUI(i.default,null,1e3,function(){o.UIManager.getInstance().getUI(i.default).setPanel("\u5f02\u5e38\u7f16\u53f7\u4e3a001,\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01","","","\u786e\u5b9a")});else o.UIManager.getInstance().openUI(i.default,null,1e3,function(){o.UIManager.getInstance().getUI(i.default).setPanel("URL\u53c2\u6570\u9519\u8bef,\u8bf7\u8054\u7cfb\u6280\u672f\u4eba\u5458\uff01","","","\u786e\u5b9a")})},t.prototype.GetRequest=function(){if(null!=t.theRequest)return t.theRequest;t.theRequest=new Object;var e=location.search;if(-1!=e.indexOf("?"))for(var n=e.substr(1).split("&"),r=0;r<n.length;r++)t.theRequest[n[r].split("=")[0]]=decodeURIComponent(n[r].split("=")[1]);return t.courseware_id=t.theRequest.id,t.title_id=t.theRequest.title_id,t.user_id=t.theRequest.user_id,t.empty=t.theRequest.empty,t.isLive=t.theRequest.isLive,this.LogJournalReport("CoursewareLogEvent",""),console.log("-----",t.courseware_id,"           ",t.theRequest.id,"           ",JSON.stringify(t.theRequest)),t.theRequest},t.prototype.GetIsOnline=function(){return window.isOnline},t.prototype.LogJournalReport=function(e,n){r.ConstValue.IS_EDITIONS&&((new Image).src=(t.isOnlineEnv?"https://logserver.haibian.com/statistical/?type=7&":"https://ceshi-statistical.haibian.com/?type=7&")+"course_id="+this.GetRequest().id+"&chapter_id="+this.GetRequest().chapter_id+"&user_id="+this.GetRequest().user_id+"&subject="+this.GetRequest().subject+"&event="+e+"&identity=1&extra="+JSON.stringify({url:location,CoursewareKey:r.ConstValue.CoursewareKey,empty:this.GetRequest().empty,CoursewareName:"wabaozang",data:n}))},t.isOnlineEnv=location.host.indexOf("ceshi-")<0&&location.host.indexOf("localhost")<0&&1==t.getInstance().GetIsOnline(),t.isProtocol=/http:/.test(window.location.protocol),t.isLocal=/localhost/.test(window.location.href)||t.isProtocol,t.isOwcr="owcr:"==location.protocol||"file:"==location.protocol,t.BASE=t.isOnlineEnv?"https://courseware.haibian.com":t.isLocal?"http://ceshi.courseware.haibian.com":"https://ceshi_courseware.haibian.com",t.GET_QUESTION=t.BASE+"/get",t.GET_USER_PROGRESS=t.BASE+"/get/answer",t.GET_TITLE=t.BASE+"/get/title",t.ADD=t.BASE+"/add",t.MODIFY=t.BASE+"/modify",t.CLEAR=t.BASE+"/clear",t.courseware_id=null,t.title_id=null,t.user_id=null,t.empty=!1,t.chapter_id=null,t.subject=null,t.isLive=null,t.theRequest=null,t}();n.NetWork=a,cc._RF.pop()},{"../Data/ConstValue":"ConstValue","../Manager/UIManager":"UIManager","../UI/panel/ErrorPanel":"ErrorPanel"}],OverTips:[function(t,e,n){"use strict";cc._RF.push(e,"d402btyepNJObcDSUkLUQcr","OverTips");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../UIComm/Tools"),c=t("../../Manager/UIManager"),s=t("../../Manager/AudioManager");(function(t){t[t.ZuoDaJieShu=0]="ZuoDaJieShu",t[t.ChuangGuanChengGong=1]="ChuangGuanChengGong",t[t.TiaoZhanJieShu=2]="TiaoZhanJieShu",t[t.TiaoZhanChengGong=3]="TiaoZhanChengGong",t[t.ChuangGuanJieShu=4]="ChuangGuanJieShu"})(n.Type_Tile||(n.Type_Tile={})),n.DefalutTitle=["\u4f5c\u7b54\u7ed3\u675f","\u95ef\u5173\u6210\u529f","\u6311\u6218\u7ed3\u675f","\u6311\u6218\u6210\u529f","\u95ef\u5173\u7ed3\u675f"];var l={"\u4f5c":"img_zuo","\u7b54":"img_da","\u7ed3":"img_jie","\u675f":"img_shu","\u6210":"img_cheng","\u529f":"img_gong","\u6311":"img_tiao","\u6218":"img_zhan","\u95ef":"img_chuang","\u5173":"img_guan"},u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=t.call(this)||this;return e.label_tip=null,e.spine_false=null,e.spine_true=null,e.spine_complete=null,e.node_close=null,e.callback=null,e.endInAnimation=!1,e.img_titles=[],e.bones=[],e}var i;return r(e,t),i=e,e.prototype.onLoad=function(){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(t,e){})},e.prototype.start=function(){this.node_close.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.onDisable=function(){this.node_close.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this)},e.prototype.init=function(t,e,r,o){switch(void 0===e&&(e=""),this.callback=r,this.spine_false.node.active=0==t,this.spine_true.node.active=1==t,this.spine_complete.node.active=2==t,this.label_tip.string=e,this.label_tip.node.active=!0,t){case 0:a.Tools.playSpine(this.spine_false,"false",!1,this.delayClose.bind(this)),s.AudioManager.getInstance().playSound("sfx_genneg",!1,1);break;case 1:a.Tools.playSpine(this.spine_true,"true",!1,this.delayClose.bind(this)),s.AudioManager.getInstance().playSound("sfx_genpos",!1,1);break;case 2:if(this.spine_complete.node.active=!1,o||(o=n.DefalutTitle[0]),4!=o.length)return;this.bones=[],this.bones.push(this.spine_complete.findBone("paipai")),this.bones.push(this.spine_complete.findBone("xiaoU")),this.bones.push(this.spine_complete.findBone("mimiya")),this.bones.push(this.spine_complete.findBone("doudou"));for(var i=0;i<4;i++)this.createTitleImage(o[i])}var c=this.label_tip.node.position,l=cc.v2(c.x,c.y-72.8),u=cc.v2(c.x,c.y+12),p=cc.v2(c.x,c.y-8),h=cc.v2(c.x,c.y+7.3);this.label_tip.node.position=l,this.label_tip.node.runAction(cc.sequence(cc.moveTo(.08,u),cc.moveTo(.08,p),cc.moveTo(.08,h),cc.moveTo(.06,c)))},e.prototype.delayClose=function(){this.scheduleOnce(function(){this.onClickClose()}.bind(this),0)},e.prototype.onClickClose=function(t,e){t&&s.AudioManager.getInstance().playSound("sfx_buttn",!1,1),this.callback&&this.callback(),c.UIManager.getInstance().closeUI(i)},e.prototype.createTitleImage=function(t){cc.loader.loadRes("images/OverTips/word",cc.SpriteAtlas,function(e,n){var r=this;if(e)console.log(e.message||e);else{var o=n.getSpriteFrame(l[t]),i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=o,i.parent=this.node,i.active=!1,this.img_titles.push(i),4==this.img_titles.length&&(this.endInAnimation=!0,this.spine_complete.node.active=!0,a.Tools.playSpine(this.spine_complete,"in",!1,function(){a.Tools.playSpine(r.spine_complete,"stand",!0),r.endInAnimation=!1}),s.AudioManager.getInstance().playSound("sfx_geupgrd",!1,1),setTimeout(function(){s.AudioManager.getInstance().playSound("\u201c\u4f60\u771f\u68d2\uff01\u7b49\u7b49\u8fd8\u6ca1\u505a\u5b8c\u7684\u540c\u5b66\u5427~",!1)},0))}}.bind(this))},e.prototype.update=function(){if(this.endInAnimation)for(var t=0;t<this.img_titles.length;t++)this.img_titles[t].active=!0,this.img_titles[t].position=cc.v2(this.bones[t].worldX-139,this.bones[t].worldY-135)},e.className="OverTips",o([h(cc.Label)],e.prototype,"label_tip",void 0),o([h(sp.Skeleton)],e.prototype,"spine_false",void 0),o([h(sp.Skeleton)],e.prototype,"spine_true",void 0),o([h(sp.Skeleton)],e.prototype,"spine_complete",void 0),o([h(cc.Node)],e.prototype,"node_close",void 0),e=i=o([p],e)}(i.BaseUI);n.OverTips=f,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/UIManager":"UIManager","../../UIComm/Tools":"Tools","../BaseUI":"BaseUI"}],Set:[function(t,e,n){"use strict";cc._RF.push(e,"d8d97HoTUFPm7oqXrj5GU8u","Set"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=t("./arrays"),i=t("./Dictionary"),a=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();n.default=a,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],StringExtension:[function(t,e,n){"use strict";cc._RF.push(e,"85c1bk+r3FHf5RqunqKCFt+","StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(arguments),r=0;return this.replace(/%s/g,function(t,e){return n[r++]})},cc._RF.pop()},{}],SubmissionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bdbeagD9lJH1p1yPQBbNwPK","SubmissionPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Manager/UIManager"),c=t("../../Http/NetWork"),s=t("../../Utils/UIHelp"),l=t("../../Data/ConstValue"),u=t("./ErrorPanel"),p=t("../../Data/DaAnData"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onQueDingBtnClick=function(t){this.DetectionNet()},e.prototype.onQuXiaoBtnClick=function(t){a.UIManager.getInstance().closeUI(n)},e.prototype.DetectionNet=function(){if(c.NetWork.title_id){var t=JSON.stringify({CoursewareKey:l.ConstValue.CoursewareKey,type:p.DaAnData.getInstance().type,itemArr:p.DaAnData.getInstance().itemArr,xArr:p.DaAnData.getInstance().xArr,yArr:p.DaAnData.getInstance().yArr,rotationArr:p.DaAnData.getInstance().rotationArr});c.NetWork.getInstance().httpRequest(c.NetWork.GET_TITLE+"?title_id="+c.NetWork.title_id,"GET","application/json;charset=utf-8",function(e,n){if(!e)if(null==n.data.courseware_content||""==n.data.courseware_content)this.AddNet(t);else{c.NetWork.courseware_id=n.data.courseware_id;var r=JSON.parse(n.data.courseware_content);c.NetWork.empty||(r.CoursewareKey==l.ConstValue.CoursewareKey?this.ModifyNet(t):a.UIManager.getInstance().openUI(u.default,null,1e3,function(){a.UIManager.getInstance().getUI(u.default).setPanel("\u8be5titleId\u5df2\u88ab\u4f7f\u7528,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+c.NetWork.title_id,"","","\u786e\u5b9a")}))}}.bind(this),null)}else a.UIManager.getInstance().openUI(u.default,null,1e3,function(){a.UIManager.getInstance().getUI(u.default).setPanel("titleId\u4e3a\u7a7a,\u8bf7\u8054\u7cfb\u6280\u672f\u8001\u5e08\u89e3\u51b3\uff01\ntitleId="+c.NetWork.title_id,"","","\u786e\u5b9a")})},e.prototype.AddNet=function(t){var e={title_id:c.NetWork.title_id,courseware_content:t,is_result:1,is_lavel:0};c.NetWork.getInstance().httpRequest(c.NetWork.ADD,"POST","application/json;charset=utf-8",function(t,e){t||(s.UIHelp.showTip("\u7b54\u6848\u63d0\u4ea4\u6210\u529f"),a.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.prototype.ModifyNet=function(t){var e={courseware_id:c.NetWork.courseware_id,courseware_content:t,is_result:1,is_lavel:0};c.NetWork.getInstance().httpRequest(c.NetWork.MODIFY,"POST","application/json;charset=utf-8",function(t,e){t||(s.UIHelp.showTip("\u7b54\u6848\u4fee\u6539\u6210\u529f"),a.UIManager.getInstance().closeUI(n))}.bind(this),JSON.stringify(e))},e.className="SubmissionPanel",e=n=o([f],e)}(i.BaseUI));n.default=d,cc._RF.pop()},{"../../Data/ConstValue":"ConstValue","../../Data/DaAnData":"DaAnData","../../Http/NetWork":"NetWork","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./ErrorPanel":"ErrorPanel"}],TeacherPanel:[function(t,e,n){"use strict";cc._RF.push(e,"70c27EBmWdPJYtgMQ9dyPZS","TeacherPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Manager/UIManager"),c=t("../../Http/NetWork"),s=t("../../Utils/UIHelp"),l=t("../../Data/DaAnData"),u=t("./GamePanel"),p=t("../../Manager/ListenerManager"),h=t("../../Data/ListenerType"),f=cc._decorator,d=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.toggleContainer=[],e.gridNode=null,e.node1=null,e.node2=null,e.materialNode=null,e.pointNode=null,e.layout=null,e.label=null,e.frame1=null,e.frame2=null,e.frame3=null,e.frame4=null,e.frame5=null,e.frame6=null,e.frame7=null,e.frame8=null,e.frame9=null,e.frame10=null,e.scrollview=null,e.boxWidth=0,e.boxHeight=0,e.num=0,e.type=0,e.itemArr=[],e.posArr=[],e.xArr=[],e.yArr=[],e.rotationArr=[],e.groupNumArr=[],e.itemNodeArr=[],e.selectArr=[],e.groupArr=[],e.groupInfoArr=[],e.touchTarget=null,e.isReset=!1,e}return r(e,t),e.prototype.start=function(){this.type=3,this.getNet()},e.prototype.setPanel=function(){switch(this.type){case 1:this.toggleContainer[0].isChecked=!0,this.setNode(4,this.isReset);break;case 2:this.toggleContainer[1].isChecked=!0,this.setNode(5,this.isReset);break;case 3:this.toggleContainer[2].isChecked=!0,this.setNode(6,this.isReset);break;default:console.error("there is a erro on toggle setting.")}this.materialNode.children[5].getComponent(cc.Button).interactable=!1,this.materialNode.children[5].getChildByName("Background").color=cc.color(200,200,200),this.initGame(),this.addMaterialCallback()},e.prototype.initGame=function(){for(var t=this.itemArr.slice(),e=[],n=0;n<t.length;++n)this.itemNodeArr[n].getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=this.getSpriteframe(t[n]);for(n=0;n<t.length;++n)if(5!=t[n]){var r=t[n];e=this.getPartner(n);var o=this.createGroup(e,this.getSpriteframe(r));o.setPosition(cc.v2(this.xArr[n],this.yArr[n])),o.angle=this.rotationArr[n];for(var i=0;i<o.children.length;++i)o.children[i].angle=-o.angle;this.groupArr.push(o),this.addListenerOnGroupNode(o);for(var a=0;a<e.length;++a)this.groupInfoArr[e[a]]=o,t[e[a]]=5}console.log(this.itemArr)},e.prototype.setNode=function(t,e){this.num=t,e&&(this.itemArr=[]),this.selectArr=[],this.posArr=[],this.groupArr=[],this.groupInfoArr=[],this.itemNodeArr=[],this.node1.removeAllChildren(),this.node2.getChildByName("group").removeAllChildren();var n=105*t+3*(t+1)+t-1;this.node1.width=n,this.boxWidth=570,this.boxHeight=850,this.gridNode.height=n;for(var r=0;r<t*t;++r){var o=cc.instantiate(this.itemPrefab);this.node1.addChild(o),this.itemNodeArr[r]=o,this.addListenerOnItem(o),this.addMouseListener(o),this.groupInfoArr[r]=null,e&&(this.itemArr[r]=5),this.groupNumArr[r]=0,this.posArr[r]=cc.v2(0,0)}},e.prototype.addMouseListener=function(t){var e=t.getChildByName("wb");t.on(cc.Node.EventType.MOUSE_MOVE,function(n){e.color.equals(cc.Color.WHITE)?(e.color=cc.color(220,220,220,255),t.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame&&(t.getChildByName("mask").active=!0)):e.color.equals(cc.Color.GRAY)&&(t.getChildByName("mask").active=!0)}),t.on(cc.Node.EventType.MOUSE_LEAVE,function(n){e.color.equals(cc.color(220,220,220,255))&&(e.color=cc.Color.WHITE,t.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame&&(t.getChildByName("mask").active=!1)),t.getChildByName("mask").active=!1})},e.prototype.getPartner=function(t){var e=[];e.push(t);for(var n=e.length,r=!1;!r;){for(var o in n=e.length,this.itemArr)for(var i in e){var a=parseInt(o);if(this.itemArr[o]==this.itemArr[t]&&-1==e.indexOf(a)&&this.groupNumArr[a]==this.groupNumArr[t]){var c=e[i];-1!=[c-1,c+1,c+this.num,c-this.num].indexOf(a)&&e.push(a)}}n==e.length&&(r=!0)}return e},e.prototype.correctPos=function(t,e){var n=0,r=0;e.angle%180==0?(n=e.width,r=e.height,n>this.boxWidth&&(e.angle=90,n=e.height,r=e.width)):(n=e.height,r=e.width,n>this.boxWidth&&(e.angle=0,n=e.width,r=e.height));for(var o=0;o<e.children.length;++o)e.children[o].angle=-e.angle;return t.x+n/2>this.boxWidth?t.x=this.boxWidth-n/2:t.x-n/2<3&&(t.x=n/2+3),t.y+r/2>-3?t.y=-3-r/2:t.y-r/2<-this.boxHeight&&(t.y=r/2-this.boxHeight),t},e.prototype.addListenerOnGroupNode=function(t){var e=this,n=cc.v2(0,0),r=cc.v2(0,0);t.on(cc.Node.EventType.TOUCH_START,function(r){e.touchTarget||(e.touchTarget=r.target,t.zIndex=100,e.scrollview.enabled=!1,n=e.node2.getChildByName("group").convertToNodeSpaceAR(r.currentTouch._point))}),t.on(cc.Node.EventType.TOUCH_MOVE,function(n){if(e.touchTarget==n.target){var r=e.node2.getChildByName("group").convertToNodeSpaceAR(n.currentTouch._point);r=e.correctPos(r,t),t.setPosition(r)}}),t.on(cc.Node.EventType.TOUCH_END,function(o){if(e.touchTarget==o.target&&(e.touchTarget=null,e.scrollview.enabled=!0,t.zIndex=10,r=e.node2.getChildByName("group").convertToNodeSpaceAR(o.currentTouch._point),n.equals(r))){t.angle-=90,t.angle<=-360&&(t.angle=0);for(var i=0;i<t.children.length;++i)t.children[i].angle=-t.angle;r=e.correctPos(r,t),t.setPosition(r)}}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(n){e.touchTarget==n.target&&(e.touchTarget=null,e.scrollview.enabled=!0,t.zIndex=10)})},e.prototype.removeListenerOnGroupNode=function(t){t.off(cc.Node.EventType.TOUCH_START),t.off(cc.Node.EventType.TOUCH_MOVE),t.off(cc.Node.EventType.TOUCH_END),t.off(cc.Node.EventType.TOUCH_CANCEL)},e.prototype.addListenerOnItem=function(t){var e=this,n=t.getChildByName("wb");t.on(cc.Node.EventType.TOUCH_START,function(r){if(!e.touchTarget){e.touchTarget=r.target;var o=e.itemNodeArr.indexOf(t);if(t.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame){var i=e.getPartner(o);if(!e.adjacent(i))return void s.UIHelp.showTip("\u4e0e\u5df2\u9009\u4e2d\u65b9\u683c\u8fb9\u8fb9\u76f8\u90bb\u7684\u65b9\u683c\u624d\u53ef\u4ee5\u88ab\u9009\u62e9\u3002");for(var a in i){var c=e.itemNodeArr[i[a]];if(c.getChildByName("shadow").active){c.getChildByName("shadow").active=!1;var l=e.selectArr.indexOf(c);e.selectArr.splice(l,1)}else e.selectArr.push(c),c.getChildByName("shadow").active=!0}}else{var u=[];if(u.push(e.itemNodeArr.indexOf(t)),!e.adjacent(u)&&-1==e.selectArr.indexOf(t))return void s.UIHelp.showTip("\u4e0e\u5df2\u9009\u4e2d\u65b9\u683c\u8fb9\u8fb9\u76f8\u90bb\u7684\u65b9\u683c\u624d\u53ef\u4ee5\u88ab\u9009\u62e9\u3002");n.color.equals(cc.Color.GRAY)?(n.color=cc.Color.WHITE,e.selectArr.splice(e.selectArr.indexOf(t),1)):(n.color=cc.Color.GRAY,e.selectArr.push(t))}0==e.selectArr.length?(e.materialNode.children[5].getComponent(cc.Button).interactable=!1,e.materialNode.children[5].getChildByName("Background").color=cc.color(200,200,200)):(e.materialNode.children[5].getComponent(cc.Button).interactable=!0,e.materialNode.children[5].getChildByName("Background").color=cc.color(255,255,255))}}),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){}),t.on(cc.Node.EventType.TOUCH_END,function(t){t.target==e.touchTarget&&(e.touchTarget=null)}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(t){t.target==e.touchTarget&&(e.touchTarget=null)})},e.prototype.sortNumber=function(t,e){return e-t},e.prototype.addMaterialCallback=function(){var t=this,e=this.materialNode.children,n=function(n){e[n].on("click",function(r){if(t.isComplete()){var o=[];for(var i in t.selectArr){var a=t.selectArr[i],c=t.itemNodeArr.indexOf(a),l=t.groupInfoArr[c];null!=l&&-1==o.indexOf(l)&&o.push(l)}for(var u=0;u<o.length;++u){i=t.groupArr.indexOf(o[u]);t.groupArr[i].removeFromParent(),t.groupArr.splice(i,1)}o=[];var p=[],h=e.indexOf(e[n]),f=t.getSpriteframe(h);for(var i in t.selectArr){a=t.selectArr[i],c=t.itemNodeArr.indexOf(a);p[parseInt(i)]=c,a.getChildByName("shadow").active=!1,a.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=f,a.getChildByName("wb").color=cc.Color.WHITE,t.itemArr[c]=h,t.groupNumArr[c]=t.selectArr.length}if(5!=h){var d=t.createGroup(p,f);t.addListenerOnGroupNode(d),t.groupArr.push(d)}else for(var g in p)t.groupInfoArr[p[g]]=null;p=[],t.selectArr=[],t.materialNode.children[5].getComponent(cc.Button),t.materialNode.children[5].getComponent(cc.Button).interactable=!1,t.materialNode.children[5].getChildByName("Background").color=cc.color(200,200,200)}else s.UIHelp.showTip("\u8bf7\u4fdd\u8bc1\u5df2\u9009\u4e2d\u7684\u65b9\u683c\u8fb9\u8fb9\u76f8\u90bb\u3002")})};for(var r in e)n(r)},e.prototype.createGroup=function(t,e){var n=[],r=[];for(var o in t){var i=Math.floor(t[o]/this.num),a=t[o]%this.num,c=parseInt(o);n[c]=i,r[c]=a}var s=Math.max.apply(Math,n),l=Math.min.apply(Math,n),u=Math.max.apply(Math,r),p=Math.min.apply(Math,r),h=s-l+1,f=u-p+1,d=new cc.Node;d.width=109*f,d.height=109*h;for(var g=0;g<t.length;++g){var y=109*-(n[g]-l-h/2+.5),v=109*(r[g]-p-f/2+.5),m=cc.instantiate(this.itemPrefab);m.getChildByName("bg").active=!1,m.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=e,d.addChild(m),m.setPosition(cc.v2(v,y))}var _=110*(p+f/2),I=110*-(l+h/2),A=this.correctPos(cc.v2(_,I),d);for(var o in this.node2.getChildByName("group").addChild(d),this.groupInfoArr[t[0]]&&(A=this.groupInfoArr[t[0]].position,d.angle=this.groupInfoArr[t[0]].angle),d.setPosition(A),t)this.posArr[t[o]]=cc.v2(_,I),this.groupInfoArr[t[o]]=d;return d},e.prototype.getSpriteframe=function(t){switch(t){case 0:return this.frame1;case 1:return this.frame2;case 2:return this.frame3;case 3:return this.frame4;case 4:return this.frame5;case 5:return null;case 6:return this.frame6;case 7:return this.frame7;case 8:return this.frame8;case 9:return this.frame9;case 10:return this.frame10;default:console.error("\u83b7\u53d6\u5b9d\u85cf\u7eb9\u7406\u5931\u8d25")}},e.prototype.adjacent=function(t){var e=[];if(this.selectArr.length){for(var n in this.selectArr){var r=this.itemNodeArr.indexOf(this.selectArr[n]);for(var o in e=[],e=[r-1,r+1,r+this.num,r-this.num],t)if(-1!=e.indexOf(t[o]))return!0}return!1}return!0},e.prototype.isComplete=function(){var t=[];for(var e in this.selectArr){var n=this.itemNodeArr.indexOf(this.selectArr[e]);t[parseInt(e)]=n}var r=0;for(var e in t){var o,i=t[e],a=t.slice();a.splice(parseInt(e),1),o=a.slice();var c=0;for(var s in o){-1!=[(n=o[s])-1,n+1,n+this.num,n-this.num].indexOf(i)&&c++}c>0&&r++}return r==this.selectArr.length},e.prototype.onToggleContainer=function(t){switch(this.toggleContainer.indexOf(t)){case 0:this.type=1,this.setNode(4,!0);break;case 1:this.type=2,this.setNode(5,!0);break;case 2:this.type=3,this.setNode(6,!0)}},e.prototype.pointOn=function(t){this.pointNode.active=!0,this.layout.on(cc.Node.EventType.TOUCH_START,null),this.label.string=t},e.prototype.pointOff=function(){this.layout.off(cc.Node.EventType.TOUCH_START,null),this.pointNode.active=!1},e.prototype.onBtnSaveClicked=function(){var t=0;for(var e in this.itemArr)5!=this.itemArr[e]&&t++;if(0!=t){for(var e in l.DaAnData.getInstance().type=this.type,l.DaAnData.getInstance().itemArr=this.itemArr.slice(),this.groupInfoArr){var n=parseInt(e);this.groupInfoArr[e]?(this.xArr[n]=this.groupInfoArr[e].x,this.yArr[n]=this.groupInfoArr[e].y,this.rotationArr[n]=this.groupInfoArr[e].angle):(this.xArr[n]=0,this.yArr[n]=0,this.rotationArr[n]=0)}l.DaAnData.getInstance().xArr=this.xArr.slice(),l.DaAnData.getInstance().yArr=this.yArr.slice(),l.DaAnData.getInstance().rotationArr=this.rotationArr.slice(),a.UIManager.getInstance().showUI(u.default,function(){p.ListenerManager.getInstance().trigger(h.ListenerType.OnEditStateSwitching,{state:1})})}else s.UIHelp.showTip("\u8bf7\u751f\u6210\u5b9d\u85cf\u3002")},e.prototype.getNet=function(){c.NetWork.getInstance().httpRequest(c.NetWork.GET_TITLE+"?title_id="+c.NetWork.title_id,"GET","application/json;charset=utf-8",function(t,e){if(console.log("\u6d88\u606f\u8fd4\u56de"+e),!t){var n=e;if(Array.isArray(n.data))return this.isReset=!0,void this.setPanel();var r=JSON.parse(n.data.courseware_content);c.NetWork.courseware_id=n.data.courseware_id,c.NetWork.empty?this.ClearNet():null!=r?(r.type?this.type=r.type:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636etype\u4e3a\u7a7a\u3002"),r.itemArr?this.itemArr=r.itemArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636eitemArr\u4e3a\u7a7a\u3002"),r.xArr?this.xArr=r.xArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636exArr\u4e3a\u7a7a\u3002"),r.yArr?this.yArr=r.yArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636eyArr\u4e3a\u7a7a\u3002"),r.rotationArr?this.rotationArr=r.rotationArr:console.error("\u7f51\u7edc\u8bf7\u6c42\u6570\u636erotationAarr\u4e3a\u7a7a\u3002"),this.setPanel()):this.setPanel()}}.bind(this),null)},e.prototype.ClearNet=function(){var t={courseware_id:c.NetWork.courseware_id};c.NetWork.getInstance().httpRequest(c.NetWork.CLEAR,"POST","application/json;charset=utf-8",function(t,e){t||s.UIHelp.showTip("\u7b54\u6848\u5220\u9664\u6210\u529f")}.bind(this),JSON.stringify(t))},e.className="TeacherPanel",o([g(cc.Prefab)],e.prototype,"itemPrefab",void 0),o([g([cc.Toggle])],e.prototype,"toggleContainer",void 0),o([g(cc.Node)],e.prototype,"gridNode",void 0),o([g(cc.Node)],e.prototype,"node1",void 0),o([g(cc.Node)],e.prototype,"node2",void 0),o([g(cc.Node)],e.prototype,"materialNode",void 0),o([g(cc.Node)],e.prototype,"pointNode",void 0),o([g(cc.Node)],e.prototype,"layout",void 0),o([g(cc.Label)],e.prototype,"label",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame1",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame2",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame3",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame4",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame5",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame6",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame7",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame8",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame9",void 0),o([g(cc.SpriteFrame)],e.prototype,"frame10",void 0),o([g(cc.ScrollView)],e.prototype,"scrollview",void 0),e=o([d],e)}(i.BaseUI);n.default=y,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Http/NetWork":"NetWork","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","./GamePanel":"GamePanel"}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"6a93cVTR3pJrpapom9vowVf","TimeManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.prototype.getNowFormatDate=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n>=1&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r);var o=t.getHours(),i=t.getMinutes(),a=t.getSeconds(),c=t.getMilliseconds();return o>=0&&o<=9&&(o="0"+o),i>=0&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a),c>=0&&c<=9&&(c="00"+c),c>=10&&c<=90&&(c="0"+c),e+":"+n+":"+r+":"+o+":"+i+":"+a+":"+c},t.instance=null,t}();n.TimeManager=r,cc._RF.pop()},{}],TipUI:[function(t,e,n){"use strict";cc._RF.push(e,"04f62OpblhMYb6+AOI+oOHr","TipUI");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../Item/Tip"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return r(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;e++)if(!this.tipPool[e].isReady())return this.tipPool[e].reset(),void this.tipPool[e].playTip(t);for(var n=0;n<this.tipPool.length;++n)if(null!=this.tipPool[n]&&this.tipPool[n].isReady())return this.tipPool[n].node.setSiblingIndex(200),void this.tipPool[n].playTip(t);cc.log("create tip");var r=cc.instantiate(this.tipPrefab);r.parent=this.node;var o=r.getComponent(a.Tip);this.tipPool.push(o),o.playTip(t)},e.className="TipUI",o([l(cc.Prefab)],e.prototype,"tipPrefab",void 0),e=o([s],e)}(i.BaseUI);n.TipUI=u,cc._RF.pop()},{"../BaseUI":"BaseUI","../Item/Tip":"Tip"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"c7373SoEY5LDIC2BLTSmOq3","Tip");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.neiRongNode=null,e.tipLabel=null,e.ready=!0,e}return r(e,t),e.prototype.playTip=function(t){this.neiRongNode.active=!0,this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),n=(cc.fadeIn(.5),cc.fadeOut(.5)),r=cc.spawn(e,n),o=cc.delayTime(1),i=cc.callFunc(function(){this.ready=!0},this),a=cc.sequence(o,r,i);this.node.runAction(a)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},o([c(cc.Node)],e.prototype,"neiRongNode",void 0),o([c(cc.Label)],e.prototype,"tipLabel",void 0),e=o([a],e)}(cc.Component);n.Tip=s,cc._RF.pop()},{}],TitleNode:[function(t,e,n){"use strict";cc._RF.push(e,"b276fOW8MRNTqj/bpy0hngz","TitleNode");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Manager/ListenerManager"),a=t("../../Data/ListenerType"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bianJiLabel=null,e.jianYanLabel=null,e.tiaoNode=null,e.heiSe=cc.color(0,0,0),e.huiSe=cc.color(127,127,127),e}return r(e,t),e.prototype.start=function(){this.bianJiLabel.node.color=this.heiSe,this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe,i.ListenerManager.getInstance().add(a.ListenerType.OnEditStateSwitching,this,this.onStateSwitching)},e.prototype.onStateSwitching=function(t){0==t.state?(this.jianYanLabel.node.color=this.huiSe,this.tiaoNode.color=this.huiSe):(this.jianYanLabel.node.color=this.heiSe,this.tiaoNode.color=this.heiSe)},o([l(cc.Label)],e.prototype,"bianJiLabel",void 0),o([l(cc.Label)],e.prototype,"jianYanLabel",void 0),o([l(cc.Node)],e.prototype,"tiaoNode",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Data/ListenerType":"ListenerType","../../Manager/ListenerManager":"ListenerManager"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"8c9926FhnVH2Z4Gs2ZXOlDV","Tools");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(t,e){this.time=0,this.pos=cc.Vec2.ZERO,this.time=t,this.pos=e}}();n.ArtMoveParam=o;var i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}return t.playSpine=function(t,e,n,r){void 0===r&&(r=null),t.setAnimation(0,e,n)&&t.setCompleteListener(function(t,n){(t.animation?t.animation.name:"")===e&&r&&null!=r&&r()})},t.getQueryVariable=function(t){if((e=window.location.href.split("?")).length<2)return!1;for(var e=e[1].split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(r[0]==t)return r[1]}return!1},t.runArtMoveSequence=function(t,e,n){void 0===n&&(n=null);var r=t.getPosition().sub(e[e.length-1].pos);function o(t){return t.add(r)}if(t.setPosition(o(e[0].pos)),e.length<=1)n&&n();else{for(var i=[],a=1;a<e.length-1;a++){var c=.001*(e[a].time-e[a-1].time);i.push(cc.moveTo(c,o(e[a].pos)))}n&&i.push(cc.callFunc(n)),t.runAction(cc.sequence(i))}},t.getNowTimeMS=function(){return(new Date).getTime()},t.getNowTimeS=function(){return Math.floor(.001*(new Date).getTime())},t.getFormatTime=function(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=t%60;return n<10&&(n="0"+n),e+":"+n},t=r([a],t)}());n.Tools=c,cc._RF.pop()},{}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"c44e6cLg85JzaIFNvBdsH7x","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Manager/UIManager"),o=t("../UI/panel/TipUI"),i=t("../UI/Item/affirmTips"),a=t("../UI/Item/OverTips"),c=function(){function t(){}return t.showTip=function(e){var n=r.UIManager.getInstance().getUI(o.TipUI);n?n.showTip(e):r.UIManager.getInstance().openUI(o.TipUI,null,213,function(){t.showTip(e)})},t.showOverTip=function(e,n,o,i){void 0===n&&(n=""),void 0===o&&(o=null);var c=r.UIManager.getInstance().getUI(a.OverTips);c?c.init(e,n,o,i):r.UIManager.getInstance().openUI(a.OverTips,null,210,function(){t.showOverTip(e,n,o,i)})},t.AffirmTip=function(e,n,o,a,c){var s=r.UIManager.getInstance().getUI(i.AffirmTips);s?s.init(e,n,o,a,c):r.UIManager.getInstance().openUI(i.AffirmTips,null,210,function(){t.AffirmTip(e,n,o,a,c)})},t}();n.UIHelp=c,cc._RF.pop()},{"../Manager/UIManager":"UIManager","../UI/Item/OverTips":"OverTips","../UI/Item/affirmTips":"affirmTips","../UI/panel/TipUI":"TipUI"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiRoot=cc.find("Canvas")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,r,o){for(var i=this,a=[],c=5;c<arguments.length;c++)a[c-5]=arguments[c];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){o&&o(t,e,n)},function(o,c){if(o)cc.log(o);else if(!i.getUI(t)){var s=cc.instantiate(c);s.parent=i.uiRoot,n&&(s.zIndex=n);var l=s.getComponent(t);l.data=e,l.tag=t,i.uiList.push(l),r&&r(a)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e,n){var r=this,o=this.getUI(t);o?(o.data=e,o.node.active=!0,o.onShow(),n&&n()):this.openUI(t,e,0,function(){n&&n(),r.getUI(t).onShow()})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();n.UIManager=r,cc._RF.pop()},{}],UploadAndReturnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8a2a4ho4VlCloJCvzPCR9a/","UploadAndReturnPanel");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Manager/UIManager"),c=t("./GamePanel"),s=t("./SubmissionPanel"),l=t("../../Manager/ListenerManager"),u=t("../../Data/ListenerType"),p=t("../../Data/DaAnData"),h=t("../../Utils/UIHelp"),f=t("../Item/OverTips"),d=t("../../Manager/AudioManager"),g=cc._decorator,y=g.ccclass,v=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.onFanHui=function(){l.ListenerManager.getInstance().trigger(u.ListenerType.OnEditStateSwitching,{state:0}),a.UIManager.getInstance().closeUI(c.default),a.UIManager.getInstance().closeUI(n),a.UIManager.getInstance().closeUI(f.OverTips),a.UIManager.getInstance().closeUI(s.default),p.DaAnData.getInstance().submitEnable=!1,d.AudioManager.getInstance().stopAll()},e.prototype.onTiJiao=function(){p.DaAnData.getInstance().submitEnable?a.UIManager.getInstance().openUI(s.default,null,211):h.UIHelp.showTip("\u8bf7\u901a\u5173\u540e\u8fdb\u884c\u4fdd\u5b58\u3002")},e.className="UploadAndReturnPanel",e=n=o([y],e)}(i.BaseUI));n.default=v,cc._RF.pop()},{"../../Data/DaAnData":"DaAnData","../../Data/ListenerType":"ListenerType","../../Manager/AudioManager":"AudioManager","../../Manager/ListenerManager":"ListenerManager","../../Manager/UIManager":"UIManager","../../Utils/UIHelp":"UIHelp","../BaseUI":"BaseUI","../Item/OverTips":"OverTips","./GamePanel":"GamePanel","./SubmissionPanel":"SubmissionPanel"}],affirmTips:[function(t,e,n){"use strict";cc._RF.push(e,"67e25WAGoRADq1zkpxqqwdF","affirmTips");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../BaseUI"),a=t("../../Manager/UIManager"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeDes=null,e.title=null,e.des=null,e.close=null,e.ok=null,e.btnCloseLabel=null,e.btnOkLabel=null,e.win=null,e.fail=null,e.callback=null,e}var n;return r(e,t),n=e,e.prototype.start=function(){},e.prototype.init=function(t,e,n,r,o){this.title.node.active=!1,this.des.node.active=!0,this.win.active=1==t,this.fail.active=2==t,this.type=t,this.callback=n,this.des.string=e,this.callback=n,r&&(this.btnCloseLabel.string=r),o&&(this.btnOkLabel.string=o)},e.prototype.setOnlyOneBtnType=function(t){this.close.node.active=!1,this.ok.node.active=!0,this.ok.node.position=cc.v2(0,this.ok.node.position.y),t&&(this.btnOkLabel.string=t,t.length>4&&(this.btnOkLabel.fontSize=40))},e.prototype.OnClickClose=function(){},e.prototype.TipsAnimatorScale=function(t){t.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.2,1,1));t.runAction(e)},e.prototype.OnClickOk=function(){console.log("\u786e\u8ba4"),a.UIManager.getInstance().closeUI(n),this.callback(1)},e.prototype.OnClickCancel=function(){console.log("\u53d6\u6d88"),a.UIManager.getInstance().closeUI(n)},e.className="AffirmTips",o([l(cc.Node)],e.prototype,"NodeDes",void 0),o([l(cc.Label)],e.prototype,"title",void 0),o([l(cc.Label)],e.prototype,"des",void 0),o([l(cc.Button)],e.prototype,"close",void 0),o([l(cc.Button)],e.prototype,"ok",void 0),o([l(cc.Label)],e.prototype,"btnCloseLabel",void 0),o([l(cc.Label)],e.prototype,"btnOkLabel",void 0),o([l(cc.Node)],e.prototype,"win",void 0),o([l(cc.Node)],e.prototype,"fail",void 0),e=n=o([s],e)}(i.BaseUI);n.AffirmTips=u,cc._RF.pop()},{"../../Manager/UIManager":"UIManager","../BaseUI":"BaseUI"}],arrays:[function(t,e,n){"use strict";cc._RF.push(e,"b058arw+iJCUoMo5lRZ29ul","arrays"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util");function o(t,e,n){for(var o=n||r.defaultEquals,i=t.length,a=0;a<i;a++)if(o(t[a],e))return a;return-1}n.indexOf=o,n.lastIndexOf=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],e))return i;return-1},n.contains=function(t,e,n){return o(t,e,n)>=0},n.remove=function(t,e,n){var r=o(t,e,n);return!(r<0||(t.splice(r,1),0))},n.frequency=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length,a=0,c=0;c<i;c++)o(t[c],e)&&a++;return a},n.equals=function(t,e,n){var o=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,a=0;a<i;a++)if(!o(t[a],e[a]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var r=t[e];return t[e]=t[n],t[n]=r,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,e){for(var n=0,r=t;n<r.length;n++)if(!1===e(r[n]))return},cc._RF.pop()},{"./util":"util"}],util:[function(t,e,n){"use strict";cc._RF.push(e,"c9cacB846tOCorK/Mt3JpJs","util"),Object.defineProperty(n,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function i(t){return void 0===t}function a(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,e){return r.call(t,e)},n.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},n.defaultEquals=function(t,e){return t===e},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":a(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(a(t))return t.toString();var r="{",o=!0;for(var c in t)n.has(t,c)&&(o?o=!1:r+=e,r=r+c+":"+t[c]);return r+"}"},n.isFunction=o,n.isUndefined=i,n.isString=a,n.reverseCompareFunction=function(t){return i(t)||!o(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},n.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}},cc._RF.pop()},{}]},{},["BaseConfigContainer","ConstValue","CustomTypes","DaAnData","DataReporting","GameData","ListenerType","NetWork","GameMain","AudioManager","ListenerManager","TimeManager","UIManager","Tools","BaseUI","OverTips","Tip","affirmTips","ErrorPanel","GamePanel","LoadingUI","SubmissionPanel","TeacherPanel","TipUI","TitleNode","UploadAndReturnPanel","AdaptiveScreen","AudioPlayExtension","BoundingBoxDemo","BoundingBoxHelp","FadeUIPlugin","LogWrap","MathExtension","MathUtils","StringExtension","UIHelp","Dictionary","Set","arrays","util"]);