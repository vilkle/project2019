{"version":3,"sources":["../../../../../../assets/scripts/UI/Item/assets/scripts/UI/Item/OverTips.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/scripts/UI/Item","sourcesContent":["\nimport { BaseUI } from \"../BaseUI\";\nimport { Tools } from \"../../UIComm/Tools\";\nimport { UIManager } from \"../../Manager/UIManager\";\nimport { GameMain } from \"../../Main/GameMain\";\n\nconst {ccclass, property} = cc._decorator;\n@ccclass\nexport  class OverTips extends BaseUI {\n\n    protected static className = \"OverTips\";\n    \n    @property(cc.Node)\n    private NodeDes: cc.Node = null; //描述节点\n    @property(cc.Label)\n    private des: cc.Label= null;\n    @property(cc.Label)\n    private time: cc.Label= null;\n    @property(cc.Button)\n    private close: cc.Button= null;\n    @property(sp.Skeleton)\n    private sp_BgAnimator: sp.Skeleton= null; // 背景动画\n    @property(sp.Skeleton)\n    private sp_lightAnimator: sp.Skeleton= null; // 光动画\n    @property(cc.Button)\n    private rightButton: cc.Button= null;\n    @property(cc.Button)\n    private leftButton: cc.Button= null;\n    @property(cc.Button)\n    private closeButton: cc.Button= null;\n    @property(cc.Layout)\n    private layout: cc.Layout= null;\n\n    private callback = null;\n    private type:number;\n    start () {\n\n    }\n\n    //type 通关1 成功 2 失败 3\n    init(type:number, time : number, str:string, callback1?:any, callback2?:any) {\n        this.type = type;\n        //this.callback = callback;\n        Tools.playSpine(this.sp_BgAnimator, \"fault\", false);\n        let minutes = time / 60 >> 0;\n        let second = time % 60;\n        var timestr = '用时 ' + minutes.toString() + ':'+ second.toString();\n        this.time.string = timestr;\n        this.NodeDes.setScale(0.001, 0.001);\n        //this.callback = callback;\n        this.layout.node.on(cc.Node.EventType.TOUCH_START, function(e){\n            e.stopPropagation();\n        });\n        if (type == 1) {\n            this.Successful(str,1);\n            this.close.node.active = false;\n            this.leftButton.node.active = false;\n            this.closeButton.node.active = false;\n            this.rightButton.node.active = false;\n            this.leftButton.node.on('click', callback1, this);\n            this.rightButton.node.on('click', callback2, this);\n        } else if (type == 2) {\n            this.Successful(str,2);\n           this.close.node.active = false;\n           this.leftButton.node.active = false;\n           this.rightButton.node.active = false;\n           this.closeButton.node.active = false;\n        }else if(type == 3) {\n            this.failure(str);\n            this.time.node.active = false;\n            this.closeButton.node.active = false;\n            this.rightButton.node.active = false;\n            this.leftButton.node.active = false;\n            this.time.node.active = false;\n\n            this.close.node.active = true;\n        }\n        this.TipsAnimatorScale(this.NodeDes);\n\n    }\n\n     //成功\n     Successful(str:string, type:number) {\n        this.des.node.active = true;\n        this.sp_lightAnimator.node.active = true;\n        Tools.playSpine(this.sp_BgAnimator, \"fault\", false);\n        Tools.playSpine(this.sp_BgAnimator, \"right_1\", false, function () {\n           if(type == 1) {\n                this.leftButton.node.active = true;\n                this.closeButton.node.active = true;\n           }else if(type == 2) {\n                this.leftButton.node.active = true;\n                this.rightButton.node.active = true;\n           }\n        }.bind(this));\n        Tools.playSpine(this.sp_lightAnimator, \"light\", false, function () {\n        }.bind(this));\n        this.des.string = str;\n        this.des.node.color = new cc.Color(39, 178, 187);\n    }\n\n    //失败\n    failure(str:string) {\n        this.des.node.active = true;\n        this.sp_lightAnimator.node.active = false;\n        Tools.playSpine(this.sp_BgAnimator, \"fault\", false);\n        this.des.string = str;\n        // this.des.node.color = new cc.Color(39, 178, 187);\n    }\n\n    OnClickClose() {\n        \n        UIManager.getInstance().closeUI(OverTips);\n    \n    }\n\n     //通用动画\n     TipsAnimatorScale(nodeObj:cc.Node){\n        nodeObj.stopAllActions();\n        var seq = cc.sequence(\n            cc.delayTime(1),\n            cc.scaleTo(0.2, 1, 1),\n            );\n           nodeObj.runAction(seq);\n         // nodeObj.runAction(cc.scaleTo(0.2, 1, 1));\n\n    }\n\n    // update (dt) {}\n}\n"]}