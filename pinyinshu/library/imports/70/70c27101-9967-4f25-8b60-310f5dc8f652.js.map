{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\UI\\panel/assets\\scripts\\UI\\panel\\TeacherPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\UI\\panel","sourcesContent":["import { BaseUI, UIClass } from \"../BaseUI\";\nimport { UIManager } from \"../../Manager/UIManager\";\nimport SubmissionPanel from \"./SubmissionPanel\";\nimport { NetWork } from \"../../Http/NetWork\";\nimport { LogWrap } from \"../../Utils/LogWrap\";\nimport {DaAnData} from \"../../Data/DaAnData\";\nimport { ConstValue } from \"../../Data/ConstValue\";\nimport GamePanel from \"./GamePanel\";\nimport {ListenerManager} from \"../../Manager/ListenerManager\";\nimport {ListenerType} from \"../../Data/ListenerType\";\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TeacherPanel extends BaseUI {\n    protected static className = \"TeacherPanel\";\n\n    @property(cc.EditBox)\n    checkpointsEditBox : cc.EditBox;\n    @property(cc.EditBox)\n    NumEditBox : cc.EditBox;\n    @property(cc.Button)\n    submissonButton : cc.Button;\n    @property(cc.Node)\n    tipNode : cc.Node;\n  \n    onLoad () {\n        this.getNet();\n    }\n\n    start() {\n        \n    }\n\n    update() {\n\n    }\n\n    initData() {\n        this.checkpointsEditBox.string = String(DaAnData.getInstance().checkpointsNum);\n        this.NumEditBox.string = String(DaAnData.getInstance().number);\n    }\n\n    ShowTips(tipString : string) {\n        this.tipNode.active = true;\n        this.tipNode.getChildByName(\"label\").getComponent(cc.Label).string = tipString;\n        this.tipNode.getChildByName(\"layout\").on(cc.Node.EventType.TOUCH_START, function(e) {\n            e.stopPropagation();\n        });\n    }\n\n    closeTip() {\n        this.tipNode.active = false;\n    }\n\n    button() {\n        cc.log(\"checkpoint num\", DaAnData.getInstance().checkpointsNum, DaAnData.getInstance().number);\n        if(this.errorChecking()) {\n            UIManager.getInstance().showUI(GamePanel, () => {\n                ListenerManager.getInstance().trigger(ListenerType.OnEditStateSwitching, {state: 1}); \n        });\n    }\n    }\n\n    checkpointEditingEnd(sender) {\n        var text = this.checkpointsEditBox.string;\n        switch(text){\n            case \"1\":\n                DaAnData.getInstance().checkpointsNum = 1;\n                break;\n            case \"2\":\n                DaAnData.getInstance().checkpointsNum = 2;\n                break;\n            case \"3\":\n                DaAnData.getInstance().checkpointsNum = 3;\n                break;\n            case \"4\":\n                DaAnData.getInstance().checkpointsNum = 4;\n                break;\n            default:\n               this.checkpointsEditBox.string = '';\n               DaAnData.getInstance().checkpointsNum = 0;\n            break\n        }\n    }\n\n    numberEditingEnd(sender) {\n        DaAnData.getInstance().number = 0;\n        var text = this.NumEditBox.string;\n        var num = Number(text);\n        if(num > 0) {\n            DaAnData.getInstance().number = num;\n        }else {\n            this.NumEditBox.string = '';\n            DaAnData.getInstance().number = 0;\n\n        }\n    }\n\n    errorChecking():boolean {\n        if(DaAnData.getInstance().checkpointsNum == 0) {\n            this.ShowTips(\"关卡数不能为空，请输入关卡数。\");\n            return false;\n        }else if(DaAnData.getInstance().number == 0) {\n            this.ShowTips(\"被分解质因数的数不能为空。\");\n            return false;\n        }else {\n            return true;\n        }\n\n    }\n    \n    getNet() {\n        NetWork.getInstance().httpRequest(NetWork.GET_TITLE + \"?title_id=\" + NetWork.title_id, \"GET\", \"application/json;charset=utf-8\", function (err, response) {\n            if (!err) {\n                let response_data = JSON.parse(response);\n                if (response_data.data.courseware_content == null) {\n                } else {\n                   let data = JSON.parse(response_data.data.courseware_content);\n                   DaAnData.getInstance().number = data.number;\n                   DaAnData.getInstance().checkpointsNum = data.checkpointsNum;\n                   cc.log(\"number is\", DaAnData.getInstance().number);\n                   cc.log(\"checkpointsNum is \", DaAnData.getInstance().checkpointsNum);\n                   this.initData();\n                }\n            } \n        }.bind(this), null);\n    }\n}\n"]}